var Io=Object.defineProperty,qo=Object.defineProperties;var Ro=Object.getOwnPropertyDescriptors;var Js=Object.getOwnPropertySymbols;var Oo=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable;var zs=(n,e,t)=>e in n?Io(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,et=(n,e)=>{for(var t in e||(e={}))Oo.call(e,t)&&zs(n,t,e[t]);if(Js)for(var t of Js(e))Mo.call(e,t)&&zs(n,t,e[t]);return n},yt=(n,e)=>qo(n,Ro(e));import{v as Uo,S as Lo,a as mt,i as ht,s as pt,d as B,g as Xs,b as gt,c as Ft,o as Jt,e as Gn,f as kt,h as _e,q as on,F as ve,j as Ks,k as Vs,l as Zs,m as xs,n as T,t as fe,p as C,r as j,u as G,w as v,x as Ne,y as Je,z as Fn,A as Jn,B as F,C as Ie,D,E as $,G as qe,H as O,I as We,J as W,K as He,L as be,M as Re,N as Oe,O as Yo,P as $s,Q as Me,R as vt,T as pe,U as zt,V as at,W as tt,X as Do,Y as Bo,Z as St,_ as ei,$ as ti,a0 as ye,a1 as Wo,a2 as ni,a3 as Ho,a4 as Qo,a5 as Go,a6 as si,a7 as zn,a8 as ii,a9 as oi,aa as ai,ab as an,ac as ri,ad as li,ae as rn,af as Yt,ag as Dt,ah as ci,ai as Tn,aj as ui,ak as _i,al as fi,am as Xn,an as jn,ao as di,ap as mi,aq as hi,ar as Kn,as as pi,at as gi,au as Vn,av as Zn,aw as xn,ax as Xt,ay as wi,az as Bt,aA as bi,aB as yi,aC as ki,aD as Fo,aE as Kt}from"./vendor.99894165.js";const Jo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}};Jo();const vi={en:{}},At={red:{color:"#a00000",labels:{en:"red"}},green:{color:"#006000",labels:{en:"green"}},blue:{color:"#0000a0",labels:{en:"blue"}},black:{color:"#000000",labels:{en:"black"}}},Nn=Object.keys(At),Vt={triangle:{symbol:"\u25B2",labels:{en:"triangle"}},square:{symbol:"\u25A0",labels:{en:"square"}},circle:{symbol:"\u25CF",labels:{en:"circle"}},star:{symbol:"\u2605",labels:{en:"star"}}},In=Object.keys(Vt),Tt={nobody_has:{describe:{en:n=>`nobody has ${n||"..."}`}},i_have:{describe:{en:n=>`my chip is ${n||"..."}`}}},Zt=Object.keys(Tt),Si={attention:[{labels:{en:"the Arbiter approaches..."}}],loading:[{delay:2e3,interval:200,labels:{en:"hmmm"}},{delay:250,interval:500,labels:{en:"hmmm...."}}]},$n="pulsar-2",es="pulsar-2",qn="https://lcd.testnet.secretsaturn.net",ln="	https://rpc.testnet.secretsaturn.net",cn=n=>(Number(n/10000n)/100).toFixed(2).replace(/\.?0+$/,"")+" SCRT";class ts extends Error{constructor(e,t){t?t instanceof TypeError?super(`${e}: ${t.stack}`):t instanceof Error?super(`${e}: ${t.stack}`):super(`${e}: Unknown error`):super(e)}}const rt=1e3,ns=60*rt,Wt=60*ns,lt=24*Wt,Ei=7*lt,Pi=30*lt,Ci=365*lt,De=Object.entries;function Ai(n,e){return De(n).reduce((t,[s,o])=>[...t,e(s,o)],[])}function H(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}function ss(){return new Promise(()=>{})}const Se=n=>n[0].toUpperCase()+n.slice(1),zo=[{ge:Ci,divisor:Ci,unit:"year"},{ge:Pi,divisor:Pi,unit:"month"},{ge:Ei,divisor:Ei,unit:"week"},{ge:lt,divisor:lt,unit:"day"},{ge:Wt,divisor:Wt,unit:"hour"},{ge:ns,divisor:ns,unit:"minute"},{ge:rt,divisor:rt,unit:"seconds"},{ge:0,divisor:1,text:"just now"}];function Ti(n,e=Date.now(),t=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"})){const o=(typeof e=="object"?e.getTime():new Date(e).getTime())-(typeof n=="object"?n:new Date(n)).getTime(),r=Math.abs(o);for(const a of zo)if(r>=a.ge){const c=Math.round(Math.abs(o)/a.divisor),u=o<0;return a.unit?t.format(u?c:-c,a.unit):a.text}}class ji{constructor(){this._as_intervals=new Set,this._as_timeouts=new Set}addInterval(e,t){const s=window.setInterval(e,t);return this._as_intervals.add(s),s}addTimeout(e,t){const s=window.setTimeout(()=>{this.delTimeout(s),e()},t);return this._as_timeouts.add(s),s}delInterval(e){window.clearInterval(e),this._as_intervals.delete(e)}delTimeout(e){window.clearTimeout(e),this._as_timeouts.delete(e)}killAll(){for(const e of this._as_intervals)this.delInterval(e);for(const e of this._as_timeouts)this.delTimeout(e)}}async function Xo(n,e,t=null){if(t==null?void 0:t.search){if(e.includes("?"))throw new Error(`Cannot specify 'search' option in fetch config when URI already contains search params: "${e}"`);e+="?"+new URLSearchParams(t.search).toString(),delete t.search}try{return await Uo(e,yt(et({},t),{method:n,mode:"cors",headers:et({Accept:"application/json"},(t||{}).headers||{})})).json()}catch(s){throw s}}async function Ni(n,e=null){return Xo("GET",n,e)}const jt="secret1jyxjyrmd3nrs2yrupyvl6ptexpr6y4uyn785dc",Ii="71a4eacafbc5c4e714ed8b993e4829b7adc1c454eeed108bf45ab5ca24d8d0a1",xt="secret1vux78y49ehf29kf7pjujvwsa2td6dyyxkkslne",qi="7c673145b37899e348b56a39620990a62424a531462ceccf1c36f3b935130f89";class un extends Error{constructor(e){super(`The game contract returned the following error: ${e}`)}}const Ko="10000000",Vo=new TextDecoder;class Ri{constructor(e,t,s,o){this._k_wallet=e,this._p_contract=t,this._g_permit=s||null,this._si_code_hash=o}async execute(e,t,s=[]){const o=await this._k_wallet.execute(this._p_contract,e,s,t,this._si_code_hash);return{txnHash:o.transactionHash,data:JSON.parse(Vo.decode(o.data))}}query(e){return this._g_permit&&(e={with_permit:{query:e,permit:this._g_permit}}),this._k_wallet.query(this._p_contract,e)}}const _n=180000n;class Oi extends Ri{async queryGameState(){const e=await this.query({game_state:{}});if(e.error)throw new un(e.error);return e.game_state}joinGame(){return this.execute({join:{}},{amount:[{amount:"81000",denom:"uscrt"}],gas:""+_n},[{denom:"uscrt",amount:Ko}])}submitAssertion(e,t){const[s,o]=t.split(":"),r=s==="color"?{color:o}:{shape:o};return this.execute({submit:et({target:e},r)},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+_n})}submitGuess(e){return this.execute({guess:e},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+_n})}pickReward(e){return this.execute({pick_reward:{reward:e}},{amount:[{amount:"56250",denom:"uscrt"}],gas:""+25n*_n})}forceEndgame(){return this.execute({force_endgame:{}},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+_n})}}class Mi extends Ri{async queryListNfts(){const e=await this.query({tokens:{owner:this._k_wallet.publicAddress}});if(e.error)throw new un(e.error);return e}async queryNftInfo(e){const t=await this.query({private_metadata:{token_id:e}});if(t.error)throw new un(t.error);return t}async*queryNfts(){const e=await this.queryListNfts();for(const t of e.token_list.tokens)yield await this.queryNftInfo(t)}}const Zo=(n,e)=>e<60*rt?Date.now()-n.lastUpdated>5*rt:Date.now()-n.lastUpdated>30*rt,Ui=200;console.log(`Imposing global ${Ui} blocks per 5 minutes estimate`);let is=!1,Rn=0n,Li=0,Yi=0;async function xo(){if(Date.now()-Yi<5*rt)return;const n=new URL(ln);n.pathname="/status";try{const e=await Ni(n.href),{latest_block_height:t,latest_block_time:s}=e.data.result.sync_info;Rn=BigInt(t),Li=new Date(s).getTime(),Yi=Date.now()}catch{}}class Et{constructor(e,t=Ui,s=Zo){this._xt_start=0,this._xt_eta=0,this._xt_updated=0,this._b_currently_updating=!1,this._xg_block_start=BigInt(e),this._xg_block_dest=this._xg_block_start+BigInt(t),this._f_should_update=()=>s(this,this._xt_eta-Date.now())}async fetch_start_time(){const e=new URL(ln);e.pathname="/block";const t=await Ni(e.href,{search:{height:this._xg_block_start+""}});this._xt_start=new Date(t.data.result.block.header.time).getTime()}async estimate(){is=!0,this._xt_start||await this.fetch_start_time(),await xo();const e=Number(Rn-this._xg_block_start);if(e<5)return 0;const t=(Li-this._xt_start)/e,s=Number(this._xg_block_dest-Rn),o=this._xt_updated=Date.now();return is=!1,this._xt_eta=o+Math.round(s*t)}get lastUpdated(){return this._xt_updated}get destinationBlock(){return this._xg_block_dest}get expired(){return Rn>=this.destinationBlock}get ready(){return this._xt_eta!==0}get eta(){return!this.expired&&!is&&this._f_should_update()&&this.estimate(),this._xt_eta}get remaining(){return this.eta-Date.now()}}const os="prisnr.games: Game State Permit";class as extends ts{constructor(e){super("While attempting to enable Keplr",e)}}class rs extends ts{constructor(e){super("While attempting to acquire offline signer",e)}}class $o extends ts{constructor(e){super("While attempting to acquire enigma utils",e)}}class $t{constructor(e){this._b_disabled=!1,this._f_change_listener=null,this._k_keplr=e}static isAvailable(){return!!window.keplr}static fromWindow(){if(window.keplr)return new $t(window.keplr);throw new Error("Keplr extension is not installed")}disable(){this._f_change_listener&&window.removeEventListener("keplr_keystorechange",this._f_change_listener),this._b_disabled=!0}async enable(e,t){if(this._b_disabled)return!1;const s=this._si_chain=e.chainId;this._fk_change=t;try{await this._k_keplr.experimentalSuggestChain({chainId:s,chainName:e.chainName,rpc:e.rpc,rest:e.rest,bip44:{coinType:529},coinType:529,stakeCurrency:{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6},bech32Config:{bech32PrefixAccAddr:"secret",bech32PrefixAccPub:"secretpub",bech32PrefixValAddr:"secretvaloper",bech32PrefixValPub:"secretvaloperpub",bech32PrefixConsAddr:"secretvalcons",bech32PrefixConsPub:"secretvalconspub"},currencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],feeCurrencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],gasPriceStep:{low:.4,average:.4,high:.4},features:["secretwasm"]})}catch{return!1}try{await this._k_keplr.enable(s)}catch(o){throw new as(o)}try{this._k_signer=window.getOfflineSigner(s)}catch(o){throw new rs(o)}try{this._k_enigma=window.getEnigmaUtils(s)}catch(o){throw new $o(o)}return this._g_key=await this._k_keplr.getKey(s),this._a_accounts=await this._k_signer.getAccounts(),this._k_client=new Lo(qn,this.publicAddress,this._k_signer,this._k_enigma,{exec:{amount:[{amount:"62500",denom:"uscrt"}],gas:"250000"}}),window.addEventListener("keplr_keystorechange",this._f_change_listener=async()=>{(await this._k_keplr.getKey(s)).bech32Address!==this.publicAddress&&this._fk_change()}),!0}get chain(){return this._si_chain}get key(){return this._g_key}get accounts(){return this._a_accounts}get primaryAccount(){return this.accounts[0]}get publicAddress(){return this.primaryAccount.address}async signQueryPermit(){return this._b_disabled?ss():(await this._k_keplr.signAmino(this.chain,this.publicAddress,{chain_id:this.chain,account_number:"0",sequence:"0",fee:{amount:[{denom:"uscrt",amount:"0"}],gas:"1"},msgs:[{type:"query_permit",value:{permit_name:os,allowed_tokens:[jt,xt],permissions:["owner"]}}],memo:""},{preferNoSetFee:!0,preferNoSetMemo:!0})).signature}execute(e,t,s,o,r){if(this._b_disabled)return ss();let a="";if(o&&(a+=` --gas ${o.gas}`),s&&s.length){const c=s[0];a+=` --amount ${c.amount}${c.denom}`}return this._k_client.execute(e,t,"",s,o,r||void 0)}query(e,t,s,o){return this._b_disabled?ss():this._k_client.queryContractSmart(e,t,s||{},o||void 0)}}const On=(n,e)=>n.querySelector(e),Di=(n,e)=>Array.prototype.slice.call(n.querySelectorAll(e),0);function Ee(n,e={},t=[]){const s=document.createElement(n);for(const o in e)s.setAttribute(o,e[o]+"");for(const o of t)s.append(o);return s}function fn(){return document.cookie.split(";").reduce((n,e)=>{const t=e.trim().split("=");return yt(et({},n),{[t[0]]:t.slice(1).join("=")})},{})}function en(n){const e=fn();if(!(n in e))return null;let t;try{t=JSON.parse(e[n])}catch{console.error(`failed to parse cookie JSON value associated with key '${n}'`),tn(n)}return t}function wt(n,e){const t={};for(const[s,o]of De(n))typeof o=="string"?t[s]=o:o===null||typeof o=="undefined"?tn(s):t[s]=JSON.stringify(o);document.cookie=Object.entries(yt(et({},t),{"max-age":""+e})).map(([s,o])=>`${s}=${o}`).join("; ")}function tn(n){return wt({[n]:""},0)}const ea=65535,Bi=128,ta="RGBK\u25B2\u2586\u25CF\u2605";function Wi(n){let e=[];for(let t=0;t<8;t++)n&Bi?e.push(ta[t]):e.push(" "),n=n<<1;return`[${e.join(",")}]`}function Mn(n,e=!1){const[t,s]=n.split(":");if(t==="color"){const o=Nn.indexOf(s);return 1<<7-o|(e?15:0)}else{const o=In.indexOf(s);return 1<<3-o|(e?240:0)}}function Ht(n){const[e,t]=n.split(":");return`${e==="shape"?"a ":""}${t}`}function Qt(n){const[e,t]=n.split("|");return`${e==="nobody_has"?"nobody has ":"my chip is"} ${Ht(t)}`}class dn{constructor(e=ea){this._xm_deduce=e}clone(){return new dn(this._xm_deduce)}nobody(e){let t=Mn(e);return t|=t<<8,this._xm_deduce&=~t,this}opponent(e,t){if(t){const s=Mn(e,!0),o=~Mn(e);this._xm_deduce&=o<<8|s}else this._xm_deduce&=~Mn(e);return this}explain(){const e=this._xm_deduce>>8,t=this._xm_deduce&255;return[`A: ${Wi(e)}`,`O: ${Wi(t)}`].join(`
`)}enumerate(e){let t=e==="bag"?this._xm_deduce>>8:this._xm_deduce&255;const s=[],o=[];for(let a=0;a<8;a++)t&Bi&&(a<4?s.push(Nn[a]):o.push(In[a-4])),t=t<<1;const r=[];for(const a of s)for(const c of o)r.push({target:e,color:a,shape:c});return r}}const{Object:na,console:Hi}=Xs,de="src/component/MessagePanel.svelte";function ls(n){let e,t,s,o,r;const a={c:function(){e=T("span"),t=fe(n[3]),C(e,"class","msg-console-eval s-l2U1SoEQLPY0"),j(e,de,651,3,17006)},m:function(u,i){G(u,e,i),v(e,t),n[22](e),r=!0},p:function(u,i){(!r||i[0]&8)&&Ne(t,u[3])},i:function(u){r||(Je(()=>{o&&o.end(1),s=Fn(e,_e,{duration:1e3}),s.start()}),r=!0)},o:function(u){s&&s.invalidate(),o=Jn(e,_e,{duration:500}),r=!1},d:function(u){u&&F(e),n[22](null),u&&o&&o.end()}};return B("SvelteRegisterBlock",{block:a,id:ls.name,type:"if",source:"(651:2) {#if s_evaluation}",ctx:n}),a}function cs(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,h,m,k;o=new ve({props:{icon:Ks},$$inline:!0}),d=new ve({props:{icon:Vs},$$inline:!0});let p=n[12].length&&us(n);const A={c:function(){e=T("div"),t=T("span"),s=T("span"),Ie(o.$$.fragment),r=D(),a=T("span"),c=fe(n[6]),u=D(),i=T("span"),_=T("span"),Ie(d.$$.fragment),w=D(),b=T("span"),g=fe(n[7]),h=D(),p&&p.c(),C(s,"class","msg-nav-icon lifted s-l2U1SoEQLPY0"),j(s,de,663,4,17303),C(a,"class","msg-nav-name s-l2U1SoEQLPY0"),$(a,"long-name",n[6].length>=40),j(a,de,664,4,17368),C(t,"class","msg-nav-group s-l2U1SoEQLPY0"),j(t,de,662,3,17270),C(_,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(_,de,667,4,17504),C(b,"class","msg-nav-addr addr s-l2U1SoEQLPY0"),j(b,de,668,4,17564),C(i,"class","msg-nav-group s-l2U1SoEQLPY0"),j(i,de,666,3,17471),C(e,"class","msg-nav s-l2U1SoEQLPY0"),j(e,de,661,2,17195)},m:function(f,E){G(f,e,E),v(e,t),v(t,s),qe(o,s,null),v(t,r),v(t,a),v(a,c),v(e,u),v(e,i),v(i,_),qe(d,_,null),v(i,w),v(i,b),v(b,g),v(e,h),p&&p.m(e,null),k=!0},p:function(f,E){n=f,(!k||E[0]&64)&&Ne(c,n[6]),(!k||E[0]&64)&&$(a,"long-name",n[6].length>=40),(!k||E[0]&128)&&Ne(g,n[7]),n[12].length?p?(p.p(n,E),E[0]&4096&&O(p,1)):(p=us(n),p.c(),O(p,1),p.m(e,null)):p&&(We(),W(p,1,1,()=>{p=null}),He())},i:function(f){k||(O(o.$$.fragment,f),O(d.$$.fragment,f),O(p),Je(()=>{m||(m=be(e,Gn,{duration:750,easing:on},!0)),m.run(1)}),k=!0)},o:function(f){W(o.$$.fragment,f),W(d.$$.fragment,f),W(p),m||(m=be(e,Gn,{duration:750,easing:on},!1)),m.run(0),k=!1},d:function(f){f&&F(e),Re(o),Re(d),p&&p.d(),f&&m&&m.end()}};return B("SvelteRegisterBlock",{block:A,id:cs.name,type:"if",source:"(661:1) {#if b_nav_display}",ctx:n}),A}function us(n){let e,t,s,o,r,a,c=n[12][0]+"",u,i,_,d,w=n[12][1]+"",b,g,h,m,k,p=n[12][2]+"",A,S,f;s=new ve({props:{icon:Zs},$$inline:!0});const E={c:function(){e=T("span"),t=T("span"),Ie(s.$$.fragment),o=D(),r=T("span"),a=T("span"),u=fe(c),i=fe(":"),_=D(),d=T("span"),b=fe(w),g=D(),h=T("span"),h.textContent="...",m=D(),k=T("span"),A=fe(p),C(t,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(t,de,672,5,17733),C(a,"class","prefix s-l2U1SoEQLPY0"),j(a,de,674,6,17845),C(d,"class","addr s-l2U1SoEQLPY0"),j(d,de,675,6,17903),C(h,"class","ellipsis s-l2U1SoEQLPY0"),j(h,de,676,6,17958),C(k,"class","addr s-l2U1SoEQLPY0"),j(k,de,677,6,17998),C(r,"class","msg-nav-permit inline-flex s-l2U1SoEQLPY0"),j(r,de,673,5,17797),C(e,"class","msg-nav-group s-l2U1SoEQLPY0"),j(e,de,671,4,17665)},m:function(I,Y){G(I,e,Y),v(e,t),qe(s,t,null),v(e,o),v(e,r),v(r,a),v(a,u),v(a,i),v(r,_),v(r,d),v(d,b),v(r,g),v(r,h),v(r,m),v(r,k),v(k,A),f=!0},p:function(I,Y){(!f||Y[0]&4096)&&c!==(c=I[12][0]+"")&&Ne(u,c),(!f||Y[0]&4096)&&w!==(w=I[12][1]+"")&&Ne(b,w),(!f||Y[0]&4096)&&p!==(p=I[12][2]+"")&&Ne(A,p)},i:function(I){f||(O(s.$$.fragment,I),Je(()=>{S||(S=be(e,_e,{duration:1e3},!0)),S.run(1)}),f=!0)},o:function(I){W(s.$$.fragment,I),S||(S=be(e,_e,{duration:1e3},!1)),S.run(0),f=!1},d:function(I){I&&F(e),Re(s),I&&S&&S.end()}};return B("SvelteRegisterBlock",{block:E,id:us.name,type:"if",source:"(671:3) {#if a_permit_displays.length}",ctx:n}),E}function _s(n){let e,t,s,o,r,a,c,u,i;s=new ve({props:{icon:xs},$$inline:!0});const _={c:function(){e=T("div"),t=T("span"),Ie(s.$$.fragment),o=D(),r=T("span"),r.textContent="Submit",C(t,"class","msg-submit-icon s-l2U1SoEQLPY0"),j(t,de,692,3,18345),C(r,"class","msg-submit-text s-l2U1SoEQLPY0"),j(r,de,693,3,18412),C(e,"class","msg-submit s-l2U1SoEQLPY0"),$(e,"active",!!n[9]),j(e,de,684,2,18123)},m:function(w,b){G(w,e,b),v(e,t),qe(s,t,null),v(e,o),v(e,r),n[23](e),c=!0,u||(i=[Oe(e,"click",function(){Yo(n[9]||Qi)&&(n[9]||Qi).apply(this,arguments)},!1,!1,!1),Oe(e,"mouseenter",n[15],!1,!1,!1),Oe(e,"mouseleave",n[16],!1,!1,!1)],u=!0)},p:function(w,b){n=w,(!c||b[0]&512)&&$(e,"active",!!n[9])},i:function(w){c||(O(s.$$.fragment,w),Je(()=>{a||(a=be(e,kt,{},!0)),a.run(1)}),c=!0)},o:function(w){W(s.$$.fragment,w),a||(a=be(e,kt,{},!1)),a.run(0),c=!1},d:function(w){w&&F(e),Re(s),n[23](null),w&&a&&a.end(),u=!1,$s(i)}};return B("SvelteRegisterBlock",{block:_,id:_s.name,type:"if",source:"(684:1) {#if b_submit_display}",ctx:n}),_}function fs(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,h,m=n[3]&&ls(n),k=n[5]&&cs(n),p=n[8]&&_s(n);const A={c:function(){e=T("div"),t=T("div"),s=T("div"),o=D(),r=T("div"),a=T("span"),c=fe(">\xA0"),u=fe(n[4]),i=fe(n[11]),_=D(),d=T("span"),d.textContent="\xA0",w=D(),m&&m.c(),b=D(),k&&k.c(),g=D(),p&&p.c(),C(s,"class","msg-history-scroll s-l2U1SoEQLPY0"),j(s,de,645,2,16758),C(t,"class","msg-history s-l2U1SoEQLPY0"),j(t,de,644,1,16707),C(a,"class","text s-l2U1SoEQLPY0"),j(a,de,648,2,16858),C(d,"class","cursor blinking s-l2U1SoEQLPY0"),j(d,de,649,2,16916),C(r,"class","msg-console s-l2U1SoEQLPY0"),j(r,de,647,1,16830),C(e,"class","msg-panel s-l2U1SoEQLPY0"),j(e,de,643,0,16661)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,E){G(f,e,E),v(e,t),v(t,s),n[19](s),n[20](t),v(e,o),v(e,r),v(r,a),v(a,c),v(a,u),v(a,i),v(r,_),v(r,d),n[21](d),v(r,w),m&&m.m(r,null),v(e,b),k&&k.m(e,null),v(e,g),p&&p.m(e,null),n[24](e),h=!0},p:function(f,E){(!h||E[0]&16)&&Ne(u,f[4]),(!h||E[0]&2048)&&Ne(i,f[11]),f[3]?m?(m.p(f,E),E[0]&8&&O(m,1)):(m=ls(f),m.c(),O(m,1),m.m(r,null)):m&&(We(),W(m,1,1,()=>{m=null}),He()),f[5]?k?(k.p(f,E),E[0]&32&&O(k,1)):(k=cs(f),k.c(),O(k,1),k.m(e,g)):k&&(We(),W(k,1,1,()=>{k=null}),He()),f[8]?p?(p.p(f,E),E[0]&256&&O(p,1)):(p=_s(f),p.c(),O(p,1),p.m(e,null)):p&&(We(),W(p,1,1,()=>{p=null}),He())},i:function(f){h||(O(m),O(k),O(p),h=!0)},o:function(f){W(m),W(k),W(p),h=!1},d:function(f){f&&F(e),n[19](null),n[20](null),n[21](null),m&&m.d(),k&&k.d(),p&&p.d(),n[24](null)}};return B("SvelteRegisterBlock",{block:A,id:fs.name,type:"component",source:"",ctx:n}),A}const Qi=()=>{};function sa(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("MessagePanel",s,[]);const{language:r}=Ft("game");let a;r.subscribe(y=>a=y);const c={reveal_text:Y,spinning:he,commit:se,receive:Ue,arbiter:Fe,opponent:le,user:Pe,error:ut,warn:ge,wallet:nt,permit:Ke,submittable:oe,unsubmittable:It};let{k_killables:u}=e,i,_,d,w="\u275A",b="",g="",h=!1,m="",k="",p="",A=!1,S=null,f,E=0,N=!1,I="";async function Y(y,X=40,me=0,Ve=!1){J&&(t(11,L=""),u.delInterval(J),M=0,J=0),t(3,b=""),Ve||(I=y);let Le=++E;X||(X=60);const je=g.length,Ze=y.length;let xe=0;for(;xe<Math.min(je,Ze)&&g[xe]===y[xe];xe++);const _t=3/5;for(let we=je;we>xe;we--)if(t(4,g=g.slice(0,-1)),await H(X*_t),E!==Le)return;if(me&&await H(me),E!==Le)return;const ke=f||On(document.body,".cursor");if(!!ke){for(let we=xe;we<Ze;we++)if(ke.classList.remove("blinking"),await H(10),E!==Le||(ke.classList.add("blinking"),t(4,g+=y[we]),await H(X),E!==Le))return}}const q=["\u25DC \u25DD"," \u02C9\u25DE"," \u02CD\u25DD","\u25DF \u25DE","\u25DC\u02CD ","\u25DF\u02C9 "];let L="",J=0,M=0;async function he(y){if(y){if(J===0){let me=function(){t(11,L=" "+q[M++]+" "),M%=q.length};J=-1;const X=g;await Y(X+" "+q[q.length-1]+" ",60,0,!0),t(4,g=X),me(),J=u.addInterval(me,100)}}else J>0&&(t(11,L=""),u.delInterval(J),M=0,J=0)}async function z(){await Y("")}let Xe=0;async function Ue(y){if(N)return;for(;!i;)await H(100);const X=y.widgets||{},me=Xe++,Ve=Ee("div",{class:["line-commit",...y.classes||[]].join(" ")},[`> ${y.from}: `,...y.text.flatMap(ke=>{const we=[];let $e=0;for(const{0:Ge,1:ft,index:bt}of ke.matchAll(/\{([a-z0-9-_]+)\}/ig)){const ot=X[ft];ot?($e!==bt&&we.push(ke.slice($e,bt)),ot instanceof Element?we.push(ot):we.push(Ee("span",{class:`msg-widget-${ft}-${me}`}))):(console.error(`No such widget '${ft}' was passed in with the formatted line`),we.push(ke.slice($e,bt+Ge.length))),$e=bt+Ge.length}return $e!==ke.length&&we.push(ke.slice($e)),we.push(Ee("div",{class:"newline"})),we})]);for(const[ke,we]of De(X))typeof we.subscribe=="function"&&we.subscribe($e=>{const Ge=Di(Ve,`.msg-widget-${ke}-${me}`);for(const ft of Ge)ft.innerHTML=$e});const Le=Ee("div",{class:"curtain"});_.append(Ve),_.append(Le),t(0,i.scrollTop=i.scrollHeight,i);const je=_.getBoundingClientRect(),Ze=Ve.getBoundingClientRect(),xe=Ze.top-je.top,_t=Ze.height+5;Object.assign(Le.style,{top:`${xe}px`,height:`${_t}px`,left:"0px",width:"100%"}),await H(100);for(let ke=0;ke<_t;ke+=5)Object.assign(Le.style,{top:`${xe+ke}px`,height:`${_t-ke}px`}),await H(100);Le.remove()}const Ae=y=>Array.isArray(y)?y:y.trim().split(/\n/).map(X=>X.trim());async function Fe(y,X){return await Ue({from:"Arbiter",classes:["from-arbiter"],text:Ae(y),widgets:X||{}})}async function le(y,X){return await Ue({from:"Opponent",classes:["from-opponent"],text:y,widgets:X||{}})}async function Pe(y,X){return await Ue({from:`You${p}`,classes:["from-user"],text:Ae(y),widgets:X||{}})}async function se(){Pe(I||g),t(4,g="")}async function ut(y,X=!1,me){await Ue({from:"System",classes:["from-system-error"],text:Ae(y),widgets:me||{}}),X&&(N=!0)}async function ge(y,X){await Ue({from:"System",classes:["from-system-warn"],text:Ae(y),widgets:X||{}})}function nt(y){y.addr?(t(5,h=!0),t(6,m=y.name),t(7,k=y.addr),p=m?` (${m})`:""):t(5,h=!1)}let Te=[];function Ke(y,X){const me=y.allowed_tokens[0];t(12,Te=[X?"restored":"signed",me.slice(0,"secret12345".length),me.slice(-5)])}let st=0;async function Nt(){debugger;const y=Date.now();y-st>3e4&&(await Y("sorry, you don't get to type :P"),await H(1600),await z(),st=y)}let re;function oe(y,X){if(t(8,A=!0),re){const me=re.getBoundingClientRect();Object.assign(re.style,{position:"fixed",top:`${me.top}px`,left:`${me.left}px`})}t(3,b=""),X&&setTimeout(()=>{re&&re.style.position&&Object.assign(re.style,{position:"",top:"",left:""}),t(3,b=X)},500),t(9,S=y)}function It(){t(8,A=!1),t(9,S=null)}Jt(()=>{d.addEventListener("keydown",()=>{Nt()})});let Ce;async function Pt(){await H(100),Ce.classList.add("hover")}async function Ct(){t(14,Ce.style.animation="0",Ce),await H(100),Ce.classList.remove("hover"),await H(1e3),t(14,Ce.style.animation="",Ce)}const qt=["k_killables"];na.keys(e).forEach(y=>{!~qt.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&Hi.warn(`<MessagePanel> was created with unknown prop '${y}'`)});function ce(y){Me[y?"unshift":"push"](()=>{_=y,t(1,_)})}function R(y){Me[y?"unshift":"push"](()=>{i=y,t(0,i)})}function ne(y){Me[y?"unshift":"push"](()=>{f=y,t(10,f)})}function K(y){Me[y?"unshift":"push"](()=>{re=y,t(13,re)})}function it(y){Me[y?"unshift":"push"](()=>{Ce=y,t(14,Ce)})}function Rt(y){Me[y?"unshift":"push"](()=>{d=y,t(2,d)})}return n.$$set=y=>{"k_killables"in y&&t(18,u=y.k_killables)},n.$capture_state=()=>({getContext:Ft,onMount:Jt,slide:Gn,blur:kt,fade:_e,quadOut:on,Fa:ve,faUser:Ks,faWallet:Vs,faTicketAlt:Zs,faPaperPlane:xs,ode:De,timeout:H,dd:Ee,qs:On,qsa:Di,ys_lang:r,s_lang:a,k_panel:c,k_killables:u,dm_history:i,dm_history_data:_,dm_panel:d,s_cursor:w,s_evaluation:b,s_text:g,b_nav_display:h,s_nav_name:m,s_nav_addr:k,s_account_alias:p,b_submit_display:A,fk_submit:S,dm_cursor:f,i_iter:E,b_disabled:N,s_revealing:I,reveal_text:Y,A_SPIN:q,s_spinner:L,i_spinning:J,i_spin:M,spinning:he,clear:z,c_msgs:Xe,receive:Ue,rerformat_lines:Ae,arbiter:Fe,opponent:le,user:Pe,commit:se,error:ut,warn:ge,wallet:nt,a_permit_displays:Te,permit:Ke,dt_attempt_last:st,attempt_type:Nt,dm_eval:re,submittable:oe,unsubmittable:It,dm_submit:Ce,mouseenter_submit:Pt,mouseleave_submit:Ct}),n.$inject_state=y=>{"s_lang"in y&&(a=y.s_lang),"k_killables"in y&&t(18,u=y.k_killables),"dm_history"in y&&t(0,i=y.dm_history),"dm_history_data"in y&&t(1,_=y.dm_history_data),"dm_panel"in y&&t(2,d=y.dm_panel),"s_cursor"in y&&(w=y.s_cursor),"s_evaluation"in y&&t(3,b=y.s_evaluation),"s_text"in y&&t(4,g=y.s_text),"b_nav_display"in y&&t(5,h=y.b_nav_display),"s_nav_name"in y&&t(6,m=y.s_nav_name),"s_nav_addr"in y&&t(7,k=y.s_nav_addr),"s_account_alias"in y&&(p=y.s_account_alias),"b_submit_display"in y&&t(8,A=y.b_submit_display),"fk_submit"in y&&t(9,S=y.fk_submit),"dm_cursor"in y&&t(10,f=y.dm_cursor),"i_iter"in y&&(E=y.i_iter),"b_disabled"in y&&(N=y.b_disabled),"s_revealing"in y&&(I=y.s_revealing),"s_spinner"in y&&t(11,L=y.s_spinner),"i_spinning"in y&&(J=y.i_spinning),"i_spin"in y&&(M=y.i_spin),"c_msgs"in y&&(Xe=y.c_msgs),"a_permit_displays"in y&&t(12,Te=y.a_permit_displays),"dt_attempt_last"in y&&(st=y.dt_attempt_last),"dm_eval"in y&&t(13,re=y.dm_eval),"dm_submit"in y&&t(14,Ce=y.dm_submit)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,_,d,b,g,h,m,k,A,S,f,L,Te,re,Ce,Pt,Ct,c,u,ce,R,ne,K,it,Rt]}class Gi extends mt{constructor(e){super(e);ht(this,e,sa,fs,pt,{k_panel:17,k_killables:18},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"MessagePanel",options:e,id:fs.name});const{ctx:t}=this.$$,s=e.props||{};t[18]===void 0&&!("k_killables"in s)&&Hi.warn("<MessagePanel> was created without expected prop 'k_killables'")}get k_panel(){return this.$$.ctx[17]}set k_panel(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_killables(){throw new Error("<MessagePanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_killables(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Fi="src/component/Prompt.svelte";function Ji(n,e,t){const s=n.slice();return s[17]=e[t],s}function ds(n){let e,t,s=n[0];pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=ms(Ji(n,s,c));const r=c=>W(o[c],1,1,()=>{o[c]=null}),a={c:function(){for(let u=0;u<o.length;u+=1)o[u].c();e=zt()},m:function(u,i){for(let _=0;_<o.length;_+=1)o[_].m(u,i);G(u,e,i),t=!0},p:function(u,i){if(i&9){s=u[0],pe(s);let _;for(_=0;_<s.length;_+=1){const d=Ji(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=ms(d),o[_].c(),O(o[_],1),o[_].m(e.parentNode,e))}for(We(),_=s.length;_<o.length;_+=1)r(_);He()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)W(o[i]);t=!1},d:function(u){at(o,u),u&&F(e)}};return B("SvelteRegisterBlock",{block:a,id:ds.name,type:"if",source:"(122:1) {#if b_display}",ctx:n}),a}function ms(n){let e,t=n[17].label+"",s,o,r,a,c,u,i,_,d;function w(){return n[5](n[17])}const b={c:function(){e=T("button"),s=fe(t),o=D(),C(e,"class",r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"),C(e,"alt",a=n[17].alt||""),j(e,Fi,123,3,2736)},m:function(h,m){G(h,e,m),v(e,s),v(e,o),i=!0,_||(d=Oe(e,"click",w,!1,!1,!1),_=!0)},p:function(h,m){n=h,(!i||m&1)&&t!==(t=n[17].label+"")&&Ne(s,t),(!i||m&1&&r!==(r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"))&&C(e,"class",r),(!i||m&1&&a!==(a=n[17].alt||""))&&C(e,"alt",a)},i:function(h){i||(Je(()=>{u&&u.end(1),c=Fn(e,_e,{duration:1400,easing:vt}),c.start()}),i=!0)},o:function(h){c&&c.invalidate(),u=Jn(e,_e,{duration:1400,easing:on}),i=!1},d:function(h){h&&F(e),h&&u&&u.end(),_=!1,d()}};return B("SvelteRegisterBlock",{block:b,id:ms.name,type:"each",source:"(123:2) {#each a_opts as g_opt}",ctx:n}),b}function hs(n){let e,t,s=n[1]&&ds(n);const o={c:function(){e=T("div"),s&&s.c(),C(e,"class","prompt s-c0715tBQdWx2"),$(e,"showing",n[2]),j(e,Fi,120,0,2643)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){G(a,e,c),s&&s.m(e,null),t=!0},p:function(a,[c]){a[1]?s?(s.p(a,c),c&2&&O(s,1)):(s=ds(a),s.c(),O(s,1),s.m(e,null)):s&&(We(),W(s,1,1,()=>{s=null}),He()),(!t||c&4)&&$(e,"showing",a[2])},i:function(a){t||(O(s),t=!0)},o:function(a){W(s),t=!1},d:function(a){a&&F(e),s&&s.d()}};return B("SvelteRegisterBlock",{block:o,id:hs.name,type:"component",source:"",ctx:n}),o}function ia(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Prompt",s,[]);const r={ok:A,opts:S,yes:p,yes_no:k},a={key:"yes",label:"Yes"},c={key:"no",label:"No"},u=[a,c],i=()=>{},_=N=>{N()};let d=[],w=!1,b=!1,g=i;function h(N){g(N),t(1,w=!1)}function m(N,I=_){return new Promise(Y=>{g=q=>{I(Y,q),t(1,w=!1)},t(0,d=N),t(1,w=!0),queueMicrotask(()=>{t(2,b=!0)})})}function k(){return m(u,(N,I)=>{N(I.key==="yes")})}function p(){return m([a])}function A(N="Ok"){return m([{key:"ok",label:N}])}function S(N){return m(Ai(N,(I,Y)=>et({key:I},Y)),(I,Y)=>{I(Y.key)})}const f=[];Object.keys(e).forEach(N=>{!~f.indexOf(N)&&N.slice(0,2)!=="$$"&&N!=="slot"&&console.warn(`<Prompt> was created with unknown prop '${N}'`)});const E=N=>h(N);return n.$capture_state=()=>({oderac:Ai,expoOut:vt,quadOut:on,fade:_e,k_prompt:r,G_ANS_YES:a,G_ANS_NO:c,A_OPTS_YES_NO:u,F_NOOP:i,F_CALL:_,a_opts:d,b_display:w,b_showing:b,fk_answer:g,answer:h,prompt:m,yes_no:k,yes:p,ok:A,opts:S}),n.$inject_state=N=>{"a_opts"in N&&t(0,d=N.a_opts),"b_display"in N&&t(1,w=N.b_display),"b_showing"in N&&t(2,b=N.b_showing),"fk_answer"in N&&(g=N.fk_answer)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[d,w,b,h,r,E]}class zi extends mt{constructor(e){super(e);ht(this,e,ia,hs,pt,{k_prompt:4}),B("SvelteRegisterComponent",{component:this,tagName:"Prompt",options:e,id:hs.name})}get k_prompt(){return this.$$.ctx[4]}set k_prompt(e){throw new Error("<Prompt>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ct="src/component/Assertion.svelte";function Xi(n,e,t){const s=n.slice();return s[15]=e[t],s}function Ki(n,e,t){const s=n.slice();return s[18]=e[t],s}function Vi(n,e,t){const s=n.slice();return s[15]=e[t],s}function Zi(n,e,t){const s=n.slice();return s[18]=e[t],s}function xi(n,e,t){const s=n.slice();return s[27]=e[t],s}function ps(n){let e,t,s,o,r,a,c,u,i,_,d=Zt;pe(d);let w=[];for(let p=0;p<d.length;p+=1)w[p]=gs(xi(n,d,p));let b=n[7];pe(b);let g=[];for(let p=0;p<b.length;p+=1)g[p]=bs(Vi(n,b,p));let h=n[7];pe(h);let m=[];for(let p=0;p<h.length;p+=1)m[p]=ks(Xi(n,h,p));const k={c:function(){e=T("div"),t=T("span");for(let A=0;A<w.length;A+=1)w[A].c();o=D(),r=T("span");for(let A=0;A<g.length;A+=1)g[A].c();c=D(),u=T("span");for(let A=0;A<m.length;A+=1)m[A].c();C(t,"class","tab-wrap s-WG7syJ6nmWd-"),j(t,ct,207,2,5203),C(e,"class","tx-basis s-WG7syJ6nmWd-"),j(e,ct,206,1,5126),C(r,"class","diamond tx-colors s-WG7syJ6nmWd-"),j(r,ct,216,1,5479),C(u,"class","diamond tx-shapes s-WG7syJ6nmWd-"),j(u,ct,235,1,6042)},m:function(A,S){G(A,e,S),v(e,t);for(let f=0;f<w.length;f+=1)w[f].m(t,null);G(A,o,S),G(A,r,S);for(let f=0;f<g.length;f+=1)g[f].m(r,null);G(A,c,S),G(A,u,S);for(let f=0;f<m.length;f+=1)m[f].m(u,null);_=!0},p:function(A,S){if(n=A,S&42){d=Zt,pe(d);let f;for(f=0;f<d.length;f+=1){const E=xi(n,d,f);w[f]?w[f].p(E,S):(w[f]=gs(E),w[f].c(),w[f].m(t,null))}for(;f<w.length;f+=1)w[f].d(1);w.length=d.length}if(S&204){b=n[7],pe(b);let f;for(f=0;f<b.length;f+=1){const E=Vi(n,b,f);g[f]?g[f].p(E,S):(g[f]=bs(E),g[f].c(),g[f].m(r,null))}for(;f<g.length;f+=1)g[f].d(1);g.length=b.length}if(S&196){h=n[7],pe(h);let f;for(f=0;f<h.length;f+=1){const E=Xi(n,h,f);m[f]?m[f].p(E,S):(m[f]=ks(E),m[f].c(),m[f].m(u,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=h.length}},i:function(A){_||(Je(()=>{s||(s=be(e,_e,{duration:3600,easing:St},!0)),s.run(1)}),Je(()=>{a||(a=be(r,_e,{delay:2400,duration:3200,easing:vt},!0)),a.run(1)}),Je(()=>{i||(i=be(u,_e,{delay:3200,duration:3200,easing:vt},!0)),i.run(1)}),_=!0)},o:function(A){s||(s=be(e,_e,{duration:3600,easing:St},!1)),s.run(0),a||(a=be(r,_e,{delay:2400,duration:3200,easing:vt},!1)),a.run(0),i||(i=be(u,_e,{delay:3200,duration:3200,easing:vt},!1)),i.run(0),_=!1},d:function(A){A&&F(e),at(w,A),A&&s&&s.end(),A&&F(o),A&&F(r),at(g,A),A&&a&&a.end(),A&&F(c),A&&F(u),at(m,A),A&&i&&i.end()}};return B("SvelteRegisterBlock",{block:k,id:ps.name,type:"if",source:"(206:0) {#if b_visible}",ctx:n}),k}function gs(n){let e,t=Se(Tt[n[27]].describe[n[3]](""))+"",s,o,r,a;const c={c:function(){e=T("span"),s=fe(t),o=D(),C(e,"class","active tab s-WG7syJ6nmWd-"),C(e,"data-basis",n[27]),$(e,"active",n[27]===n[1]),j(e,ct,209,4,5262)},m:function(i,_){G(i,e,_),v(e,s),v(e,o),r||(a=Oe(e,"click",n[5],!1,!1,!1),r=!0)},p:function(i,_){_&8&&t!==(t=Se(Tt[i[27]].describe[i[3]](""))+"")&&Ne(s,t),_&2&&$(e,"active",i[27]===i[1])},d:function(i){i&&F(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:gs.name,type:"each",source:"(209:3) {#each A_BASES as si_basis}",ctx:n}),c}function $i(n){const e={c:ye,m:ye,p:ye,d:ye};return B("SvelteRegisterBlock",{block:e,id:$i.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function eo(n){let e,t,s=Se(At[n[26]].labels[n[3]])+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=fe(s),C(t,"class","s-WG7syJ6nmWd-"),j(t,ct,227,7,5909),C(e,"class","diamond-"+n[18].pos+" color-"+n[26]+" s-WG7syJ6nmWd-"),C(e,"data-quality","color:"+n[26]),$(e,"selected",`color:${n[26]}`===n[2]),j(e,ct,221,6,5703)},m:function(i,_){G(i,e,_),v(e,t),v(t,o),r||(a=Oe(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&8&&s!==(s=Se(At[i[26]].labels[i[3]])+"")&&Ne(o,s),_&132&&$(e,"selected",`color:${i[26]}`===i[2])},d:function(i){i&&F(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:eo.name,type:"then",source:'(221:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function to(n){const e={c:ye,m:ye,p:ye,d:ye};return B("SvelteRegisterBlock",{block:e,id:to.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function ws(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:to,then:eo,catch:$i,value:26};ei(Nn[n[18].key],t);const s={c:function(){e=zt(),t.block.c()},m:function(r,a){G(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,ti(t,n,a)},d:function(r){r&&F(e),t.block.d(r),t.token=null,t=null}};return B("SvelteRegisterBlock",{block:s,id:ws.name,type:"each",source:"(220:4) {#each a_group as g_loc}",ctx:n}),s}function bs(n){let e,t,s=n[15];pe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=ws(Zi(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=D(),C(e,"class","s-WG7syJ6nmWd-"),j(e,ct,218,3,5613)},m:function(c,u){G(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);v(e,t)},p:function(c,u){if(u&204){s=c[15],pe(s);let i;for(i=0;i<s.length;i+=1){const _=Zi(c,s,i);o[i]?o[i].p(_,u):(o[i]=ws(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&F(e),at(o,c)}};return B("SvelteRegisterBlock",{block:r,id:bs.name,type:"each",source:"(218:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function no(n){const e={c:ye,m:ye,p:ye,d:ye};return B("SvelteRegisterBlock",{block:e,id:no.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function so(n){let e,t,s=Vt[n[21]].symbol+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=fe(s),C(t,"class","s-WG7syJ6nmWd-"),j(t,ct,246,7,6474),C(e,"class","diamond-"+n[18].pos+" bg-rad-"+n[18].pos+" s-WG7syJ6nmWd-"),C(e,"data-quality","shape:"+n[21]),$(e,"selected",`shape:${n[21]}`===n[2]),j(e,ct,240,6,6266)},m:function(i,_){G(i,e,_),v(e,t),v(t,o),r||(a=Oe(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&132&&$(e,"selected",`shape:${i[21]}`===i[2])},d:function(i){i&&F(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:so.name,type:"then",source:'(240:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function io(n){const e={c:ye,m:ye,p:ye,d:ye};return B("SvelteRegisterBlock",{block:e,id:io.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function ys(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:io,then:so,catch:no,value:21};ei(In[n[18].key],t);const s={c:function(){e=zt(),t.block.c()},m:function(r,a){G(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,ti(t,n,a)},d:function(r){r&&F(e),t.block.d(r),t.token=null,t=null}};return B("SvelteRegisterBlock",{block:s,id:ys.name,type:"each",source:"(239:4) {#each a_group as g_loc}",ctx:n}),s}function ks(n){let e,t,s=n[15];pe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=ys(Ki(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=D(),C(e,"class","s-WG7syJ6nmWd-"),j(e,ct,237,3,6176)},m:function(c,u){G(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);v(e,t)},p:function(c,u){if(u&196){s=c[15],pe(s);let i;for(i=0;i<s.length;i+=1){const _=Ki(c,s,i);o[i]?o[i].p(_,u):(o[i]=ys(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&F(e),at(o,c)}};return B("SvelteRegisterBlock",{block:r,id:ks.name,type:"each",source:"(237:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function vs(n){let e,t,s=n[0]&&ps(n);const o={c:function(){s&&s.c(),e=zt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=ps(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(We(),W(s,1,1,()=>{s=null}),He())},i:function(a){t||(O(s),t=!0)},o:function(a){W(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return B("SvelteRegisterBlock",{block:o,id:vs.name,type:"component",source:"",ctx:n}),o}function oa(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("Assertion",o,[]);const a={show:w,hide:b},c=tt(),u=Ft("game");let i=u.language;Do(i,"yw_lang"),Bo(n,i,f=>t(3,s=f));let _=!1,d="";async function w(f){d=f||"",f&&(t(1,g=f),c("basis",g)),t(0,_=!0)}function b(){t(0,_=!1)}let g=Zt[0],h=null;const m=(f,E)=>f.closest(`[data-${E}]`).getAttribute(`data-${E}`);function k(f){const E=m(f.target,"basis");if(d&&E!==d){c("force_reject",[E,d]);return}t(1,g=E),c("basis",g)}function p(f){t(2,h=m(f.target,"quality")),c("quality",h)}const A=[[{key:0,pos:"top"},{key:2,pos:"rgt"}],[{key:1,pos:"lft"},{key:3,pos:"btm"}]],S=[];return Object.keys(e).forEach(f=>{!~S.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Assertion> was created with unknown prop '${f}'`)}),n.$capture_state=()=>({getContext:Ft,createEventDispatcher:tt,fade:_e,expoOut:vt,quadInOut:St,proper:Se,A_BASES:Zt,A_COLORS:Nn,A_SHAPES:In,H_BASES:Tt,H_COLORS:At,H_SHAPES:Vt,k_tx:a,dispatch:c,g_game:u,yw_lang:i,b_visible:_,si_basis_force:d,show:w,hide:b,si_basis_active:g,si_quality:h,data:m,select_basis:k,select_quality:p,A_DIAMOND_KEYS:A,$yw_lang:s}),n.$inject_state=f=>{"yw_lang"in f&&t(4,i=f.yw_lang),"b_visible"in f&&t(0,_=f.b_visible),"si_basis_force"in f&&(d=f.si_basis_force),"si_basis_active"in f&&t(1,g=f.si_basis_active),"si_quality"in f&&t(2,h=f.si_quality)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[_,g,h,s,i,k,p,A,a]}class oo extends mt{constructor(e){super(e);ht(this,e,oa,vs,pt,{k_tx:8}),B("SvelteRegisterComponent",{component:this,tagName:"Assertion",options:e,id:vs.name})}get k_tx(){return this.$$.ctx[8]}set k_tx(e){throw new Error("<Assertion>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function ao(n,e){const t=new Wo(39,39,3.3,128,1),s=[new ni({color:"#FF6510"}),new Ho({map:n,bumpMap:e,bumpScale:Math.random()*.2+.2}),new ni({map:n})];{const i=new Qo;for(var o=0;o<16;o++){var r=(o+1)/16,a=r*Math.PI*2,c=10*Math.cos(a),u=10*Math.sin(a);o==0?i.moveTo(c,u):i.lineTo(c,u)}return new Go(t,s)}}const Ss=Math.PI,aa=Ss*2,Es=Math.sqrt(3);function Un(n,e,t,s,o){const r=new Path2D;switch(o){case"triangle":{const a=Math.sqrt(t*Es),c=Es*.5*a,u=a*Es/6,i=u/3;r.moveTo(e,e-(c-u)+i),r.lineTo(e+a/2,e+u+i),r.lineTo(e-a/2,e+u+i);break}case"square":{const a=Math.sqrt(t),c=e-a*.5;r.moveTo(c,c),r.lineTo(c+a,c),r.lineTo(c+a,c+a),r.lineTo(c,c+a);break}case"circle":{const a=Math.sqrt(t/Ss);r.ellipse(e,e,a,a,0,0,aa);break}case"star":{const a=Ss/5,c=Math.sqrt(2*t/(5*Math.sin(a)));let u=-1.5*a;r.moveTo(e,e-c);for(let i=0;i<9;i++){const _=c*((i%2+1)/2);r.lineTo(e+_*Math.cos(u),e+_*Math.sin(u)),u+=a}break}}r.closePath(),n.fillStyle=At[s].color,n.fill(r),n.globalAlpha=1,n.strokeStyle="black",n.lineWidth=Math.round(Math.sqrt(t)/50),n.stroke(r)}const ra="src/component/Scene.svelte";function Ps(n){let e;const t={c:function(){e=T("div"),C(e,"class","s-O3-AoQkAZcdH"),j(e,ra,246,0,8002)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,r){G(o,e,r),n[2](e)},p:ye,i:ye,o:ye,d:function(o){o&&F(e),n[2](null)}};return B("SvelteRegisterBlock",{block:t,id:Ps.name,type:"component",source:"",ctx:n}),t}function la(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Scene",s,[]);const r=Math.PI,a=r*2,c=Math.sqrt(3),u={animate_chip_entry:p,animate_chip_exit:A};let i;async function _(E){const N={},I=new ri;for(const Y in E){const q=E[Y];N[Y]=await new Promise(L=>{I.load(q,J=>{L(J)})})}return N}function d(E){const N=E.image,I=Ee("canvas",{width:N.width,height:N.height}),Y=I.getContext("2d");return[I,Y,N]}let w,b,g,h;const m=new si;function k(E,N){const[I,Y,q]=d(w.chip),L=q.width;q.height,Y.drawImage(q,0,0);const J=L/2,M=Math.pow(J*(2/9),2)*r;Un(Y,J,M,E,N),g=new zn(I),b=ao(g,h),m.add(b)}async function p(E,N){k(E,N),b.position.y=8e5,b.visible=!0,new Yt(new an(-780,-2450,-3e3)).to(new an(0,0,0),4e3).easing(Dt.Cubic.Out).onUpdate(L=>{b.position.setX(L.x),b.position.setZ(L.z)}).start(),new Yt({y:750}).to({y:0},4e3).easing(Dt.Back.Out).onUpdate(({y:L})=>{b.position.setY(L)}).start(),new Yt(new rn(0,0,0)).to(new rn(0,r/2,r/2-r/6),4e3).easing(Dt.Cubic.Out).onUpdate(L=>{b.rotation.set(L.x,L.y,L.z)}).start()}async function A(){new Yt(new an(0,0,0)).to(new an(-780,-2450,-3e3),4e3).easing(Dt.Cubic.Out).onUpdate(Y=>{b.position.setX(Y.x),b.position.setZ(Y.z)}).start(),new Yt({y:0}).to({y:750},4e3).easing(Dt.Back.Out).onUpdate(({y:Y})=>{b.position.setY(Y)}).start(),new Yt(new rn(0,r/2,r/2-r/6)).to(new rn(0,0,0),4e3).easing(Dt.Cubic.Out).onUpdate(Y=>{b.rotation.set(Y.x,Y.y,Y.z)}).start(),await H(4e3),b.visible=!0}Jt(async()=>{w=await _({chip:"/asset/chip.png",chip_displace:"/asset/chip-displacement.png",scuffs:"/asset/scuffs.png"}),g=w.chip,h=w.scuffs;{const[M,he,z]=d(w.scuffs),Xe=M.width,Ue=M.height,Ae=Math.random()*a;he.save();const Fe=Xe/2,le=Ue/2;he.translate(Fe,le),he.rotate(Ae),he.scale(Math.SQRT2,Math.SQRT2),he.drawImage(z,-Fe,-le),he.restore(),h=new zn(M)}const E=new ii({antialias:!0}),N=On(document.body,".msg-panel").getBoundingClientRect(),I=window.innerWidth,Y=Math.max(400,Math.min(800,window.innerHeight-N.bottom));if(E.setSize(I,Y),!i)return;i.appendChild(E.domElement);const q=I/Y,L=new ai(45,q,1,5e3);L.position.set(0,0,140),L.lookAt(0,0,0);{const M=new oi(3158064);m.add(M)}{const M=new li;M.position.set(0,100,50),M.decay=2.5,M.angle=Math.PI/9,M.penumbra=.9,m.add(M)}function J(){E.render(m,L)}E.setAnimationLoop(()=>{J(),ci()})});const S=[];Object.keys(e).forEach(E=>{!~S.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&console.warn(`<Scene> was created with unknown prop '${E}'`)});function f(E){Me[E?"unshift":"push"](()=>{i=E,t(0,i)})}return n.$capture_state=()=>({onMount:Jt,chip:ao,AmbientLight:oi,Scene:si,PerspectiveCamera:ai,WebGLRenderer:ii,Vector3:an,TextureLoader:ri,SpotLight:li,Euler:rn,CanvasTexture:zn,Tween:Yt,Easing:Dt,updateTween:ci,timeout:H,dd:Ee,qs:On,draw_shape:Un,X_PI:r,X_2PI:a,X_SQRT_3:c,k_scene:u,dm_container:i,load_textures:_,canvas_from_tex:d,h_textures:w,ym_chip:b,yt_chip:g,yt_bump:h,y_scene:m,create_chip:k,animate_chip_entry:p,animate_chip_exit:A}),n.$inject_state=E=>{"dm_container"in E&&t(0,i=E.dm_container),"h_textures"in E&&(w=E.h_textures),"ym_chip"in E&&(b=E.ym_chip),"yt_chip"in E&&(g=E.yt_chip),"yt_bump"in E&&(h=E.yt_bump)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,u,f]}class ro extends mt{constructor(e){super(e);ht(this,e,la,Ps,pt,{k_scene:1}),B("SvelteRegisterComponent",{component:this,tagName:"Scene_1",options:e,id:Ps.name})}get k_scene(){return this.$$.ctx[1]}set k_scene(e){throw new Error("<Scene>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ln="src/component/PremiseWidget.svelte";function lo(n,e,t){const s=n.slice();return s[14]=e[t][0],s[15]=e[t][1],s[17]=t,s}function Cs(n){let e,t,s,o,r,a=n[15].label+"",c,u,i,_,d,w,b;s=new ve({props:{icon:n[15].icon},$$inline:!0});function g(){return n[9](n[14])}const h={c:function(){e=T("span"),t=T("span"),Ie(s.$$.fragment),o=D(),r=T("span"),c=fe(a),u=D(),C(t,"class","truth-opt-icon s-6n-w-T5otbqJ"),j(t,Ln,158,3,4045),C(r,"class","truth-opt-text s-6n-w-T5otbqJ"),j(r,Ln,161,3,4117),C(e,"class",i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"),C(e,"data-opt",_=n[14]),$(e,"selected",n[14]===n[2]),$(e,"undeniable",n[0]==="undeniable"),$(e,"true",n[0]==="true"),$(e,"verified",n[0]==="verified"),j(e,Ln,149,2,3714)},m:function(k,p){G(k,e,p),v(e,t),qe(s,t,null),v(e,o),v(e,r),v(r,c),v(e,u),d=!0,w||(b=Oe(e,"click",g,!1,!1,!1),w=!0)},p:function(k,p){n=k;const A={};p&2&&(A.icon=n[15].icon),s.$set(A),(!d||p&2)&&a!==(a=n[15].label+"")&&Ne(c,a),(!d||p&16&&i!==(i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"))&&C(e,"class",i),(!d||p&2&&_!==(_=n[14]))&&C(e,"data-opt",_),(!d||p&22)&&$(e,"selected",n[14]===n[2]),(!d||p&17)&&$(e,"undeniable",n[0]==="undeniable"),(!d||p&17)&&$(e,"true",n[0]==="true"),(!d||p&17)&&$(e,"verified",n[0]==="verified")},i:function(k){d||(O(s.$$.fragment,k),d=!0)},o:function(k){W(s.$$.fragment,k),d=!1},d:function(k){k&&F(e),Re(s),w=!1,b()}};return B("SvelteRegisterBlock",{block:h,id:Cs.name,type:"each",source:"(149:1) {#each a_opts as [si_opt, g_opt], i_opt}",ctx:n}),h}function As(n){let e,t,s=n[1];pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=Cs(lo(n,s,c));const r=c=>W(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();C(e,"class","truth s-6n-w-T5otbqJ"),$(e,"known",!!n[0]),j(e,Ln,147,0,3603)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){G(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[10](e),t=!0},p:function(u,[i]){if(i&55){s=u[1],pe(s);let _;for(_=0;_<s.length;_+=1){const d=lo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=Cs(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(We(),_=s.length;_<o.length;_+=1)r(_);He()}(!t||i&1)&&$(e,"known",!!u[0])},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)W(o[i]);t=!1},d:function(u){u&&F(e),at(o,u),n[10](null)}};return B("SvelteRegisterBlock",{block:a,id:As.name,type:"component",source:"",ctx:n}),a}function ca(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("PremiseWidget",o,[]);const a={ignore:{label:"Ignore",icon:_i},trust:{label:"Trust",icon:Tn},distrust:{label:"Distrust",icon:ui}};let c=De(a),{b_mode_nobody:u}=e,{si_assertion:i}=e,{si_known:_}=e;const d={apply(S){return w(S)}};let w=S=>S,b="ignore",g;const h=tt();function m(S){b!==S&&(t(2,b=S),u?w=f=>b==="trust"?f.nobody(i):b==="distrust"?f.opponent(i,!0):f:w=f=>b==="trust"?f.opponent(i,!0):b==="distrust"?f.opponent(i,!1):f,h("change",S))}const k=["b_mode_nobody","si_assertion","si_known"];Object.keys(e).forEach(S=>{!~k.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&console.warn(`<PremiseWidget> was created with unknown prop '${S}'`)});const p=S=>m(S);function A(S){Me[S?"unshift":"push"](()=>{g=S,t(3,g)})}return n.$$set=S=>{"b_mode_nobody"in S&&t(6,u=S.b_mode_nobody),"si_assertion"in S&&t(7,i=S.si_assertion),"si_known"in S&&t(0,_=S.si_known)},n.$capture_state=()=>({createEventDispatcher:tt,Fa:ve,faCheckCircle:Tn,faTimesCircle:ui,faDotCircle:_i,faEgg:fi,faCheck:Xn,ode:De,proper:Se,H_OPTS:a,a_opts:c,b_mode_nobody:u,si_assertion:i,si_known:_,k_premise:d,f_apply:w,si_belief:b,dm_truth:g,dispatch:h,select_opt:m,nl_opts:s}),n.$inject_state=S=>{"a_opts"in S&&t(1,c=S.a_opts),"b_mode_nobody"in S&&t(6,u=S.b_mode_nobody),"si_assertion"in S&&t(7,i=S.si_assertion),"si_known"in S&&t(0,_=S.si_known),"f_apply"in S&&(w=S.f_apply),"si_belief"in S&&t(2,b=S.si_belief),"dm_truth"in S&&t(3,g=S.dm_truth),"nl_opts"in S&&t(4,s=S.nl_opts)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&_&&t(1,c=De({ignore:{label:Se(_),icon:{undeniable:fi,true:Xn,verified:Xn}[_]}})),n.$$.dirty&2&&t(4,s=c.length)},[_,c,b,g,s,m,u,i,d,p,A]}class mn extends mt{constructor(e){super(e);ht(this,e,ca,As,pt,{b_mode_nobody:6,si_assertion:7,si_known:0,k_premise:8}),B("SvelteRegisterComponent",{component:this,tagName:"PremiseWidget",options:e,id:As.name});const{ctx:t}=this.$$,s=e.props||{};t[6]===void 0&&!("b_mode_nobody"in s)&&console.warn("<PremiseWidget> was created without expected prop 'b_mode_nobody'"),t[7]===void 0&&!("si_assertion"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_assertion'"),t[0]===void 0&&!("si_known"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_known'")}get b_mode_nobody(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set b_mode_nobody(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_assertion(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_assertion(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_known(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_known(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_premise(){return this.$$.ctx[8]}set k_premise(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Qe="src/component/Decision.svelte";function co(n,e,t){const s=n.slice();return s[20]=e[t],s}function uo(n,e,t){const s=n.slice();return s[20]=e[t],s}function Ts(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,h,m,k,p,A,S,f=n[3];pe(f);let E=[];for(let q=0;q<f.length;q+=1)E[q]=js(uo(n,f,q));let N=n[2];pe(N);let I=[];for(let q=0;q<N.length;q+=1)I[q]=Ns(co(n,N,q));const Y={c:function(){e=T("div"),t=T("div"),s=T("div"),o=T("button"),o.textContent="Abstain",r=D(),a=T("div"),c=T("span"),c.textContent="Arbiter's bag:",u=D(),i=T("span"),_=T("span");for(let L=0;L<E.length;L+=1)E[L].c();d=D(),w=T("div"),b=T("span"),b.textContent="Opponent's chip:",g=D(),h=T("span"),m=T("span");for(let L=0;L<I.length;L+=1)I[L].c();C(o,"class","s-UQAPz40uou8M"),j(o,Qe,220,4,7343),C(s,"class","decision-abstain s-UQAPz40uou8M"),$(s,"selected",n[4]===n[1]),j(s,Qe,219,3,7258),C(c,"class","decision-opts-row-title s-UQAPz40uou8M"),j(c,Qe,225,4,7479),C(_,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(_,Qe,229,5,7597),C(i,"class","decision-opts-row-view s-UQAPz40uou8M"),j(i,Qe,228,4,7554),C(a,"class","decision-opts-row s-UQAPz40uou8M"),C(a,"data-target","bag"),j(a,Qe,224,3,7425),C(b,"class","decision-opts-row-title s-UQAPz40uou8M"),j(b,Qe,243,4,7990),C(m,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(m,Qe,247,5,8110),C(h,"class","decision-opts-row-view s-UQAPz40uou8M"),j(h,Qe,246,4,8067),C(w,"class","decision-opts-row s-UQAPz40uou8M"),C(w,"data-target","opponent"),j(w,Qe,242,3,7931),C(t,"class","decision-opts s-UQAPz40uou8M"),j(t,Qe,218,2,7227),C(e,"class","decision s-UQAPz40uou8M"),$(e,"staged",!!n[1]),j(e,Qe,214,1,7028)},m:function(L,J){G(L,e,J),v(e,t),v(t,s),v(s,o),v(t,r),v(t,a),v(a,c),v(a,u),v(a,i),v(i,_);for(let M=0;M<E.length;M+=1)E[M].m(_,null);v(t,d),v(t,w),v(w,b),v(w,g),v(w,h),v(h,m);for(let M=0;M<I.length;M+=1)I[M].m(m,null);p=!0,A||(S=Oe(o,"click",n[10],!1,!1,!1),A=!0)},p:function(L,J){if(n=L,(!p||J&18)&&$(s,"selected",n[4]===n[1]),J&170){f=n[3],pe(f);let M;for(M=0;M<f.length;M+=1){const he=uo(n,f,M);E[M]?E[M].p(he,J):(E[M]=js(he),E[M].c(),E[M].m(_,null))}for(;M<E.length;M+=1)E[M].d(1);E.length=f.length}if(J&166){N=n[2],pe(N);let M;for(M=0;M<N.length;M+=1){const he=co(n,N,M);I[M]?I[M].p(he,J):(I[M]=Ns(he),I[M].c(),I[M].m(m,null))}for(;M<I.length;M+=1)I[M].d(1);I.length=N.length}(!p||J&2)&&$(e,"staged",!!n[1])},i:function(L){p||(Je(()=>{k||(k=be(e,_e,{duration:3600,easing:St},!0)),k.run(1)}),p=!0)},o:function(L){k||(k=be(e,_e,{duration:3600,easing:St},!1)),k.run(0),p=!1},d:function(L){L&&F(e),at(E,L),at(I,L),L&&k&&k.end(),A=!1,S()}};return B("SvelteRegisterBlock",{block:Y,id:Ts.name,type:"if",source:"(214:0) {#if b_visible}",ctx:n}),Y}function js(n){let e,t,s=n[7](n[20])+"",o,r,a;function c(){return n[11](n[20])}const u={c:function(){e=T("span"),t=new di(!1),o=D(),t.a=o,C(e,"class","decision-opt s-UQAPz40uou8M"),$(e,"selected",n[20]===n[1]),j(e,Qe,231,7,7681)},m:function(_,d){G(_,e,d),t.m(s,e),v(e,o),r||(a=Oe(e,"click",c,!1,!1,!1),r=!0)},p:function(_,d){n=_,d&8&&s!==(s=n[7](n[20])+"")&&t.p(s),d&10&&$(e,"selected",n[20]===n[1])},d:function(_){_&&F(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:u,id:js.name,type:"each",source:"(231:6) {#each a_opts_arb as k_opt}",ctx:n}),u}function Ns(n){let e,t,s=n[7](n[20])+"",o,r,a,c,u;function i(){return n[12](n[20])}const _={c:function(){e=T("span"),t=new di(!1),o=D(),r=T("img"),a=D(),t.a=o,jn(r,"display","none"),C(r,"alt","hidden"),C(r,"class","s-UQAPz40uou8M"),j(r,Qe,255,8,8390),C(e,"class","decision-opt s-UQAPz40uou8M"),$(e,"selected",n[20]===n[1]),j(e,Qe,249,7,8194)},m:function(w,b){G(w,e,b),t.m(s,e),v(e,o),v(e,r),v(e,a),c||(u=Oe(e,"click",i,!1,!1,!1),c=!0)},p:function(w,b){n=w,b&4&&s!==(s=n[7](n[20])+"")&&t.p(s),b&6&&$(e,"selected",n[20]===n[1])},d:function(w){w&&F(e),c=!1,u()}};return B("SvelteRegisterBlock",{block:_,id:Ns.name,type:"each",source:"(249:6) {#each a_opts_opp as k_opt}",ctx:n}),_}function Is(n){let e,t,s=n[0]&&Ts(n);const o={c:function(){s&&s.c(),e=zt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=Ts(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(We(),W(s,1,1,()=>{s=null}),He())},i:function(a){t||(O(s),t=!0)},o:function(a){W(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return B("SvelteRegisterBlock",{block:o,id:Is.name,type:"component",source:"",ctx:n}),o}class ua{constructor(e,t){this._si_color=e,this._si_shape=t}get color(){return this._si_color}get shape(){return this._si_shape}}function _a(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;gt("Decision",r,[]);const c={show:b,hide:g};let{k_deduced:u}=e;const i=tt(),_=Ft("game");let d=_.language,w=!1;async function b(){t(0,w=!0)}function g(){t(0,w=!1)}const h={target:"abstain",color:null,shape:null};let m=null;function k(q,L){m!==L&&(t(1,m=L),i("change",L))}function p(){t(1,m=h),i("abstain")}const A=Ee("canvas",{width:100,height:100}),S=A.getContext("2d");function f(q){S.clearRect(0,0,100,100),S.stroke(),S.globalAlpha=.8,Un(S,50,Math.pow(35,2),q.color,q.shape);const L=A.toDataURL();return Ee("span",{},[Ee("span",{class:"decision-opt-label"},[`${Se(q.color)} ${Se(q.shape)}`]),Ee("img",{src:L})]).innerHTML}const E=["k_deduced"];Object.keys(e).forEach(q=>{!~E.indexOf(q)&&q.slice(0,2)!=="$$"&&q!=="slot"&&console.warn(`<Decision> was created with unknown prop '${q}'`)});const N=()=>p(),I=q=>k("bag",q),Y=q=>k("opponent",q);return n.$$set=q=>{"k_deduced"in q&&t(9,u=q.k_deduced)},n.$capture_state=()=>({Opt:ua,getContext:Ft,createEventDispatcher:tt,fade:_e,quadInOut:St,proper:Se,dd:Ee,draw_shape:Un,k_decision:c,k_deduced:u,dispatch:i,g_game:_,yw_lang:d,b_visible:w,show:b,hide:g,g_opt_abstain:h,g_opt_selected:m,stage_decision:k,stage_abstain:p,dm_canvas:A,d_ctx:S,render_icon:f,a_opts_opp:o,a_opts_arb:s}),n.$inject_state=q=>{"k_deduced"in q&&t(9,u=q.k_deduced),"yw_lang"in q&&(d=q.yw_lang),"b_visible"in q&&t(0,w=q.b_visible),"g_opt_selected"in q&&t(1,m=q.g_opt_selected),"a_opts_opp"in q&&t(2,o=q.a_opts_opp),"a_opts_arb"in q&&t(3,s=q.a_opts_arb)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&512&&t(3,s=u.enumerate("bag")),n.$$.dirty&512&&t(2,o=u.enumerate("opponent")),n.$$.dirty&512&&t(1,m=null)},[w,m,o,s,h,k,p,f,c,u,N,I,Y]}class _o extends mt{constructor(e){super(e);ht(this,e,_a,Is,pt,{k_decision:8,k_deduced:9}),B("SvelteRegisterComponent",{component:this,tagName:"Decision",options:e,id:Is.name});const{ctx:t}=this.$$,s=e.props||{};t[9]===void 0&&!("k_deduced"in s)&&console.warn("<Decision> was created without expected prop 'k_deduced'")}get k_decision(){return this.$$.ctx[8]}set k_decision(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_deduced(){throw new Error("<Decision>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_deduced(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Yn="src/component/ActionWidget.svelte";function fo(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s[12]=t,s}function qs(n){let e,t,s,o,r,a=n[10].label+"",c,u,i,_,d;s=new ve({props:{icon:n[10].icon},$$inline:!0});function w(){return n[5](n[9])}const b={c:function(){e=T("span"),t=T("span"),Ie(s.$$.fragment),o=D(),r=T("span"),c=fe(a),u=D(),C(t,"class","action-opt-icon s-8eNH5FVaHsSg"),j(t,Yn,87,3,2291),C(r,"class","action-opt-text s-8eNH5FVaHsSg"),j(r,Yn,90,3,2364),C(e,"class","action-opt "+(n[12]===0?"opt-lft":"")+" "+(n[3]-1===n[12]?"opt-rgt":"opt-mid")+" s-8eNH5FVaHsSg"),C(e,"data-opt",n[9]),$(e,"selected",n[9]===n[0]),j(e,Yn,86,2,2093)},m:function(h,m){G(h,e,m),v(e,t),qe(s,t,null),v(e,o),v(e,r),v(r,c),v(e,u),i=!0,_||(d=Oe(e,"click",w,!1,!1,!1),_=!0)},p:function(h,m){n=h,(!i||m&5)&&$(e,"selected",n[9]===n[0])},i:function(h){i||(O(s.$$.fragment,h),i=!0)},o:function(h){W(s.$$.fragment,h),i=!1},d:function(h){h&&F(e),Re(s),_=!1,d()}};return B("SvelteRegisterBlock",{block:b,id:qs.name,type:"each",source:"(86:1) {#each ode(H_OPTS) as [si_opt, g_opt], i_opt}",ctx:n}),b}function Rs(n){let e,t,s=De(n[2]);pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=qs(fo(n,s,c));const r=c=>W(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();C(e,"class","action s-8eNH5FVaHsSg"),jn(e,"width",100*n[3]+"px"),j(e,Yn,84,0,1967)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){G(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[6](e),t=!0},p:function(u,[i]){if(i&29){s=De(u[2]),pe(s);let _;for(_=0;_<s.length;_+=1){const d=fo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=qs(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(We(),_=s.length;_<o.length;_+=1)r(_);He()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)W(o[i]);t=!1},d:function(u){u&&F(e),at(o,u),n[6](null)}};return B("SvelteRegisterBlock",{block:a,id:Rs.name,type:"component",source:"",ctx:n}),a}function fa(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("ActionWidget",s,[]);const r={yes:{label:"Yes",icon:Tn}},a=De(r).length;let c=h=>h,{si_selected:u="none"}=e,i;const _=tt();function d(h){u!==h&&(t(0,u=h),_("change",h))}const w=["si_selected"];Object.keys(e).forEach(h=>{!~w.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<ActionWidget> was created with unknown prop '${h}'`)});const b=h=>d(h);function g(h){Me[h?"unshift":"push"](()=>{i=h,t(1,i)})}return n.$$set=h=>{"si_selected"in h&&t(0,u=h.si_selected)},n.$capture_state=()=>({createEventDispatcher:tt,Fa:ve,faCheckCircle:Tn,ode:De,H_OPTS:r,NL_OPTS:a,f_apply:c,si_selected:u,dm_action:i,dispatch:_,select_opt:d}),n.$inject_state=h=>{"f_apply"in h&&(c=h.f_apply),"si_selected"in h&&t(0,u=h.si_selected),"dm_action"in h&&t(1,i=h.dm_action)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[u,i,r,a,d,b,g]}class mo extends mt{constructor(e){super(e);ht(this,e,fa,Rs,pt,{si_selected:0}),B("SvelteRegisterComponent",{component:this,tagName:"ActionWidget",options:e,id:Rs.name})}get si_selected(){throw new Error("<ActionWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_selected(e){throw new Error("<ActionWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const hn="src/component/Pick.svelte";function ho(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s}function Os(n){let e,t,s,o=De(n[2]);pe(o);let r=[];for(let u=0;u<o.length;u+=1)r[u]=Ms(ho(n,o,u));const a=u=>W(r[u],1,1,()=>{r[u]=null}),c={c:function(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();C(e,"class","pick s-AUZQ0ENzDxvQ"),$(e,"picked",!!n[1]),j(e,hn,77,1,1812)},m:function(i,_){G(i,e,_);for(let d=0;d<r.length;d+=1)r[d].m(e,null);s=!0},p:function(i,_){if(_&14){o=De(i[2]),pe(o);let d;for(d=0;d<o.length;d+=1){const w=ho(i,o,d);r[d]?(r[d].p(w,_),O(r[d],1)):(r[d]=Ms(w),r[d].c(),O(r[d],1),r[d].m(e,null))}for(We(),d=o.length;d<r.length;d+=1)a(d);He()}(!s||_&2)&&$(e,"picked",!!i[1])},i:function(i){if(!s){for(let _=0;_<o.length;_+=1)O(r[_]);Je(()=>{t||(t=be(e,kt,{duration:2500},!0)),t.run(1)}),s=!0}},o:function(i){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)W(r[_]);t||(t=be(e,kt,{duration:2500},!1)),t.run(0),s=!1},d:function(i){i&&F(e),at(r,i),i&&t&&t.end()}};return B("SvelteRegisterBlock",{block:c,id:Os.name,type:"if",source:"(77:0) {#if b_visible}",ctx:n}),c}function Ms(n){let e,t,s=n[10].label+"",o,r,a,c,u,i,_=n[10].description+"",d,w,b,g,h;c=new ve({props:{icon:n[10].icon},$$inline:!0});function m(){return n[5](n[9])}const k={c:function(){e=T("span"),t=T("div"),o=fe(s),r=D(),a=T("div"),Ie(c.$$.fragment),u=D(),i=T("div"),d=fe(_),w=D(),C(t,"class","pick-label s-AUZQ0ENzDxvQ"),j(t,hn,80,4,2071),C(a,"class","pick-icon s-AUZQ0ENzDxvQ"),j(a,hn,83,4,2131),C(i,"class","pick-description s-AUZQ0ENzDxvQ"),j(i,hn,86,4,2201),C(e,"class","pick-opt s-AUZQ0ENzDxvQ"),C(e,"data-pick",n[9]),$(e,"selected",n[1]===n[9]),j(e,hn,79,3,1946)},m:function(A,S){G(A,e,S),v(e,t),v(t,o),v(e,r),v(e,a),qe(c,a,null),v(e,u),v(e,i),v(i,d),v(e,w),b=!0,g||(h=Oe(e,"click",m,!1,!1,!1),g=!0)},p:function(A,S){n=A,(!b||S&6)&&$(e,"selected",n[1]===n[9])},i:function(A){b||(O(c.$$.fragment,A),b=!0)},o:function(A){W(c.$$.fragment,A),b=!1},d:function(A){A&&F(e),Re(c),g=!1,h()}};return B("SvelteRegisterBlock",{block:k,id:Ms.name,type:"each",source:"(79:2) {#each ode(H_PICKS) as [si_pick, g_pick]}",ctx:n}),k}function Us(n){let e,t,s=n[0]&&Os(n);const o={c:function(){s&&s.c(),e=zt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=Os(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(We(),W(s,1,1,()=>{s=null}),He())},i:function(a){t||(O(s),t=!0)},o:function(a){W(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return B("SvelteRegisterBlock",{block:o,id:Us.name,type:"component",source:"",ctx:n}),o}function da(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Pick",s,[]);const r={jackpot:{icon:mi,label:"Jackpot",description:"A pile of SCRT accrued from lost wagers. The exact amount you will receive is a secret."},nft:{icon:hi,label:"Power-up NFT",description:"A unique NFT that gives the owner some special power when used during gameplay. The type of power-up you will receive is a secret."}};let a=!1,c=null;const u={show:i,hide:_};function i(){t(0,a=!0)}function _(){t(0,a=!1)}const d=tt();function w(h){t(1,c=h),d("pick",c)}const b=[];Object.keys(e).forEach(h=>{!~b.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Pick> was created with unknown prop '${h}'`)});const g=h=>w(h);return n.$capture_state=()=>({createEventDispatcher:tt,blur:kt,Fa:ve,faCoins:mi,faTrophy:hi,ode:De,H_PICKS:r,b_visible:a,si_pick_selected:c,k_pick:u,show:i,hide:_,dispatch:d,pick:w}),n.$inject_state=h=>{"b_visible"in h&&t(0,a=h.b_visible),"si_pick_selected"in h&&t(1,c=h.si_pick_selected)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[a,c,r,w,u,g]}class po extends mt{constructor(e){super(e);ht(this,e,da,Us,pt,{k_pick:4}),B("SvelteRegisterComponent",{component:this,tagName:"Pick",options:e,id:Us.name})}get k_pick(){return this.$$.ctx[4]}set k_pick(e){throw new Error("<Pick>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class go{#e;static includes(e){for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);if(s&&e.test(s))return!0}return!1}constructor(e,t,s){const o=window.btoa(JSON.stringify(s||{}));this._si_namespace=`${e}.${o}`,this.#e=t}set(e,t){let s;try{s=JSON.stringify(t)}catch{throw new Error("Unable to stringify value")}let o;try{o=Kn.exports.AES.encrypt(s,this.#e).toString()}catch{throw new Error("Unable to encrypt message")}return localStorage.setItem(`${this._si_namespace}.${e}`,o)}get(e){const t=localStorage.getItem(`${this._si_namespace}.${e}`);if(t===null)return t;let s;try{s=Kn.exports.AES.decrypt(t,this.#e).toString(Kn.exports.enc.Utf8)}catch{throw new Error("Failed to decrypt value using provided secret")}let o;try{o=JSON.parse(s)}catch{throw new Error("Failed to parse decrypted text")}return o}clear(){const e=`${this._si_namespace}.`;for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);(s==null?void 0:s.startsWith(e))&&localStorage.removeItem(s)}}remove(e){return localStorage.removeItem(`${this._si_namespace}.${e}`)}}const nn="src/component/NftCard.svelte";function Ls(n){let e,t,s;t=new ve({props:{icon:n[3]},$$inline:!0});const o={c:function(){e=T("div"),Ie(t.$$.fragment),C(e,"class","card-icon s-1u1ddl8y5Heu"),j(e,nn,87,4,2117)},m:function(a,c){G(a,e,c),qe(t,e,null),s=!0},p:function(a,c){const u={};c&8&&(u.icon=a[3]),t.$set(u)},i:function(a){s||(O(t.$$.fragment,a),s=!0)},o:function(a){W(t.$$.fragment,a),s=!1},d:function(a){a&&F(e),Re(t)}};return B("SvelteRegisterBlock",{block:o,id:Ls.name,type:"if",source:"(87:3) {#if y_icon}",ctx:n}),o}function Ys(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g=n[3]&&Ls(n);const h={c:function(){e=T("div"),t=T("div"),s=T("div"),g&&g.c(),o=D(),r=T("div"),a=fe(n[2]),c=D(),u=T("div"),i=fe(n[0]),C(r,"class","card-class s-1u1ddl8y5Heu"),j(r,nn,91,3,2190),C(s,"class","card-overlay s-1u1ddl8y5Heu"),j(s,nn,85,2,2070),C(t,"class","card-preview s-1u1ddl8y5Heu"),jn(t,"background",n[4]),j(t,nn,84,1,2014),C(u,"class","card-title s-1u1ddl8y5Heu"),j(u,nn,96,1,2257),C(e,"class","card s-1u1ddl8y5Heu"),j(e,nn,83,0,1927)},l:function(k){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(k,p){G(k,e,p),v(e,t),v(t,s),g&&g.m(s,null),v(s,o),v(s,r),v(r,a),v(e,c),v(e,u),v(u,i),d=!0,w||(b=Oe(e,"click",n[8],!1,!1,!1),w=!0)},p:function(k,[p]){n=k,n[3]?g?(g.p(n,p),p&8&&O(g,1)):(g=Ls(n),g.c(),O(g,1),g.m(s,o)):g&&(We(),W(g,1,1,()=>{g=null}),He()),(!d||p&4)&&Ne(a,n[2]),(!d||p&16)&&jn(t,"background",n[4]),(!d||p&1)&&Ne(i,n[0])},i:function(k){d||(O(g),Je(()=>{_||(_=be(e,_e,{delay:n[1]*800},!0)),_.run(1)}),d=!0)},o:function(k){W(g),_||(_=be(e,_e,{delay:n[1]*800},!1)),_.run(0),d=!1},d:function(k){k&&F(e),g&&g.d(),k&&_&&_.end(),w=!1,b()}};return B("SvelteRegisterBlock",{block:h,id:Ys.name,type:"component",source:"",ctx:n}),h}function ma(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;gt("NftCard",r,[]);const c=tt();let{si_token:u}=e,{g_nft:i}=e,{i_card:_}=e,d="Loading...",w;function b(){c("click_card",{token_id:u,ext:s})}const g=["si_token","g_nft","i_card"];Object.keys(e).forEach(m=>{!~g.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<NftCard> was created with unknown prop '${m}'`)});const h=()=>b();return n.$$set=m=>{"si_token"in m&&t(0,u=m.si_token),"g_nft"in m&&t(6,i=m.g_nft),"i_card"in m&&t(1,_=m.i_card)},n.$capture_state=()=>({createEventDispatcher:tt,fade:_e,Fa:ve,faAward:pi,faCarCrash:gi,dispatch:c,si_token:u,g_nft:i,i_card:_,s_class:d,y_icon:w,click_card:b,g_ext:s,sx_bg:o}),n.$inject_state=m=>{"si_token"in m&&t(0,u=m.si_token),"g_nft"in m&&t(6,i=m.g_nft),"i_card"in m&&t(1,_=m.i_card),"s_class"in m&&t(2,d=m.s_class),"y_icon"in m&&t(3,w=m.y_icon),"g_ext"in m&&t(7,s=m.g_ext),"sx_bg"in m&&t(4,o=m.sx_bg)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{if(n.$$.dirty&64&&t(7,s=i==null?void 0:i.private_metadata.extension),n.$$.dirty&128&&t(4,o=(s==null?void 0:s.background_color)?`#${s==null?void 0:s.background_color}`:`
			background: rgb(212,212,212);
			background: linear-gradient(326deg, rgba(212,212,212,1) 0%, rgba(240,240,240,1) 50%, rgba(175,175,175,1) 100%);
		`.trim().split(/\n+/g).map(m=>m.trim()).join(" ")),n.$$.dirty&128)switch(s==null?void 0:s.description){case"simple":{t(3,w=pi),t(2,d="Badge");break}case"insurance":{t(3,w=gi),t(2,d="Insurance");break}}},[u,_,d,w,o,b,i,s,h]}class wo extends mt{constructor(e){super(e);ht(this,e,ma,Ys,pt,{si_token:0,g_nft:6,i_card:1}),B("SvelteRegisterComponent",{component:this,tagName:"NftCard",options:e,id:Ys.name});const{ctx:t}=this.$$,s=e.props||{};t[0]===void 0&&!("si_token"in s)&&console.warn("<NftCard> was created without expected prop 'si_token'"),t[6]===void 0&&!("g_nft"in s)&&console.warn("<NftCard> was created without expected prop 'g_nft'"),t[1]===void 0&&!("i_card"in s)&&console.warn("<NftCard> was created without expected prop 'i_card'")}get si_token(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_token(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get g_nft(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set g_nft(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get i_card(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set i_card(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:ha,Object:pa,console:ga}=Xs,ze="src/component/App.svelte";function Ds(n){let e,t,s,o,r,a;t=new ve({props:{icon:yi},$$inline:!0});const c={c:function(){e=T("span"),Ie(t.$$.fragment),C(e,"class","system-controls-burn s-SHyHC7YcIsCQ"),C(e,"alt","destroy cookies and cache"),j(e,ze,2112,2,70927)},m:function(i,_){G(i,e,_),qe(t,e,null),o=!0,r||(a=Oe(e,"click",n[27],!1,!1,!1),r=!0)},p:ye,i:function(i){o||(O(t.$$.fragment,i),Je(()=>{s||(s=be(e,_e,{duration:1e3},!0)),s.run(1)}),o=!0)},o:function(i){W(t.$$.fragment,i),s||(s=be(e,_e,{duration:1e3},!1)),s.run(0),o=!1},d:function(i){i&&F(e),Re(t),i&&s&&s.end(),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:Ds.name,type:"if",source:"(2112:1) {#if (h_cookie && Object.keys(h_cookie).length) || localStorage.length}",ctx:n}),c}function Bs(n){let e,t,s,o=Se(n[8])+"",r,a,c=Se(n[9])+"",u,i,_,d,w,b,g=Se(Qt(`nobody_has|${n[10]}`))+"",h,m,k,p;const A={c:function(){e=T("div"),t=T("div"),s=fe("The "),r=fe(o),a=D(),u=fe(c),i=D(),_=T("div"),d=T("span"),d.textContent="Hint:",w=D(),b=T("span"),h=fe(g),C(t,"class","chip s-SHyHC7YcIsCQ"),j(t,ze,2134,3,71660),C(d,"class","hint-prefix s-SHyHC7YcIsCQ"),j(d,ze,2138,4,71775),C(b,"class","hint-sentence s-SHyHC7YcIsCQ"),j(b,ze,2139,4,71818),C(_,"class","hint s-SHyHC7YcIsCQ"),j(_,ze,2137,3,71752),C(e,"class","mine s-SHyHC7YcIsCQ"),j(e,ze,2133,2,71534)},m:function(f,E){G(f,e,E),v(e,t),v(t,s),v(t,r),v(t,a),v(t,u),v(e,i),v(e,_),v(_,d),v(_,w),v(_,b),v(b,h),p=!0},p:function(f,E){n=f,(!p||E[0]&256)&&o!==(o=Se(n[8])+"")&&Ne(r,o),(!p||E[0]&512)&&c!==(c=Se(n[9])+"")&&Ne(u,c),(!p||E[0]&1024)&&g!==(g=Se(Qt(`nobody_has|${n[10]}`))+"")&&Ne(h,g)},i:function(f){p||(Je(()=>{k&&k.end(1),m=Fn(e,kt,{duration:2400,easing:St,delay:4500}),m.start()}),p=!0)},o:function(f){m&&m.invalidate(),k=Jn(e,kt,{duration:2400,easing:St}),p=!1},d:function(f){f&&F(e),f&&k&&k.end()}};return B("SvelteRegisterBlock",{block:A,id:Bs.name,type:"if",source:"(2133:1) {#if si_player_hint}",ctx:n}),A}function Ws(n){let e,t,s,o,r,a,c,u=n[1]&&Object.keys(n[1]).length||localStorage.length,i,_,d,w,b,g,h,m,k,p,A,S,f,E,N,I,Y,q,L,J,M,he,z,Xe,Ue,Ae,Fe,le,Pe;s=new ve({props:{icon:n[0]?Vn:Zn},$$inline:!0}),a=new ve({props:{icon:xn},$$inline:!0});let se=u&&Ds(n);function ut(ce){n[28](ce)}let ge={k_killables:n[14]};n[2]!==void 0&&(ge.k_panel=n[2]),_=new Gi({props:ge,$$inline:!0}),Me.push(()=>Xt(_,"k_panel",ut));function nt(ce){n[30](ce)}let Te={};n[5]!==void 0&&(Te.k_prompt=n[5]),p=new zi({props:Te,$$inline:!0}),Me.push(()=>Xt(p,"k_prompt",nt));function Ke(ce){n[31](ce)}let st={};n[4]!==void 0&&(st.k_tx=n[4]),f=new oo({props:st,$$inline:!0}),Me.push(()=>Xt(f,"k_tx",Ke)),f.$on("basis",n[15]),f.$on("quality",n[17]),f.$on("force_reject",n[16]);function Nt(ce){n[32](ce)}let re={k_deduced:n[13]};n[6]!==void 0&&(re.k_decision=n[6]),I=new _o({props:re,$$inline:!0}),Me.push(()=>Xt(I,"k_decision",Nt)),I.$on("abstain",n[19]),I.$on("change",n[20]);let oe=n[10]&&Bs(n);function It(ce){n[33](ce)}let Ce={};n[7]!==void 0&&(Ce.k_pick=n[7]),J=new po({props:Ce,$$inline:!0}),Me.push(()=>Xt(J,"k_pick",It)),J.$on("pick",n[18]);function Pt(ce){n[34](ce)}let Ct={};n[3]!==void 0&&(Ct.k_scene=n[3]),z=new ro({props:Ct,$$inline:!0}),Me.push(()=>Xt(z,"k_scene",Pt));const qt={c:function(){e=T("div"),t=T("span"),Ie(s.$$.fragment),o=D(),r=T("span"),Ie(a.$$.fragment),c=D(),se&&se.c(),i=D(),Ie(_.$$.fragment),w=D(),b=T("div"),g=T("img"),m=D(),k=T("div"),Ie(p.$$.fragment),S=D(),Ie(f.$$.fragment),N=D(),Ie(I.$$.fragment),q=D(),oe&&oe.c(),L=D(),Ie(J.$$.fragment),he=D(),Ie(z.$$.fragment),Ue=D(),Ae=T("div"),C(t,"class","system-controls-audio s-SHyHC7YcIsCQ"),C(t,"alt","audio"),j(t,ze,2105,1,70547),C(r,"class","system-controls-faucet s-SHyHC7YcIsCQ"),C(r,"alt","faucet"),j(r,ze,2108,1,70692),C(e,"class","system-controls s-SHyHC7YcIsCQ"),j(e,ze,2104,0,70516),Fo(g.src,h="/asset/smile.png")||C(g,"src",h),C(g,"alt","evil smile"),C(g,"class","s-SHyHC7YcIsCQ"),j(g,ze,2122,1,71195),C(b,"class","surprise s-SHyHC7YcIsCQ"),j(b,ze,2121,0,71147),C(Ae,"class","gallery s-SHyHC7YcIsCQ"),j(Ae,ze,2150,1,72030),C(k,"class","container s-SHyHC7YcIsCQ"),j(k,ze,2125,0,71251)},l:function(R){throw new ha("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(R,ne){G(R,e,ne),v(e,t),qe(s,t,null),v(e,o),v(e,r),qe(a,r,null),v(e,c),se&&se.m(e,null),G(R,i,ne),qe(_,R,ne),G(R,w,ne),G(R,b,ne),v(b,g),n[29](b),G(R,m,ne),G(R,k,ne),qe(p,k,null),v(k,S),qe(f,k,null),v(k,N),qe(I,k,null),v(k,q),oe&&oe.m(k,null),v(k,L),qe(J,k,null),v(k,he),qe(z,k,null),v(k,Ue),v(k,Ae),n[35](Ae),Fe=!0,le||(Pe=[Oe(t,"click",n[25],!1,!1,!1),Oe(r,"click",n[26],!1,!1,!1)],le=!0)},p:function(R,ne){const K={};ne[0]&1&&(K.icon=R[0]?Vn:Zn),s.$set(K),ne[0]&2&&(u=R[1]&&Object.keys(R[1]).length||localStorage.length),u?se?(se.p(R,ne),ne[0]&2&&O(se,1)):(se=Ds(R),se.c(),O(se,1),se.m(e,null)):se&&(We(),W(se,1,1,()=>{se=null}),He());const it={};!d&&ne[0]&4&&(d=!0,it.k_panel=R[2],Kt(()=>d=!1)),_.$set(it);const Rt={};!A&&ne[0]&32&&(A=!0,Rt.k_prompt=R[5],Kt(()=>A=!1)),p.$set(Rt);const y={};!E&&ne[0]&16&&(E=!0,y.k_tx=R[4],Kt(()=>E=!1)),f.$set(y);const X={};ne[0]&8192&&(X.k_deduced=R[13]),!Y&&ne[0]&64&&(Y=!0,X.k_decision=R[6],Kt(()=>Y=!1)),I.$set(X),R[10]?oe?(oe.p(R,ne),ne[0]&1024&&O(oe,1)):(oe=Bs(R),oe.c(),O(oe,1),oe.m(k,L)):oe&&(We(),W(oe,1,1,()=>{oe=null}),He());const me={};!M&&ne[0]&128&&(M=!0,me.k_pick=R[7],Kt(()=>M=!1)),J.$set(me);const Ve={};!Xe&&ne[0]&8&&(Xe=!0,Ve.k_scene=R[3],Kt(()=>Xe=!1)),z.$set(Ve)},i:function(R){Fe||(O(s.$$.fragment,R),O(a.$$.fragment,R),O(se),O(_.$$.fragment,R),O(p.$$.fragment,R),O(f.$$.fragment,R),O(I.$$.fragment,R),O(oe),O(J.$$.fragment,R),O(z.$$.fragment,R),Fe=!0)},o:function(R){W(s.$$.fragment,R),W(a.$$.fragment,R),W(se),W(_.$$.fragment,R),W(p.$$.fragment,R),W(f.$$.fragment,R),W(I.$$.fragment,R),W(oe),W(J.$$.fragment,R),W(z.$$.fragment,R),Fe=!1},d:function(R){R&&F(e),Re(s),Re(a),se&&se.d(),R&&F(i),Re(_,R),R&&F(w),R&&F(b),n[29](null),R&&F(m),R&&F(k),Re(p),Re(f),Re(I),oe&&oe.d(),Re(J),Re(z),n[35](null),le=!1,$s(Pe)}};return B("SvelteRegisterBlock",{block:qt,id:Ws.name,type:"component",source:"",ctx:n}),qt}function Hs(n){return n}function wa(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("App",o,[]);const a={chain_name:es,chain_id:$n,game_addr:jt,game_hash:Ii,rest:qn,rpc:ln,minter_addr:xt,minter_hash:qi};let c,u;try{const l=new Intl.Locale(navigator.language).language;l in vi&&(u=l)}catch{}{const l=Bt("en");l.subscribe(P=>u=P),wi("game",{language:l})}let i,_,d,w,b,g,h;const m=new ji;let k,p,A,S,f=new dn,E=Hs,N=Hs;function I(l){let P=0;const U=50,ee=U/5e3,Z=window.setInterval(()=>{P+=ee,P>=1?window.clearInterval(Z):l.volume=1-vt(P)},U)}const Y=new Image;Y.src="/asset/monster.png";const q=new Image;q.src="/asset/smile.png";async function L(l){for(const P of Si[l])P.delay&&await H(P.delay),await i.reveal_text(P.labels[u],P.interval,P.pause)}async function J(){await H(2e3),await L("attention"),await H(1800),await i.reveal_text(""),await H(1200)}async function M(){await i.reveal_text("good luck! ;)"),await H(800),await i.reveal_text("")}async function he(){return await w.ok("Reload"),window.location.reload(),new Promise(()=>{})}async function z(l,P){return m.killAll(),i.reveal_text(""),await ne(l,!0,P),he()}async function Xe(l){let P="";l||(P="                                 ",await i.reveal_text(P)),le.epic_transition.play(),P||i.reveal_text(P+"  ",250),re.classList.add("triggered"),await H(160),t(11,re.style.opacity="0.0",re),setTimeout(()=>{t(11,re.style.display="none",re)},6e3),l||wt({surprise:"bypass"},12*lt),await H(2e3)}async function Ue(l=0){const ee=(await(await ki.load()).get()).visitorId,Z=ee;if(i.reveal_text(""),!h){await R(`
				This is a multiplayer, online game that uses hidden-state smart contracts on the Secret Network testnet.
			`),await H(600);const ae=await w.opts({keplr:$t.isAvailable()?{label:"Connect Wallet",alt:"Connect a wallet using a Keplr-compatible wallet"}:{label:"Install StarShell",alt:"Wallet was not detected. Please install one first in order to use this option"}});switch(ae){case"keplr":{try{h=$t.fromWindow()}catch{return window.open("https://install.starshell.net/?redirect","_blank"),await he()}wt({wallet:"keplr"},30*lt);break}case"local":return z("Local storage wallet not yet implemented");default:return z(`Unhandled response option: '${ae}'`)}}let ie=!1;try{ie=await h.enable({chainId:$n,chainName:es,rest:qn,rpc:ln},()=>(h.disable(),z("Account was changed in wallet. Session terminated.")))}catch(ae){debugger;return ae instanceof as?l>=3?z("Wallet connection request rejected too many times"):(await H(2e3),await Ue(l+1)):ae instanceof rs||ae instanceof Error?z(ae.stack):z("Fatal unknown error")}if(!ie)return z("Chain suggestion was denied. Unable to proceed.");const x=h.key,V=x.bech32Address;i.wallet({name:x.name,addr:V,ledger:x.isNanoLedger});const Q=new go(V,[ee,Z,"salt"].join("|"),a);let te=null;try{te=Q.get("permits")}catch{await R("Change in passphrase detected. Clearing old query perrmits."),Q.clear()}await H(1e3);let ue=!1;if(te&&te[jt])c=te[jt],ue=!0;else{await R(`
				Query permits let this game read encrypted data from the blockchain.

				Signing a query permit happens offline and does not require any gas.
			`),await H(1800),await w.ok("Sign permit");try{c={params:{chain_id:h.chain,allowed_tokens:[jt,xt],permit_name:os,permissions:["owner"]},signature:await h.signQueryPermit()},Q.set("permits",yt(et({},te||{}),{[jt]:c,[xt]:c}))}catch(ae){return z(ae.stack)}}i.permit(c.params,ue),await H(1200),await i.reveal_text(""),await H(1100)}async function Ae(l=!1){let P=Bt("");l?R("Still waiting for another player... {last_check}",{last_check:P}):R("Created a new game. Now waiting for another player... {last_check}",{last_check:P});let U=window.Notification&&Notification.permission==="granted",ee=!1;function Z(){if(U)R("You will receive a notification once another player has joined.");else{const te=Ee("span"),ue=new mo({target:te});ue.$on("change",async()=>{const ae=Date.now();await Notification.requestPermission()==="denied"?(ue.$set({si_selected:"none"}),Date.now()-ae<.5*rt?R("User previously denied request for notifications. Need to reset in browser settings."):R("User denied request for notification permission.")):R("Confirmed. Notification will be sent when another player joins.")}),R("Would you like to receive a notification once another player has joined? {approve}",{approve:te})}}let ie=Date.now(),x=m.addInterval(()=>{ie&&P.set(`Last checked ${Ti(ie)}`),ee||(ee=!0,Z())},1e3),V,Q;for(;;){Q=Date.now();try{V=await ge.queryGameState()}catch(ue){return ue instanceof un?z(ue.message):z(ue+"")}if(V.round!==0)break;ie=Date.now(),await H(2e3);const te=Date.now()-Q;te<5*rt&&await H(te)}m.delInterval(x),P.set("");{let te=function(){window.removeEventListener("focus",ue)},ue=function(){te(),I(ae)};const ae=le.retro_game_alarm;ae.play(),document.hasFocus()?(await H(1800),I(ae)):window.addEventListener("focus",ue)}return V}const Fe={epic_transition:"epic-transition.wav",coin:"coin.wav",death:"death.wav",menu_1a:"menu-1a.wav",menu_1b:"menu-1b.wav",rise:"rise.wav",coin_win:"coin-win.wav",retro_game_alarm:"retro-game-alarm.wav",retro_game_notif:"retro-game-notif.wav",trumpet_fanfare:"trumpet-fanfare.wav"},le=Object.fromEntries(De(Fe).map(([l,P])=>[l,new Audio(`/asset/audio/${P}`)]));let Pe=!1,se=fn(),ut,ge;async function nt(){await K(`
			Your opponent is taking too long. Since you have already fulfilled your duty, I will allow you to end the game and get a refund.

			Would you like to end the game?
		`),await i.reveal_text("yes, give me my money back"),i.submittable(async()=>{i.submittable(null);const l=await X({async exec(){return(await ge.forceEndgame()).data.force_endgame.game_state},check(P){return P.finished!==null},query_fail(){return nt(),null},persist_reveal:!0});if(!!l)return await i.commit(),i.unsubmittable(),await K(`I have refunded you ${cn(BigInt(l.wager))}.`),await le.coin.play(),Ke()})}class Te{constructor(P){this._s_expired="run out of time";const U=P.terminate;this._s_kill=P.kill_text||"",this._k_eta=P.eta,this._yw_time=Bt("(estimating...)"),this._k_eta.eta,this._i_interval=m.addInterval(()=>{const Z=this._k_eta;if(!Z.ready)return;if(Z.expired){this._yw_time.set(this._s_expired),m.delInterval(this._i_interval),this._i_interval=0;try{this._dm_clock.remove()}catch{}U&&U();return}const ie=Z.remaining,x=Math.max(0,Math.floor(ie/rt)),V=Math.floor(x/60);V?V<2?this._yw_time.set("less than 2 minutes remaining"):V<5?this._yw_time.set("less than 5 minutes remaining"):V<10?this._yw_time.set("less than 10 minutes remaining"):this._yw_time.set("a little more than 10 minutes remaining"):x<=10?this._yw_time.set("less than 10 seconds remaining"):x<=31?this._yw_time.set("less than 30 seconds remaining"):this._yw_time.set("less than 60 seconds remaining")},100);const ee=this._dm_clock=Ee("span");Object.assign(ee.style,{paddingRight:"2px"}),new ve({target:ee,props:{icon:bi}})}get interval(){return this._i_interval}get clock(){return this._dm_clock}get store(){return this._yw_time}kill(P=""){this._i_interval&&(m.delInterval(this._i_interval),this._i_interval=0,this._dm_clock.remove(),this._yw_time.set(P||this._s_kill))}}async function Ke(){return tn("game"),z("Game over. Reload to play again.")}async function st(){let l=!0;i.reveal_text("checking for active game...").then(()=>l&&i.spinning(!0));let P;try{try{P=await ge.queryGameState()}finally{l=!1,i.reveal_text("")}}catch{debugger}if(P&&(console.log("Resuming:",P),P.round!==null)){if(P.finished?R("Fast-forwarding through finished game so you can see the results."):R("Successfully resumed active game."),P.round===0&&(P=await Ae(!0)),P.round===1)return ft(P,!0),!0;if(P.round===3)return Dn(P,!0),!0;await ne(`Unrecognized game state round: ${P.round}`)}return!1}let Nt=!1,re;const oe=l=>l.cloneNode();async function It(){if(Pe)return;const l=oe(le.menu_1a);l.volume=.4;try{await l.play()}catch{}}async function Ce(){if(Pe)return;const l=oe(le.menu_1b);l.volume=.4;try{await l.play()}catch{}}async function Pt(){try{await le.rise.play()}catch{}}async function Ct(){const l=oe(le.coin);l.volume=Math.random()*.35+.1;try{await l.play()}catch{}}async function qt(){if(!Pe)for(let l=0;l<10;l++)Ct(),await H(Math.random()<.35?150:250)}async function ce(){const l=oe(le.death);try{await l.play()}catch{}}async function R(...l){return Ce(),i.warn(...l)}async function ne(...l){return Ce(),i.error(...l)}async function K(...l){return It(),i.arbiter(...l)}let it;async function Rt(){var V;const l=await ut.queryListNfts();if(!((V=l==null?void 0:l.token_list)==null?void 0:V.tokens))return;const P=l.token_list.tokens,U=[],ee=["Well done that game.","Good job!","Yep, I remember that game.","Nice!","Beautiful."];let Z=0;const ie={};let x=0;for(const Q of P)ie[Q]=0,U.push(new wo({target:it,props:{si_token:Q,g_nft:null,i_card:x++}}));for(let Q=0,te=P.length;Q<te;Q++){const ue=await ut.queryNftInfo(P[Q]),ae=U[Q];ae.$set({g_nft:ue}),ae.$on("click_card",async Ye=>{const{token_id:Be,ext:dt}=Ye.detail;if(!ie[Be])switch(ie[Be]+=1,dt.description){case"simple":{Z>=ee.length?(await K("Ok, i'm over this..."),Z=-1):Z>=0&&await K(ee[Z++]);break}case"insurance":{await K("Insurance will protect you in the event that you are eliminated. Your wager will be returned and your opponent will not see any gains.");break}}})}}Jt(async()=>{console.log(a);const l=se.last_seen;if(l&&t(0,Pe=!!+se.muted),se.wallet==="keplr")try{h=$t.fromWindow()}catch{tn("wallet")}wt({last_seen:""+Date.now()},30*lt),t(1,se=fn()),await Ue(),ut=new Mi(h,xt,c),Rt(),ge=new Oi(h,jt,c);const P=en("game");if(P&&P[h.publicAddress]){if(await st())return;wt({game:yt(et({},en("game")||{}),{[h.publicAddress]:""})},30*lt)}const U=se.surprise;return U!=="bypass"?(await Xe(U),await J()):await M(),await K(`
			Welcome${l?" back":""} to my game of secrets! In a moment, you will be matched with another player.

			I will pick 3 chips at random, and give one to each of you. Each chip has a unique color and unique shape on it. There are four colors, and four shapes.

			The third chip is mine. As an example, if I have a red triangle, then nobody else has red nor a triangle.

			The rules are simple. Exchange two messages with your opponent.
			 - Cooperate to deduce what's in my bag and advance to the next round.
			 - Or, betray your opponent by guessing what they have and steal their wager.
			 - Guess wrong and lose!
		`),await H(l?800:4600),me()});class y extends Error{}async function X(l){let P=!0;const U=l.reveal;typeof U=="string"?i.reveal_text(U).then(()=>P&&i.spinning(!0)):i.spinning(!0);const ee=l.check,Z=l.condition||l.query_fail,ie=l.rejected||l.query_fail;let x;try{try{if(x=await l.exec(),!ee(x))throw x=null,new y}finally{P=!1,l.persist_reveal||i.reveal_text("")}}catch(V){if(console.error(V),V instanceof Error){const Q=V.message;if(/Account does not exist/.test(Q)){const te=Ee("span");new ve({target:te,props:{icon:xn}});const ue=Ee("a",{href:"https://faucet.secrettestnet.io/",target:"_blank"},["from the faucet"]);return Object.assign(ue.style,{color:"white"}),te.append(ue),z("Looks like your wallet is empty. Make sure to acquire some SCRT tokens {faucet} so that you can pay the gas fees for transactions.",{faucet:te})}else{if(/must finish current game/.test(Q))return wt({game:yt(et({},en("game")||{}),{[h.publicAddress]:"active"})},12*Wt),await st()?null:z("Looks like you changed browsers or cleared cache since you last joined a game with this account. Please reload and the game will attempt to resume.");if(/contract not found/i.test(Q))return z("Contract not found! Are you on the right network?");if(/Game is finished/i.test(Q))return Ke(),new Promise(()=>{});if(/execute contract failed/.test(Q))return ne(`Contract error: ${Q}`),Z(V),null;if(/Request rejected/.test(Q))return ne("Transaction rejected"),ie(V),null;if(/timed out/.test(Q)){const te=Bt("");await R("There was a timeout error while waiting for the transaction to be included. Waiting to see if it gets included... {retries}",{retries:te});const ue=await async function ae(Ye=1){await H(5e3);let Be;try{if(Be=await ge.queryGameState(),!ee(Be)){if(console.warn("query permit check failed on game state",Be),Be.finished)return await K("Your opponent ended the game because you took too long to respond."),await Ke(),null;Be=null}}catch(dt){if(!(dt instanceof y))return await ne(["Timeout error. Please try again with higher gas fee.",Q]),l.query_fail?await l.query_fail(dt):null}return Be||(Ye>=5?(await ne("Reached maximum retries. Seems like your transaction failed. Try again with higher gas fee?"),l.query_fail?await l.query_fail(new y):z("Unhandled query failure path.")):(te.set(`Retried ${Ye===1?"once":`${Ye} times`} so far...`),await ae(Ye+1)))}();if(ue)x=ue;else return null}else{debugger;return z(`Unhandled error: ${V.stack}`)}}}else return z(`Unknown error: ${V}`)}return console.log(x),x}async function me(){await i.reveal_text("ready to play?"),await w.ok("Join a game");const l=await X({reveal:"waiting for transaction to be verified... ",async exec(){return(await ge.joinGame()).data.join.game_state},check(U){return U.round!==null},query_fail(){return me(),null}});if(!l)return;let P=l;return l.round===0&&(wt({game:yt(et({},en("game")||{}),{[h.publicAddress]:"active"})},12*Wt),P=await Ae()),P.round===1||P.round===3?ft(P):(console.error(P),wt({game:yt(et({},en("game")||{}),{[h.publicAddress]:"active"})},12*Wt),z("Failed to join game while waiting for transaction. You can try once more by reloading this page."))}function Ve(l){var P;t(8,k=l.chip_color.split(":")[1]),t(9,p=l.chip_shape.split(":")[1]),t(10,A=(P=l.hint)==null?void 0:P.split("|")[1]),S=l.first_submit,t(22,f=new dn),f.nobody(`color:${k}`),f.nobody(`shape:${p}`),f.nobody(A)}let Le=Zt[0],je="";async function Ze(){const l=je?Ht(je):"",P=Tt[Le].describe[u](l);await i.reveal_text(P)}function xe(l){i.submittable(null),Le=l.detail,je="",Ze()}let _t=!1;function ke(l){if(_t)return;_t=!0;const[P,U]=l.detail;K(`You already used "${Tt[P].describe[u]("")}" last turn. Now you must use "${Tt[U].describe[u]("")}".`)}function we(){je="",i.submittable(null),d.show(),Ze()}async function $e(l){if(i.submittable(null),je=l.detail,S){const[,Z]=S.split("|");Z===je&&(je="",await K("You cannot submit a message that would contradict your previous assertion."))}const[P,U]=je.split(":");let ee="Unknowable";Le==="nobody_has"?A===je?ee="Truth":(P==="color"&&U===k||P==="shape"&&U===p)&&(ee="Lie"):P==="color"&&U===k||P==="shape"&&U===p?ee="Truth":ee="Lie",await Ze(),i.submittable(async()=>{d.hide(),i.submittable(null);const Z=await X({async exec(){return(await ge.submitAssertion(Le,je)).data.submit.game_state},check(ie){return S?ie.second_submit!==null:ie.first_submit!==null},query_fail(){return we(),$e(l),null},persist_reveal:!0});!Z||(await i.commit(),i.spinning(!1),Ge&&Ge.kill(),Ot&&Ot.kill(),i.unsubmittable(),Z.second_submit?bn(Z):pn(Z))},ee)}let Ge;async function ft(l,P=!1){Ve(l),await i.reveal_text(""),await K("Here is your chip, player..."),await _.animate_chip_entry(k,p),P||await H(5e3);let U=A.startsWith("color:");if(await K(`
			Round 1: I've given you the ${k} ${p} this round, and a hint that nobody has ${U?"":"a "}${A.replace(/^[^:]+:/,"")}.

			I've also given your opponent a hint. Theirs is that nobody has a certain ${U?"shape":"color"}.
		`),l.first_submit)return await i.user(Qt(l.first_submit)),pn(l,P);P||await H(4100),Ge=new Te({eta:new Et(l.first_round_start_block+""),kill_text:"successfully submitted"}),await K(["Now you must choose what to tell the other player. I will reveal both of your messages simultaneously once they both have been submitted. You have {clock_icon}{time_remaining}."],{clock_icon:Ge.clock,time_remaining:Ge.store}),await d.show(),P||await H(4e3),Ze()}let bt=!1,ot,Ot;async function pn(l,P=!1){var x;Ve(l);const{opponent_first_submit:U,first_extra_secret:ee}=l;if(!U&&!ee)return bt||(bt=!0,Ge&&Ge.kill("already submittted"),ot=new Te({eta:new Et(l.first_round_start_block+""),kill_text:"also submitted theirs",terminate:nt}),await K(["Your submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:ot.clock,time_remaining:ot.store})),await H(5e3),pn(await ge.queryGameState());ot&&ot.kill(),P||Pt();const Z=Ee("span");if(ee){const[V,Q]=ee.split("|"),te=Bt("");V==="nobody_has"?(f.nobody(Q),te.set(`Your opponent has the hint that "nobody has ${Ht(Q)}".`)):(f.opponent(Q,!0),te.set(`Your opponent has ${Ht(Q)}.`)),new mn({target:Z,props:{b_mode_nobody:!1,si_assertion:Q,si_known:"true"}}),await K(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:te,premise:Z})}else if(U){const[V,Q]=U.split("|");let te=f.clone();const ue=V==="nobody_has"&&Q===A,ae=new mn({target:Z,props:{b_mode_nobody:V==="nobody_has",si_assertion:Q,si_known:ue?"undeniable":""}}),Ye=ae.k_premise;ae.$on("change",()=>{t(23,E=Ye.apply),console.log(`Priori: ${f.explain()}`),console.log(`Opp1: ${te.explain()}`),console.log([f,te])}),await i.opponent([`${Se(Qt(U))} {premise}`],{premise:Z})}else return z("Fatal system error: unable to parse game state");if(l.second_submit)return await i.user(Qt(l.second_submit)),bn(l,P);P||await H(4100),Ot=new Te({eta:new Et(l.second_submit_turn_start_block+""),kill_text:"already submitted"});const ie=((x=l.first_submit)==null?void 0:x.split("|")[0])==="nobody_has"?"i_have":"nobody_has";await K([`Both of you must now exchange one more message with each other. This time, I'm requiring you to submit a message about ${ie==="nobody_has"?'what "nobody has"':"your chip"}. You have {clock_icon}{time_remaining}.`],{clock_icon:Ot.clock,time_remaining:Ot.store}),await d.show(ie),Ze()}let gn=!1,wn,Mt,Gt;async function bn(l,P=!1){const{opponent_second_submit:U,second_extra_secret:ee}=l;if(!U&&!ee)return gn||(gn=!0,wn&&wn.kill(),Mt=new Te({eta:new Et(l.second_submit_turn_start_block+""),kill_text:"also submitted theirs",terminate:nt}),await K(["Your 2nd submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:Mt.clock,time_remaining:Mt.store})),await H(5e3),bn(await ge.queryGameState());P||Pt();const Z=Ee("span");if(ee){const[ie,x]=ee.split("|"),V=Bt("");ie==="nobody_has"?(t(24,N=Q=>Q.nobody(x)),V.set(`Your opponent has the hint that "nobody has ${Ht(x)}".`)):(t(24,N=Q=>Q.opponent(x,!0)),V.set(`Your opponent has ${Ht(x)}.`)),new mn({target:Z,props:{b_mode_nobody:!1,si_assertion:x,si_known:"true"}}),await K(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:V,premise:Z})}else if(U){Mt&&Mt.kill();const[ie,x]=U.split("|"),V=ie==="nobody_has"&&x===A,Q=new mn({target:Z,props:{b_mode_nobody:ie==="nobody_has",si_assertion:x,si_known:V?"undeniable":""}}),te=Q.k_premise;Q.$on("change",()=>{t(24,N=te.apply)}),await i.opponent([`${Se(Qt(U))} {premise}`],{premise:Z})}else return z("Fatal system error: unable to parse game state");if(l.guess)return await i.user(Wn(l.guess)),Sn(l,P);Gt=new Te({eta:new Et(l.guess_turn_start_block+""),kill_text:"successfully submitted"}),await K(`
			The time has come for you to surmise my secrets. You may either guess what is in my bag, what your opponent has, or abstain completely. You have {clock_icon}{time_remaining}.

			The precedence for winning is as follows:
			- [Guess wrong] < [Abstain] < [Correctly guess arbiter's bag] < [Corrrectly guess opponent's chip]

			Use the inline widgets next to each assertion above to logically reduce your option space.
		`,{clock_icon:Gt.clock,time_remaining:Gt.store}),await b.show(),console.log(l)}async function yn(l){i.submittable(null),await i.reveal_text(Wn(l),30),i.submittable(async()=>{i.submittable(null),b.hide();const P=await X({async exec(){return(await ge.submitGuess(l)).data.guess.game_state},check(U){return U.guess!==null},query_fail(){return b.show(),yn(l),null},persist_reveal:!0});!P||(await i.commit(),i.unsubmittable(),Gt.kill(),Sn(P))})}let kn=!1,vn=!1,Ut;async function Sn(l,P=!1){const{round_result:U,round:ee,result:Z}=l;let ie=!1;if(U&&!kn){kn=!0;const[x,V]=U.split("|");x==="abstain"?await K(`
					Very brave to abstain, player.
				`):V==="wrong"?(le.death.play(),await K(`
					Sorry, your guess about ${x==="opponent"?"your opponent's chip":"my bag"} was wrong.
					
					Guessing wrong is the worst because you automatically lose your wager. Consider abstaining next time if you're unsure.
				`),ie=!0):await K(`Nicely done, your guess about ${x==="opponent"?"your opponent's chip":"my bag"} was correct!`)}if(!l.opponent_guess)return vn||(vn=!0,Ut=new Te({eta:new Et(l.guess_turn_start_block+""),kill_text:"now submitted",terminate:nt}),await K(`${ie?"Even though you lost":"However"}, I am still waiting for a guess from your opponent. They have {clock_icon}{time_remaining}.`,{clock_icon:Ut.clock,time_remaining:Ut.store})),await H(5e3),Sn(await ge.queryGameState());if(Ut&&Ut.kill(),t(10,A=""),_.animate_chip_exit(),console.log("round_1d#over",l),l.finished)if(l.opponent_round_result){const{opponent_round_result:x,opponent_guess:V}=l,[Q,te,ue]=V.split(/\|/g),[,ae]=x.split("|");let Ye="",Be=!1;if(Q==="abstain")Ye="abstained from guessing";else{const dt=te.split(":")[1],An=ue.split(":")[1],Qn=At[dt].labels[u]+" "+Vt[An].labels[u];Be=ae!=="correct",Ye=`${Be?"wrongly":"correctly"} guessed that ${Q==="bag"?"my bag":"your chip"} is the ${Qn}`}if(Z==="you lost wager")return await K([`${ie?"As you already know":"Bad news"}, you lost your wager. ${Be?"But you'll be happy to know that your opponent":"Your opponent"} ${Ye}, so they ${Be?"also lost their wager":"won the game and gained your lost wager"}.`]),le.death.play(),await H(9e3),Ke();if(Z==="you won wager"){const dt=BigInt(l.wager),An=cn(dt),Qn=cn(dt*2n);return await K(`
						Congratulations, you won! Your opponent ${Ye}, so they lost their wager.
						
						I have refunded you your original ${An} plus an extra ${An} from your opponent's wager for a total of ${Qn}.
					`),await le.coin.play(),await H(9e3),Ke()}else await K([`Well done. You and your opponent have tied, so you both can claim a reward. They ${Ye}.`]),P||await H(4e3)}else return z("Somebody terminated the game.");else if(l.round===3)Dn(l,P);else return z(`Game is not finished but round is ${l.round}.`)}let Qs=!1,Lt;async function Dn(l,P=!1){if(Lt=new Te({eta:new Et(l.pick_reward_round_start_block+""),kill_text:"made your decision"}),await le.trumpet_fanfare.play(),await H(1500),await K(`
			Congratulations on passing round 1 together! I have two rewards to choose from, a jackpot of SCRT, or an NFT that can be used to give you special powers next time you play.

			However, if you both attempt to claim the same prize, then neither of you will take it. You will only be able to take a reward if you and your opponent claim different things.

			You have {clock_icon}{time_remaining}.
		`,{clock_icon:Lt.clock,time_remaining:Lt.store}),l.pick)return Pn(l,!0);g.show()}async function Bn(l){const{detail:P}=l;i.submittable(null),await i.reveal_text(`i pick the ${P}`),i.submittable(async()=>{i.submittable(null),g.hide();const U=await X({async exec(){return(await ge.pickReward(P)).data.pick_reward.game_state},check(ee){return ee.pick!==null},query_fail(){return g.show(),Bn(l),null},persist_reveal:!0});!U||(await i.commit(),i.unsubmittable(),Pn(U))})}let sn,En=!1;async function Pn(l,P=!1){Lt&&Lt.kill();const{result:U}=l;if(U){switch(U){case"you won jackpot":{qt(),await K(`
						Fortune favors the bold! Your opponent picked the NFT, and you have successfully claimed the jackpot of ${cn(BigInt(l.jackpot_reward||"0"))}!
					`);break}case"you won nft":{ce(),await K(`
						Wise move. While your opponent chose the short-term gain, you see the long-term potential. You have successfully claimed an NFT.
					`);break}case"you lost reward":{ce(),l.pick==="jackpot"?await K(`
							Greed has spoiled your riches. Both players attempted to claim the jackpot, so you both shall leave empty-handed.
						`):await K(`
							An unlucky pick. Both players attempted to claim the NFT, so you both shall leave empty-handed.
						`);break}}return await H(9e3),Ke()}else return En||(En=!0,sn=new Te({eta:new Et(l.pick_reward_round_start_block+""),kill_text:"also picked theirs",terminate:nt}),await K(["Your pick has been noted. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:sn.clock,time_remaining:sn.store})),await H(5e3),Pn(await ge.queryGameState())}function Wn(l){let P;if(typeof l=="string"?P=Object.fromEntries(l.split(/\|/g).map(U=>U.split(":"))):P=l,P.target==="abstain")return"i abstain from guessing this round";{let U="";return P.target==="bag"?U+="the arbiter's bag is: a ":U+="my opponent's chip is: a ",U+At[P.color].labels[u]+" "+Vt[P.shape].labels[u]}}async function Gs(){yn({target:"abstain",color:null,shape:null})}async function Fs({detail:l}){yn(l)}let Cn=!1;function Hn(){if(!Cn)Cn=!0,ne("The button you just clicked will remove all cookies and cache that the game previously created and then disable the current UI. If you agree to this, click the burn icon again.");else return Object.keys(fn()).forEach(l=>tn(l)),localStorage.clear(),i.reveal_text(""),z("Cache burned")}const bo=[];pa.keys(e).forEach(l=>{!~bo.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&ga.warn(`<App> was created with unknown prop '${l}'`)});const yo=()=>t(0,Pe=!Pe),ko=()=>window.open("https://faucet.secrettestnet.io/","_blank"),vo=()=>Hn();function So(l){i=l,t(2,i)}function Eo(l){Me[l?"unshift":"push"](()=>{re=l,t(11,re)})}function Po(l){w=l,t(5,w)}function Co(l){d=l,t(4,d)}function Ao(l){b=l,t(6,b)}function To(l){g=l,t(7,g)}function jo(l){_=l,t(3,_)}function No(l){Me[l?"unshift":"push"](()=>{it=l,t(12,it)})}return n.$capture_state=()=>({onMount:Jt,setContext:wi,writable:Bt,blur:kt,fade:_e,quadInOut:St,expoOut:vt,Fa:ve,faClock:bi,faVolumeUp:Zn,faVolumeMute:Vn,faFire:yi,faFaucet:xn,fingerprintjs:ki,H_LANGUAGES:vi,H_COLORS:At,H_SHAPES:Vt,A_BASES:Zt,H_BASES:Tt,H_MESSAGES:Si,SI_CHAIN:$n,S_CHAIN_NAME:es,P_LCD_REST:qn,P_LCD_RPC:ln,uscrt_to_scrt:cn,KeplrWallet:$t,EnableKeplrError:as,OfflineSignerError:rs,dd:Ee,delete_cookie:tn,read_cookie:fn,read_cookie_json:en,write_cookie:wt,XTL_SECONDS:rt,XTL_HOURS:Wt,XTL_DAYS:lt,ode:De,proper:Se,timeout:H,relative_time:Ti,Killables:ji,Deduction:dn,use_assertion_in_sentence:Qt,use_quality_in_sentence:Ht,MessagePanel:Gi,Prompt:zi,Assertion:oo,Scene:ro,PremiseWidget:mn,Decision:_o,ActionWidget:mo,Pick:po,SI_PERMIT:os,ContractError:un,EtaEstimator:Et,GameContract:Oi,P_CONTRACT_GAME_ADDR:jt,SI_CONTRACT_GAME_CODE_HASH:Ii,P_CONTRACT_MINTER_ADDR:xt,SI_CONTRACT_MINTER_CODE_HASH:qi,MinterContract:Mi,EncryptedLocalStorage:go,NftCard:wo,F_IDENTITY:Hs,G_NETWORK_SUMMARY:a,g_permit:c,s_lang:u,k_panel:i,k_scene:_,k_tx:d,k_prompt:w,k_decision:b,k_pick:g,k_wallet:h,k_killables:m,si_player_color:k,si_player_shape:p,si_player_hint:A,si_submit_first:S,k_priori:f,f_assert_1:E,f_assert_2:N,quiet_fade:I,d_img_monster:Y,d_img_smile:q,reveal_prepared:L,introduction:J,welcome_back:M,reload:he,fatal:z,surprise:Xe,connect_wallet:Ue,wait_for_other_player:Ae,H_AUDIO_SRC:Fe,H_AUDIO:le,b_muted:Pe,h_cookie:se,k_minter:ut,k_game:ge,force_endgame:nt,Countdown:Te,game_over:Ke,try_resume_game:st,b_surprise:Nt,dm_surprise:re,clone_audio:oe,play_menu_1a:It,play_menu_1b:Ce,play_notif:Pt,play_coin:Ct,play_jackpot:qt,play_death:ce,warn:R,err:ne,arbiter:K,dm_gallery:it,display_nfts:Rt,GameStateError:y,safe_exec:X,try_join:me,update_player_state:Ve,si_assert_basis:Le,si_assert_quality:je,reveal_tx:Ze,select_basis:xe,b_force_rejected:_t,force_reject:ke,reset_tx:we,select_quality:$e,k_countdown_1a:Ge,round_1a:ft,b_notif_1b_waiting:bt,k_countdown_1a2:ot,k_countdown_1b:Ot,round_1b:pn,b_notif_1c_waiting:gn,k_countdown_1b2:wn,k_countdown_1c:Mt,k_countdown_1c2:Gt,round_1c:bn,prepare_guess:yn,b_notif_1d_result:kn,b_notif_1d_waiting:vn,k_countdown_1d:Ut,round_1d:Sn,b_notif_3a_waiting:Qs,k_countdown_3a:Lt,round_3a:Dn,select_pick:Bn,k_countdown_3b:sn,b_notif_3b_waiting:En,round_3b:Pn,use_guess_in_sentence:Wn,select_abstain:Gs,select_decision:Fs,b_burn_clicked:Cn,burn:Hn,k_deduced:s}),n.$inject_state=l=>{"g_permit"in l&&(c=l.g_permit),"s_lang"in l&&(u=l.s_lang),"k_panel"in l&&t(2,i=l.k_panel),"k_scene"in l&&t(3,_=l.k_scene),"k_tx"in l&&t(4,d=l.k_tx),"k_prompt"in l&&t(5,w=l.k_prompt),"k_decision"in l&&t(6,b=l.k_decision),"k_pick"in l&&t(7,g=l.k_pick),"k_wallet"in l&&(h=l.k_wallet),"si_player_color"in l&&t(8,k=l.si_player_color),"si_player_shape"in l&&t(9,p=l.si_player_shape),"si_player_hint"in l&&t(10,A=l.si_player_hint),"si_submit_first"in l&&(S=l.si_submit_first),"k_priori"in l&&t(22,f=l.k_priori),"f_assert_1"in l&&t(23,E=l.f_assert_1),"f_assert_2"in l&&t(24,N=l.f_assert_2),"b_muted"in l&&t(0,Pe=l.b_muted),"h_cookie"in l&&t(1,se=l.h_cookie),"k_minter"in l&&(ut=l.k_minter),"k_game"in l&&(ge=l.k_game),"b_surprise"in l&&(Nt=l.b_surprise),"dm_surprise"in l&&t(11,re=l.dm_surprise),"dm_gallery"in l&&t(12,it=l.dm_gallery),"si_assert_basis"in l&&(Le=l.si_assert_basis),"si_assert_quality"in l&&(je=l.si_assert_quality),"b_force_rejected"in l&&(_t=l.b_force_rejected),"k_countdown_1a"in l&&(Ge=l.k_countdown_1a),"b_notif_1b_waiting"in l&&(bt=l.b_notif_1b_waiting),"k_countdown_1a2"in l&&(ot=l.k_countdown_1a2),"k_countdown_1b"in l&&(Ot=l.k_countdown_1b),"b_notif_1c_waiting"in l&&(gn=l.b_notif_1c_waiting),"k_countdown_1b2"in l&&(wn=l.k_countdown_1b2),"k_countdown_1c"in l&&(Mt=l.k_countdown_1c),"k_countdown_1c2"in l&&(Gt=l.k_countdown_1c2),"b_notif_1d_result"in l&&(kn=l.b_notif_1d_result),"b_notif_1d_waiting"in l&&(vn=l.b_notif_1d_waiting),"k_countdown_1d"in l&&(Ut=l.k_countdown_1d),"b_notif_3a_waiting"in l&&(Qs=l.b_notif_3a_waiting),"k_countdown_3a"in l&&(Lt=l.k_countdown_3a),"k_countdown_3b"in l&&(sn=l.k_countdown_3b),"b_notif_3b_waiting"in l&&(En=l.b_notif_3b_waiting),"b_burn_clicked"in l&&(Cn=l.b_burn_clicked),"k_deduced"in l&&t(13,s=l.k_deduced)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&29360128&&t(13,s=N(E(f.clone()).clone()).clone()),n.$$.dirty[0]&3&&se&&(Object.values(le).forEach(l=>l.muted=Pe),wt({muted:Pe?"1":"0"},30*lt))},[Pe,se,i,_,d,w,b,g,k,p,A,re,it,s,m,xe,ke,$e,Bn,Gs,Fs,Hn,f,E,N,yo,ko,vo,So,Eo,Po,Co,Ao,To,jo,No]}class ba extends mt{constructor(e){super(e);ht(this,e,wa,Ws,pt,{},null,[-1,-1,-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:Ws.name})}}new ba({target:document.body,props:{}});
//# sourceMappingURL=index.61fed58a.js.map
