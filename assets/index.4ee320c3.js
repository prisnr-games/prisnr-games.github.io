var Io=Object.defineProperty,Ro=Object.defineProperties;var Oo=Object.getOwnPropertyDescriptors;var Ks=Object.getOwnPropertySymbols;var Mo=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable;var Xs=(n,e,t)=>e in n?Io(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tt=(n,e)=>{for(var t in e||(e={}))Mo.call(e,t)&&Xs(n,t,e[t]);if(Ks)for(var t of Ks(e))Uo.call(e,t)&&Xs(n,t,e[t]);return n},yt=(n,e)=>Ro(n,Oo(e));import{v as Lo,S as Yo,a as ht,i as mt,s as pt,d as D,g as Vs,b as gt,c as zt,o as Kt,e as Fn,f as kt,h as _e,q as rn,F as Se,j as Zs,k as xs,l as $s,m as ei,n as T,t as fe,p as C,r as j,u as G,w as v,x as Ie,y as ze,z as Jn,A as zn,B as F,C as Re,D as B,E as x,G as Oe,H as O,I as He,J as H,K as Qe,L as be,M as Me,N as Ue,O as Bo,P as ti,Q as Le,R as vt,T as pe,U as Xt,V as rt,W as nt,X as Do,Y as Ho,Z as St,_ as ni,$ as si,a0 as ye,a1 as Qo,a2 as ii,a3 as Wo,a4 as Go,a5 as Fo,a6 as oi,a7 as Kn,a8 as ai,a9 as ri,aa as li,ab as ln,ac as ci,ad as ui,ae as cn,af as Bt,ag as Dt,ah as _i,ai as Nn,aj as fi,ak as di,al as hi,am as Xn,an as qn,ao as mi,ap as pi,aq as gi,ar as Vn,as as wi,at as bi,au as Zn,av as xn,aw as $n,ax as Vt,ay as yi,az as Ht,aA as ki,aB as vi,aC as Si,aD as Jo,aE as Zt}from"./vendor.99894165.js";const zo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}};zo();const Ei={en:{}},At={red:{color:"#a00000",labels:{en:"red"}},green:{color:"#006000",labels:{en:"green"}},blue:{color:"#0000a0",labels:{en:"blue"}},black:{color:"#000000",labels:{en:"black"}}},In=Object.keys(At),xt={triangle:{symbol:"\u25B2",labels:{en:"triangle"}},square:{symbol:"\u25A0",labels:{en:"square"}},circle:{symbol:"\u25CF",labels:{en:"circle"}},star:{symbol:"\u2605",labels:{en:"star"}}},Rn=Object.keys(xt),Tt={nobody_has:{describe:{en:n=>`nobody has ${n||"..."}`}},i_have:{describe:{en:n=>`my chip is ${n||"..."}`}}},$t=Object.keys(Tt),Pi={attention:[{labels:{en:"the Arbiter approaches..."}}],loading:[{delay:2e3,interval:200,labels:{en:"hmmm"}},{delay:250,interval:500,labels:{en:"hmmm...."}}]},es="pulsar-2",ts="pulsar-2",On="https://lcd.testnet.secretsaturn.net",un="	https://rpc.testnet.secretsaturn.net",_n=n=>(Number(n/10000n)/100).toFixed(2).replace(/\.?0+$/,"")+" SCRT";class ns extends Error{constructor(e,t){t?t instanceof TypeError?super(`${e}: ${t.stack}`):t instanceof Error?super(`${e}: ${t.stack}`):super(`${e}: Unknown error`):super(e)}}const lt=1e3,ss=60*lt,Qt=60*ss,ct=24*Qt,Ci=7*ct,Ai=30*ct,Ti=365*ct,De=Object.entries;function ji(n,e){return De(n).reduce((t,[s,o])=>[...t,e(s,o)],[])}function Q(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}function is(){return new Promise(()=>{})}const Ee=n=>n[0].toUpperCase()+n.slice(1),Ko=[{ge:Ti,divisor:Ti,unit:"year"},{ge:Ai,divisor:Ai,unit:"month"},{ge:Ci,divisor:Ci,unit:"week"},{ge:ct,divisor:ct,unit:"day"},{ge:Qt,divisor:Qt,unit:"hour"},{ge:ss,divisor:ss,unit:"minute"},{ge:lt,divisor:lt,unit:"seconds"},{ge:0,divisor:1,text:"just now"}];function Ni(n,e=Date.now(),t=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"})){const o=(typeof e=="object"?e.getTime():new Date(e).getTime())-(typeof n=="object"?n:new Date(n)).getTime(),r=Math.abs(o);for(const a of Ko)if(r>=a.ge){const c=Math.round(Math.abs(o)/a.divisor),u=o<0;return a.unit?t.format(u?c:-c,a.unit):a.text}}class qi{constructor(){this._as_intervals=new Set,this._as_timeouts=new Set}addInterval(e,t){const s=window.setInterval(e,t);return this._as_intervals.add(s),s}addTimeout(e,t){const s=window.setTimeout(()=>{this.delTimeout(s),e()},t);return this._as_timeouts.add(s),s}delInterval(e){window.clearInterval(e),this._as_intervals.delete(e)}delTimeout(e){window.clearTimeout(e),this._as_timeouts.delete(e)}killAll(){for(const e of this._as_intervals)this.delInterval(e);for(const e of this._as_timeouts)this.delTimeout(e)}}async function Xo(n,e,t=null){if(t==null?void 0:t.search){if(e.includes("?"))throw new Error(`Cannot specify 'search' option in fetch config when URI already contains search params: "${e}"`);e+="?"+new URLSearchParams(t.search).toString(),delete t.search}try{return await Lo(e,yt(tt({},t),{method:n,mode:"cors",headers:tt({Accept:"application/json"},(t||{}).headers||{})})).json()}catch(s){throw s}}async function Ii(n,e=null){return Xo("GET",n,e)}const jt="secret1jyxjyrmd3nrs2yrupyvl6ptexpr6y4uyn785dc",Ri="71a4eacafbc5c4e714ed8b993e4829b7adc1c454eeed108bf45ab5ca24d8d0a1",en="secret1vux78y49ehf29kf7pjujvwsa2td6dyyxkkslne",Oi="7c673145b37899e348b56a39620990a62424a531462ceccf1c36f3b935130f89";class fn extends Error{constructor(e){super(`The game contract returned the following error: ${e}`)}}const Vo="10000000",Zo=new TextDecoder;class Mi{constructor(e,t,s,o){this._k_wallet=e,this._p_contract=t,this._g_permit=s||null,this._si_code_hash=o}async execute(e,t,s=[]){const o=await this._k_wallet.execute(this._p_contract,e,s,t,this._si_code_hash);return{txnHash:o.transactionHash,data:JSON.parse(Zo.decode(o.data))}}query(e){return this._g_permit&&(e={with_permit:{query:e,permit:this._g_permit}}),this._k_wallet.query(this._p_contract,e)}}const dn=180000n;class Ui extends Mi{async queryGameState(){const e=await this.query({game_state:{}});if(e.error)throw new fn(e.error);return e.game_state}joinGame(){return this.execute({join:{}},{amount:[{amount:"81000",denom:"uscrt"}],gas:""+dn},[{denom:"uscrt",amount:Vo}])}submitAssertion(e,t){const[s,o]=t.split(":"),r=s==="color"?{color:o}:{shape:o};return this.execute({submit:tt({target:e},r)},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+dn})}submitGuess(e){return this.execute({guess:e},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+dn})}pickReward(e){return this.execute({pick_reward:{reward:e}},{amount:[{amount:"1000",denom:"uscrt"}],gas:""+25n*dn})}forceEndgame(){return this.execute({force_endgame:{}},{amount:[{amount:"65000",denom:"uscrt"}],gas:""+dn})}}class Li extends Mi{async queryListNfts(){const e=await this.query({tokens:{owner:this._k_wallet.publicAddress}});if(e.error)throw new fn(e.error);return e}async queryNftInfo(e){const t=await this.query({private_metadata:{token_id:e}});if(t.error)throw new fn(t.error);return t}async*queryNfts(){const e=await this.queryListNfts();for(const t of e.token_list.tokens)yield await this.queryNftInfo(t)}}const xo=(n,e)=>e<60*lt?Date.now()-n.lastUpdated>5*lt:Date.now()-n.lastUpdated>30*lt,Yi=200;console.log(`Imposing global ${Yi} blocks per 5 minutes estimate`);let os=!1,Mn=0n,Bi=0,Di=0;async function $o(){if(Date.now()-Di<5*lt)return;const n=new URL(un);n.pathname="/status";try{const e=await Ii(n.href),{latest_block_height:t,latest_block_time:s}=e.data.result.sync_info;Mn=BigInt(t),Bi=new Date(s).getTime(),Di=Date.now()}catch{}}class Et{constructor(e,t=Yi,s=xo){this._xt_start=0,this._xt_eta=0,this._xt_updated=0,this._b_currently_updating=!1,this._xg_block_start=BigInt(e),this._xg_block_dest=this._xg_block_start+BigInt(t),this._f_should_update=()=>s(this,this._xt_eta-Date.now())}async fetch_start_time(){const e=new URL(un);e.pathname="/block";const t=await Ii(e.href,{search:{height:this._xg_block_start+""}});this._xt_start=new Date(t.data.result.block.header.time).getTime()}async estimate(){os=!0,this._xt_start||await this.fetch_start_time(),await $o();const e=Number(Mn-this._xg_block_start);if(e<5)return 0;const t=(Bi-this._xt_start)/e,s=Number(this._xg_block_dest-Mn),o=this._xt_updated=Date.now();return os=!1,this._xt_eta=o+Math.round(s*t)}get lastUpdated(){return this._xt_updated}get destinationBlock(){return this._xg_block_dest}get expired(){return Mn>=this.destinationBlock}get ready(){return this._xt_eta!==0}get eta(){return!this.expired&&!os&&this._f_should_update()&&this.estimate(),this._xt_eta}get remaining(){return this.eta-Date.now()}}const as="prisnr.games: Game State Permit";class rs extends ns{constructor(e){super("While attempting to enable Keplr",e)}}class ls extends ns{constructor(e){super("While attempting to acquire offline signer",e)}}class ea extends ns{constructor(e){super("While attempting to acquire enigma utils",e)}}class tn{constructor(e){this._b_disabled=!1,this._f_change_listener=null,this._k_keplr=e}static isAvailable(){return!!window.keplr}static fromWindow(){if(window.keplr)return new tn(window.keplr);throw new Error("Keplr extension is not installed")}disable(){this._f_change_listener&&window.removeEventListener("keplr_keystorechange",this._f_change_listener),this._b_disabled=!0}async enable(e,t){if(this._b_disabled)return!1;const s=this._si_chain=e.chainId;this._fk_change=t;try{await this._k_keplr.experimentalSuggestChain({chainId:s,chainName:e.chainName,rpc:e.rpc,rest:e.rest,bip44:{coinType:529},coinType:529,stakeCurrency:{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6},bech32Config:{bech32PrefixAccAddr:"secret",bech32PrefixAccPub:"secretpub",bech32PrefixValAddr:"secretvaloper",bech32PrefixValPub:"secretvaloperpub",bech32PrefixConsAddr:"secretvalcons",bech32PrefixConsPub:"secretvalconspub"},currencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],feeCurrencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],gasPriceStep:{low:.4,average:.4,high:.4},features:["secretwasm"]})}catch{return!1}try{await this._k_keplr.enable(s)}catch(o){throw new rs(o)}try{this._k_signer=window.getOfflineSigner(s)}catch(o){throw new ls(o)}try{this._k_enigma=window.getEnigmaUtils(s)}catch(o){throw new ea(o)}return this._g_key=await this._k_keplr.getKey(s),this._a_accounts=await this._k_signer.getAccounts(),this._k_client=new Yo(On,this.publicAddress,this._k_signer,this._k_enigma,{exec:{amount:[{amount:"62500",denom:"uscrt"}],gas:"250000"}}),window.addEventListener("keplr_keystorechange",this._f_change_listener=async()=>{(await this._k_keplr.getKey(s)).bech32Address!==this.publicAddress&&this._fk_change()}),!0}get chain(){return this._si_chain}get key(){return this._g_key}get accounts(){return this._a_accounts}get primaryAccount(){return this.accounts[0]}get publicAddress(){return this.primaryAccount.address}async signQueryPermit(){return this._b_disabled?is():(await this._k_keplr.signAmino(this.chain,this.publicAddress,{chain_id:this.chain,account_number:"0",sequence:"0",fee:{amount:[{denom:"uscrt",amount:"0"}],gas:"1"},msgs:[{type:"query_permit",value:{permit_name:as,allowed_tokens:[jt,en],permissions:["owner"]}}],memo:""},{preferNoSetFee:!0,preferNoSetMemo:!0})).signature}execute(e,t,s,o,r){if(this._b_disabled)return is();let a="";if(o&&(a+=` --gas ${o.gas}`),s&&s.length){const c=s[0];a+=` --amount ${c.amount}${c.denom}`}debugger;return this._k_client.execute(e,t,"",s,o,r||void 0)}query(e,t,s,o){return this._b_disabled?is():this._k_client.queryContractSmart(e,t,s||{},o||void 0)}}const Un=(n,e)=>n.querySelector(e),Hi=(n,e)=>Array.prototype.slice.call(n.querySelectorAll(e),0);function Pe(n,e={},t=[]){const s=document.createElement(n);for(const o in e)s.setAttribute(o,e[o]+"");for(const o of t)s.append(o);return s}function hn(){return document.cookie.split(";").reduce((n,e)=>{const t=e.trim().split("=");return yt(tt({},n),{[t[0]]:t.slice(1).join("=")})},{})}function nn(n){const e=hn();if(!(n in e))return null;let t;try{t=JSON.parse(e[n])}catch{console.error(`failed to parse cookie JSON value associated with key '${n}'`),sn(n)}return t}function wt(n,e){const t={};for(const[s,o]of De(n))typeof o=="string"?t[s]=o:o===null||typeof o=="undefined"?sn(s):t[s]=JSON.stringify(o);document.cookie=Object.entries(yt(tt({},t),{"max-age":""+e})).map(([s,o])=>`${s}=${o}`).join("; ")}function sn(n){return wt({[n]:""},0)}const ta=65535,Qi=128,na="RGBK\u25B2\u2586\u25CF\u2605";function Wi(n){let e=[];for(let t=0;t<8;t++)n&Qi?e.push(na[t]):e.push(" "),n=n<<1;return`[${e.join(",")}]`}function Ln(n,e=!1){const[t,s]=n.split(":");if(t==="color"){const o=In.indexOf(s);return 1<<7-o|(e?15:0)}else{const o=Rn.indexOf(s);return 1<<3-o|(e?240:0)}}function Wt(n){const[e,t]=n.split(":");return`${e==="shape"?"a ":""}${t}`}function Gt(n){const[e,t]=n.split("|");return`${e==="nobody_has"?"nobody has ":"my chip is"} ${Wt(t)}`}class mn{constructor(e=ta){this._xm_deduce=e}clone(){return new mn(this._xm_deduce)}nobody(e){let t=Ln(e);return t|=t<<8,this._xm_deduce&=~t,this}opponent(e,t){if(t){const s=Ln(e,!0),o=~Ln(e);this._xm_deduce&=o<<8|s}else this._xm_deduce&=~Ln(e);return this}explain(){const e=this._xm_deduce>>8,t=this._xm_deduce&255;return[`A: ${Wi(e)}`,`O: ${Wi(t)}`].join(`
`)}enumerate(e){let t=e==="bag"?this._xm_deduce>>8:this._xm_deduce&255;const s=[],o=[];for(let a=0;a<8;a++)t&Qi&&(a<4?s.push(In[a]):o.push(Rn[a-4])),t=t<<1;const r=[];for(const a of s)for(const c of o)r.push({target:e,color:a,shape:c});return r}}const{Object:sa,console:Gi}=Vs,de="src/component/MessagePanel.svelte";function cs(n){let e,t,s,o,r;const a={c:function(){e=T("span"),t=fe(n[3]),C(e,"class","msg-console-eval s-l2U1SoEQLPY0"),j(e,de,635,3,16713)},m:function(u,i){G(u,e,i),v(e,t),n[22](e),r=!0},p:function(u,i){(!r||i[0]&8)&&Ie(t,u[3])},i:function(u){r||(ze(()=>{o&&o.end(1),s=Jn(e,_e,{duration:1e3}),s.start()}),r=!0)},o:function(u){s&&s.invalidate(),o=zn(e,_e,{duration:500}),r=!1},d:function(u){u&&F(e),n[22](null),u&&o&&o.end()}};return D("SvelteRegisterBlock",{block:a,id:cs.name,type:"if",source:"(635:2) {#if s_evaluation}",ctx:n}),a}function us(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,m,h,k;o=new Se({props:{icon:Zs},$$inline:!0}),d=new Se({props:{icon:xs},$$inline:!0});let p=n[12].length&&_s(n);const A={c:function(){e=T("div"),t=T("span"),s=T("span"),Re(o.$$.fragment),r=B(),a=T("span"),c=fe(n[6]),u=B(),i=T("span"),_=T("span"),Re(d.$$.fragment),w=B(),b=T("span"),g=fe(n[7]),m=B(),p&&p.c(),C(s,"class","msg-nav-icon lifted s-l2U1SoEQLPY0"),j(s,de,647,4,17010),C(a,"class","msg-nav-name s-l2U1SoEQLPY0"),x(a,"long-name",n[6].length>=40),j(a,de,648,4,17075),C(t,"class","msg-nav-group s-l2U1SoEQLPY0"),j(t,de,646,3,16977),C(_,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(_,de,651,4,17211),C(b,"class","msg-nav-addr addr s-l2U1SoEQLPY0"),j(b,de,652,4,17271),C(i,"class","msg-nav-group s-l2U1SoEQLPY0"),j(i,de,650,3,17178),C(e,"class","msg-nav s-l2U1SoEQLPY0"),j(e,de,645,2,16902)},m:function(f,E){G(f,e,E),v(e,t),v(t,s),Oe(o,s,null),v(t,r),v(t,a),v(a,c),v(e,u),v(e,i),v(i,_),Oe(d,_,null),v(i,w),v(i,b),v(b,g),v(e,m),p&&p.m(e,null),k=!0},p:function(f,E){n=f,(!k||E[0]&64)&&Ie(c,n[6]),(!k||E[0]&64)&&x(a,"long-name",n[6].length>=40),(!k||E[0]&128)&&Ie(g,n[7]),n[12].length?p?(p.p(n,E),E[0]&4096&&O(p,1)):(p=_s(n),p.c(),O(p,1),p.m(e,null)):p&&(He(),H(p,1,1,()=>{p=null}),Qe())},i:function(f){k||(O(o.$$.fragment,f),O(d.$$.fragment,f),O(p),ze(()=>{h||(h=be(e,Fn,{duration:750,easing:rn},!0)),h.run(1)}),k=!0)},o:function(f){H(o.$$.fragment,f),H(d.$$.fragment,f),H(p),h||(h=be(e,Fn,{duration:750,easing:rn},!1)),h.run(0),k=!1},d:function(f){f&&F(e),Me(o),Me(d),p&&p.d(),f&&h&&h.end()}};return D("SvelteRegisterBlock",{block:A,id:us.name,type:"if",source:"(645:1) {#if b_nav_display}",ctx:n}),A}function _s(n){let e,t,s,o,r,a,c=n[12][0]+"",u,i,_,d,w=n[12][1]+"",b,g,m,h,k,p=n[12][2]+"",A,S,f;s=new Se({props:{icon:$s},$$inline:!0});const E={c:function(){e=T("span"),t=T("span"),Re(s.$$.fragment),o=B(),r=T("span"),a=T("span"),u=fe(c),i=fe(":"),_=B(),d=T("span"),b=fe(w),g=B(),m=T("span"),m.textContent="...",h=B(),k=T("span"),A=fe(p),C(t,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(t,de,656,5,17440),C(a,"class","prefix s-l2U1SoEQLPY0"),j(a,de,658,6,17552),C(d,"class","addr s-l2U1SoEQLPY0"),j(d,de,659,6,17610),C(m,"class","ellipsis s-l2U1SoEQLPY0"),j(m,de,660,6,17665),C(k,"class","addr s-l2U1SoEQLPY0"),j(k,de,661,6,17705),C(r,"class","msg-nav-permit inline-flex s-l2U1SoEQLPY0"),j(r,de,657,5,17504),C(e,"class","msg-nav-group s-l2U1SoEQLPY0"),j(e,de,655,4,17372)},m:function(q,Y){G(q,e,Y),v(e,t),Oe(s,t,null),v(e,o),v(e,r),v(r,a),v(a,u),v(a,i),v(r,_),v(r,d),v(d,b),v(r,g),v(r,m),v(r,h),v(r,k),v(k,A),f=!0},p:function(q,Y){(!f||Y[0]&4096)&&c!==(c=q[12][0]+"")&&Ie(u,c),(!f||Y[0]&4096)&&w!==(w=q[12][1]+"")&&Ie(b,w),(!f||Y[0]&4096)&&p!==(p=q[12][2]+"")&&Ie(A,p)},i:function(q){f||(O(s.$$.fragment,q),ze(()=>{S||(S=be(e,_e,{duration:1e3},!0)),S.run(1)}),f=!0)},o:function(q){H(s.$$.fragment,q),S||(S=be(e,_e,{duration:1e3},!1)),S.run(0),f=!1},d:function(q){q&&F(e),Me(s),q&&S&&S.end()}};return D("SvelteRegisterBlock",{block:E,id:_s.name,type:"if",source:"(655:3) {#if a_permit_displays.length}",ctx:n}),E}function fs(n){let e,t,s,o,r,a,c,u,i;s=new Se({props:{icon:ei},$$inline:!0});const _={c:function(){e=T("div"),t=T("span"),Re(s.$$.fragment),o=B(),r=T("span"),r.textContent="Submit",C(t,"class","msg-submit-icon s-l2U1SoEQLPY0"),j(t,de,676,3,18052),C(r,"class","msg-submit-text s-l2U1SoEQLPY0"),j(r,de,677,3,18119),C(e,"class","msg-submit s-l2U1SoEQLPY0"),x(e,"active",!!n[9]),j(e,de,668,2,17830)},m:function(w,b){G(w,e,b),v(e,t),Oe(s,t,null),v(e,o),v(e,r),n[23](e),c=!0,u||(i=[Ue(e,"click",function(){Bo(n[9]||Fi)&&(n[9]||Fi).apply(this,arguments)},!1,!1,!1),Ue(e,"mouseenter",n[15],!1,!1,!1),Ue(e,"mouseleave",n[16],!1,!1,!1)],u=!0)},p:function(w,b){n=w,(!c||b[0]&512)&&x(e,"active",!!n[9])},i:function(w){c||(O(s.$$.fragment,w),ze(()=>{a||(a=be(e,kt,{},!0)),a.run(1)}),c=!0)},o:function(w){H(s.$$.fragment,w),a||(a=be(e,kt,{},!1)),a.run(0),c=!1},d:function(w){w&&F(e),Me(s),n[23](null),w&&a&&a.end(),u=!1,ti(i)}};return D("SvelteRegisterBlock",{block:_,id:fs.name,type:"if",source:"(668:1) {#if b_submit_display}",ctx:n}),_}function ds(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,m,h=n[3]&&cs(n),k=n[5]&&us(n),p=n[8]&&fs(n);const A={c:function(){e=T("div"),t=T("div"),s=T("div"),o=B(),r=T("div"),a=T("span"),c=fe(">\xA0"),u=fe(n[4]),i=fe(n[11]),_=B(),d=T("span"),d.textContent="\xA0",w=B(),h&&h.c(),b=B(),k&&k.c(),g=B(),p&&p.c(),C(s,"class","msg-history-scroll s-l2U1SoEQLPY0"),j(s,de,629,2,16465),C(t,"class","msg-history s-l2U1SoEQLPY0"),j(t,de,628,1,16414),C(a,"class","text s-l2U1SoEQLPY0"),j(a,de,632,2,16565),C(d,"class","cursor blinking s-l2U1SoEQLPY0"),j(d,de,633,2,16623),C(r,"class","msg-console s-l2U1SoEQLPY0"),j(r,de,631,1,16537),C(e,"class","msg-panel s-l2U1SoEQLPY0"),j(e,de,627,0,16368)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,E){G(f,e,E),v(e,t),v(t,s),n[19](s),n[20](t),v(e,o),v(e,r),v(r,a),v(a,c),v(a,u),v(a,i),v(r,_),v(r,d),n[21](d),v(r,w),h&&h.m(r,null),v(e,b),k&&k.m(e,null),v(e,g),p&&p.m(e,null),n[24](e),m=!0},p:function(f,E){(!m||E[0]&16)&&Ie(u,f[4]),(!m||E[0]&2048)&&Ie(i,f[11]),f[3]?h?(h.p(f,E),E[0]&8&&O(h,1)):(h=cs(f),h.c(),O(h,1),h.m(r,null)):h&&(He(),H(h,1,1,()=>{h=null}),Qe()),f[5]?k?(k.p(f,E),E[0]&32&&O(k,1)):(k=us(f),k.c(),O(k,1),k.m(e,g)):k&&(He(),H(k,1,1,()=>{k=null}),Qe()),f[8]?p?(p.p(f,E),E[0]&256&&O(p,1)):(p=fs(f),p.c(),O(p,1),p.m(e,null)):p&&(He(),H(p,1,1,()=>{p=null}),Qe())},i:function(f){m||(O(h),O(k),O(p),m=!0)},o:function(f){H(h),H(k),H(p),m=!1},d:function(f){f&&F(e),n[19](null),n[20](null),n[21](null),h&&h.d(),k&&k.d(),p&&p.d(),n[24](null)}};return D("SvelteRegisterBlock",{block:A,id:ds.name,type:"component",source:"",ctx:n}),A}const Fi=()=>{};function ia(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("MessagePanel",s,[]);const{language:r}=zt("game");let a;r.subscribe(y=>a=y);const c={reveal_text:Y,spinning:me,commit:se,receive:Ye,arbiter:Fe,opponent:ce,user:Ce,error:_t,warn:ge,wallet:st,permit:Ve,submittable:ae,unsubmittable:qt};let{k_killables:u}=e,i,_,d,w="\u275A",b="",g="",m=!1,h="",k="",p="",A=!1,S=null,f,E=0,N=!1,q="";async function Y(y,K=60,he=0,Ze=!1){J&&(t(11,L=""),u.delInterval(J),M=0,J=0),t(3,b=""),Ze||(q=y);let Be=++E;K||(K=60);const qe=g.length,xe=y.length;let $e=0;for(;$e<Math.min(qe,xe)&&g[$e]===y[$e];$e++);const ft=3/5;for(let we=qe;we>$e;we--)if(t(4,g=g.slice(0,-1)),await Q(K*ft),E!==Be)return;if(he&&await Q(he),E!==Be)return;const ke=f||Un(document.body,".cursor");if(!!ke){for(let we=$e;we<xe;we++)if(ke.classList.remove("blinking"),await Q(10),E!==Be||(ke.classList.add("blinking"),t(4,g+=y[we]),await Q(K),E!==Be))return}}const I=["\u25DC \u25DD"," \u02C9\u25DE"," \u02CD\u25DD","\u25DF \u25DE","\u25DC\u02CD ","\u25DF\u02C9 "];let L="",J=0,M=0;async function me(y){if(y){if(J===0){let he=function(){t(11,L=" "+I[M++]+" "),M%=I.length};J=-1;const K=g;await Y(K+" "+I[I.length-1]+" ",60,0,!0),t(4,g=K),he(),J=u.addInterval(he,100)}}else J>0&&(t(11,L=""),u.delInterval(J),M=0,J=0)}async function z(){await Y("")}let Xe=0;async function Ye(y){if(N)return;for(;!i;)await Q(100);const K=y.widgets||{},he=Xe++,Ze=Pe("div",{class:["line-commit",...y.classes||[]].join(" ")},[`> ${y.from}: `,...y.text.flatMap(ke=>{const we=[];let et=0;for(const{0:Ge,1:dt,index:bt}of ke.matchAll(/\{([a-z0-9-_]+)\}/ig)){const at=K[dt];at?(et!==bt&&we.push(ke.slice(et,bt)),at instanceof Element?we.push(at):we.push(Pe("span",{class:`msg-widget-${dt}-${he}`}))):(console.error(`No such widget '${dt}' was passed in with the formatted line`),we.push(ke.slice(et,bt+Ge.length))),et=bt+Ge.length}return et!==ke.length&&we.push(ke.slice(et)),we.push(Pe("div",{class:"newline"})),we})]);for(const[ke,we]of De(K))typeof we.subscribe=="function"&&we.subscribe(et=>{const Ge=Hi(Ze,`.msg-widget-${ke}-${he}`);for(const dt of Ge)dt.innerHTML=et});const Be=Pe("div",{class:"curtain"});_.append(Ze),_.append(Be),t(0,i.scrollTop=i.scrollHeight,i);const qe=_.getBoundingClientRect(),xe=Ze.getBoundingClientRect(),$e=xe.top-qe.top,ft=xe.height+5;Object.assign(Be.style,{top:`${$e}px`,height:`${ft}px`,left:"0px",width:"100%"}),await Q(100);for(let ke=0;ke<ft;ke+=5)Object.assign(Be.style,{top:`${$e+ke}px`,height:`${ft-ke}px`}),await Q(100);Be.remove()}const je=y=>Array.isArray(y)?y:y.trim().split(/\n/).map(K=>K.trim());async function Fe(y,K){return await Ye({from:"Arbiter",classes:["from-arbiter"],text:je(y),widgets:K||{}})}async function ce(y,K){return await Ye({from:"Opponent",classes:["from-opponent"],text:y,widgets:K||{}})}async function Ce(y,K){return await Ye({from:`You${p}`,classes:["from-user"],text:je(y),widgets:K||{}})}async function se(){Ce(q||g),t(4,g="")}async function _t(y,K=!1,he){await Ye({from:"System",classes:["from-system-error"],text:je(y),widgets:he||{}}),K&&(N=!0)}async function ge(y,K){await Ye({from:"System",classes:["from-system-warn"],text:je(y),widgets:K||{}})}function st(y){y.addr?(t(5,m=!0),t(6,h=y.name),t(7,k=y.addr),p=h?` (${h})`:""):t(5,m=!1)}let Ne=[];function Ve(y,K){const he=y.allowed_tokens[0];t(12,Ne=[K?"restored":"signed",he.slice(0,"secret12345".length),he.slice(-5)])}let it=0;async function Nt(){debugger;const y=Date.now();y-it>3e4&&(await Y("sorry, you don't get to type :P"),await Q(1600),await z(),it=y)}let le;function ae(y,K){if(t(8,A=!0),le){const he=le.getBoundingClientRect();Object.assign(le.style,{position:"fixed",top:`${he.top}px`,left:`${he.left}px`})}t(3,b=""),K&&setTimeout(()=>{le&&le.style.position&&Object.assign(le.style,{position:"",top:"",left:""}),t(3,b=K)},500),t(9,S=y)}function qt(){t(8,A=!1),t(9,S=null)}Kt(()=>{d.addEventListener("keydown",()=>{Nt()})});let Ae;async function Pt(){await Q(100),Ae.classList.add("hover")}async function Ct(){t(14,Ae.style.animation="0",Ae),await Q(100),Ae.classList.remove("hover"),await Q(1e3),t(14,Ae.style.animation="",Ae)}const It=["k_killables"];sa.keys(e).forEach(y=>{!~It.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&Gi.warn(`<MessagePanel> was created with unknown prop '${y}'`)});function ue(y){Le[y?"unshift":"push"](()=>{_=y,t(1,_)})}function R(y){Le[y?"unshift":"push"](()=>{i=y,t(0,i)})}function ne(y){Le[y?"unshift":"push"](()=>{f=y,t(10,f)})}function V(y){Le[y?"unshift":"push"](()=>{le=y,t(13,le)})}function ot(y){Le[y?"unshift":"push"](()=>{Ae=y,t(14,Ae)})}function Rt(y){Le[y?"unshift":"push"](()=>{d=y,t(2,d)})}return n.$$set=y=>{"k_killables"in y&&t(18,u=y.k_killables)},n.$capture_state=()=>({getContext:zt,onMount:Kt,slide:Fn,blur:kt,fade:_e,quadOut:rn,Fa:Se,faUser:Zs,faWallet:xs,faTicketAlt:$s,faPaperPlane:ei,ode:De,timeout:Q,dd:Pe,qs:Un,qsa:Hi,ys_lang:r,s_lang:a,k_panel:c,k_killables:u,dm_history:i,dm_history_data:_,dm_panel:d,s_cursor:w,s_evaluation:b,s_text:g,b_nav_display:m,s_nav_name:h,s_nav_addr:k,s_account_alias:p,b_submit_display:A,fk_submit:S,dm_cursor:f,i_iter:E,b_disabled:N,s_revealing:q,reveal_text:Y,A_SPIN:I,s_spinner:L,i_spinning:J,i_spin:M,spinning:me,clear:z,c_msgs:Xe,receive:Ye,rerformat_lines:je,arbiter:Fe,opponent:ce,user:Ce,commit:se,error:_t,warn:ge,wallet:st,a_permit_displays:Ne,permit:Ve,dt_attempt_last:it,attempt_type:Nt,dm_eval:le,submittable:ae,unsubmittable:qt,dm_submit:Ae,mouseenter_submit:Pt,mouseleave_submit:Ct}),n.$inject_state=y=>{"s_lang"in y&&(a=y.s_lang),"k_killables"in y&&t(18,u=y.k_killables),"dm_history"in y&&t(0,i=y.dm_history),"dm_history_data"in y&&t(1,_=y.dm_history_data),"dm_panel"in y&&t(2,d=y.dm_panel),"s_cursor"in y&&(w=y.s_cursor),"s_evaluation"in y&&t(3,b=y.s_evaluation),"s_text"in y&&t(4,g=y.s_text),"b_nav_display"in y&&t(5,m=y.b_nav_display),"s_nav_name"in y&&t(6,h=y.s_nav_name),"s_nav_addr"in y&&t(7,k=y.s_nav_addr),"s_account_alias"in y&&(p=y.s_account_alias),"b_submit_display"in y&&t(8,A=y.b_submit_display),"fk_submit"in y&&t(9,S=y.fk_submit),"dm_cursor"in y&&t(10,f=y.dm_cursor),"i_iter"in y&&(E=y.i_iter),"b_disabled"in y&&(N=y.b_disabled),"s_revealing"in y&&(q=y.s_revealing),"s_spinner"in y&&t(11,L=y.s_spinner),"i_spinning"in y&&(J=y.i_spinning),"i_spin"in y&&(M=y.i_spin),"c_msgs"in y&&(Xe=y.c_msgs),"a_permit_displays"in y&&t(12,Ne=y.a_permit_displays),"dt_attempt_last"in y&&(it=y.dt_attempt_last),"dm_eval"in y&&t(13,le=y.dm_eval),"dm_submit"in y&&t(14,Ae=y.dm_submit)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,_,d,b,g,m,h,k,A,S,f,L,Ne,le,Ae,Pt,Ct,c,u,ue,R,ne,V,ot,Rt]}class Ji extends ht{constructor(e){super(e);mt(this,e,ia,ds,pt,{k_panel:17,k_killables:18},null,[-1,-1]),D("SvelteRegisterComponent",{component:this,tagName:"MessagePanel",options:e,id:ds.name});const{ctx:t}=this.$$,s=e.props||{};t[18]===void 0&&!("k_killables"in s)&&Gi.warn("<MessagePanel> was created without expected prop 'k_killables'")}get k_panel(){return this.$$.ctx[17]}set k_panel(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_killables(){throw new Error("<MessagePanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_killables(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const zi="src/component/Prompt.svelte";function Ki(n,e,t){const s=n.slice();return s[17]=e[t],s}function hs(n){let e,t,s=n[0];pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=ms(Ki(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){for(let u=0;u<o.length;u+=1)o[u].c();e=Xt()},m:function(u,i){for(let _=0;_<o.length;_+=1)o[_].m(u,i);G(u,e,i),t=!0},p:function(u,i){if(i&9){s=u[0],pe(s);let _;for(_=0;_<s.length;_+=1){const d=Ki(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=ms(d),o[_].c(),O(o[_],1),o[_].m(e.parentNode,e))}for(He(),_=s.length;_<o.length;_+=1)r(_);Qe()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){rt(o,u),u&&F(e)}};return D("SvelteRegisterBlock",{block:a,id:hs.name,type:"if",source:"(122:1) {#if b_display}",ctx:n}),a}function ms(n){let e,t=n[17].label+"",s,o,r,a,c,u,i,_,d;function w(){return n[5](n[17])}const b={c:function(){e=T("button"),s=fe(t),o=B(),C(e,"class",r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"),C(e,"alt",a=n[17].alt||""),j(e,zi,123,3,2733)},m:function(m,h){G(m,e,h),v(e,s),v(e,o),i=!0,_||(d=Ue(e,"click",w,!1,!1,!1),_=!0)},p:function(m,h){n=m,(!i||h&1)&&t!==(t=n[17].label+"")&&Ie(s,t),(!i||h&1&&r!==(r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"))&&C(e,"class",r),(!i||h&1&&a!==(a=n[17].alt||""))&&C(e,"alt",a)},i:function(m){i||(ze(()=>{u&&u.end(1),c=Jn(e,_e,{duration:1400,easing:vt}),c.start()}),i=!0)},o:function(m){c&&c.invalidate(),u=zn(e,_e,{duration:1400,easing:rn}),i=!1},d:function(m){m&&F(e),m&&u&&u.end(),_=!1,d()}};return D("SvelteRegisterBlock",{block:b,id:ms.name,type:"each",source:"(123:2) {#each a_opts as g_opt}",ctx:n}),b}function ps(n){let e,t,s=n[1]&&hs(n);const o={c:function(){e=T("div"),s&&s.c(),C(e,"class","prompt s-c0715tBQdWx2"),x(e,"showing",n[2]),j(e,zi,120,0,2640)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){G(a,e,c),s&&s.m(e,null),t=!0},p:function(a,[c]){a[1]?s?(s.p(a,c),c&2&&O(s,1)):(s=hs(a),s.c(),O(s,1),s.m(e,null)):s&&(He(),H(s,1,1,()=>{s=null}),Qe()),(!t||c&4)&&x(e,"showing",a[2])},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){a&&F(e),s&&s.d()}};return D("SvelteRegisterBlock",{block:o,id:ps.name,type:"component",source:"",ctx:n}),o}function oa(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Prompt",s,[]);const r={ok:A,opts:S,yes:p,yes_no:k},a={key:"yes",label:"Yes"},c={key:"no",label:"No"},u=[a,c],i=()=>{},_=N=>{N()};let d=[],w=!1,b=!1,g=i;function m(N){g(N),t(1,w=!1)}function h(N,q=_){return new Promise(Y=>{g=I=>{q(Y,I),t(1,w=!1)},t(0,d=N),t(1,w=!0),queueMicrotask(()=>{t(2,b=!0)})})}function k(){return h(u,(N,q)=>{N(q.key==="yes")})}function p(){return h([a])}function A(N="Ok"){return h([{key:"ok",label:N}])}function S(N){return h(ji(N,(q,Y)=>tt({key:q},Y)),(q,Y)=>{q(Y.key)})}const f=[];Object.keys(e).forEach(N=>{!~f.indexOf(N)&&N.slice(0,2)!=="$$"&&N!=="slot"&&console.warn(`<Prompt> was created with unknown prop '${N}'`)});const E=N=>m(N);return n.$capture_state=()=>({oderac:ji,expoOut:vt,quadOut:rn,fade:_e,k_prompt:r,G_ANS_YES:a,G_ANS_NO:c,A_OPTS_YES_NO:u,F_NOOP:i,F_CALL:_,a_opts:d,b_display:w,b_showing:b,fk_answer:g,answer:m,prompt:h,yes_no:k,yes:p,ok:A,opts:S}),n.$inject_state=N=>{"a_opts"in N&&t(0,d=N.a_opts),"b_display"in N&&t(1,w=N.b_display),"b_showing"in N&&t(2,b=N.b_showing),"fk_answer"in N&&(g=N.fk_answer)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[d,w,b,m,r,E]}class Xi extends ht{constructor(e){super(e);mt(this,e,oa,ps,pt,{k_prompt:4}),D("SvelteRegisterComponent",{component:this,tagName:"Prompt",options:e,id:ps.name})}get k_prompt(){return this.$$.ctx[4]}set k_prompt(e){throw new Error("<Prompt>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ut="src/component/Assertion.svelte";function Vi(n,e,t){const s=n.slice();return s[15]=e[t],s}function Zi(n,e,t){const s=n.slice();return s[18]=e[t],s}function xi(n,e,t){const s=n.slice();return s[15]=e[t],s}function $i(n,e,t){const s=n.slice();return s[18]=e[t],s}function eo(n,e,t){const s=n.slice();return s[27]=e[t],s}function gs(n){let e,t,s,o,r,a,c,u,i,_,d=$t;pe(d);let w=[];for(let p=0;p<d.length;p+=1)w[p]=ws(eo(n,d,p));let b=n[7];pe(b);let g=[];for(let p=0;p<b.length;p+=1)g[p]=ys(xi(n,b,p));let m=n[7];pe(m);let h=[];for(let p=0;p<m.length;p+=1)h[p]=vs(Vi(n,m,p));const k={c:function(){e=T("div"),t=T("span");for(let A=0;A<w.length;A+=1)w[A].c();o=B(),r=T("span");for(let A=0;A<g.length;A+=1)g[A].c();c=B(),u=T("span");for(let A=0;A<h.length;A+=1)h[A].c();C(t,"class","tab-wrap s-WG7syJ6nmWd-"),j(t,ut,207,2,5236),C(e,"class","tx-basis s-WG7syJ6nmWd-"),j(e,ut,206,1,5159),C(r,"class","diamond tx-colors s-WG7syJ6nmWd-"),j(r,ut,216,1,5512),C(u,"class","diamond tx-shapes s-WG7syJ6nmWd-"),j(u,ut,235,1,6075)},m:function(A,S){G(A,e,S),v(e,t);for(let f=0;f<w.length;f+=1)w[f].m(t,null);G(A,o,S),G(A,r,S);for(let f=0;f<g.length;f+=1)g[f].m(r,null);G(A,c,S),G(A,u,S);for(let f=0;f<h.length;f+=1)h[f].m(u,null);_=!0},p:function(A,S){if(n=A,S&42){d=$t,pe(d);let f;for(f=0;f<d.length;f+=1){const E=eo(n,d,f);w[f]?w[f].p(E,S):(w[f]=ws(E),w[f].c(),w[f].m(t,null))}for(;f<w.length;f+=1)w[f].d(1);w.length=d.length}if(S&204){b=n[7],pe(b);let f;for(f=0;f<b.length;f+=1){const E=xi(n,b,f);g[f]?g[f].p(E,S):(g[f]=ys(E),g[f].c(),g[f].m(r,null))}for(;f<g.length;f+=1)g[f].d(1);g.length=b.length}if(S&196){m=n[7],pe(m);let f;for(f=0;f<m.length;f+=1){const E=Vi(n,m,f);h[f]?h[f].p(E,S):(h[f]=vs(E),h[f].c(),h[f].m(u,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=m.length}},i:function(A){_||(ze(()=>{s||(s=be(e,_e,{duration:3600,easing:St},!0)),s.run(1)}),ze(()=>{a||(a=be(r,_e,{delay:2400,duration:3200,easing:vt},!0)),a.run(1)}),ze(()=>{i||(i=be(u,_e,{delay:3200,duration:3200,easing:vt},!0)),i.run(1)}),_=!0)},o:function(A){s||(s=be(e,_e,{duration:3600,easing:St},!1)),s.run(0),a||(a=be(r,_e,{delay:2400,duration:3200,easing:vt},!1)),a.run(0),i||(i=be(u,_e,{delay:3200,duration:3200,easing:vt},!1)),i.run(0),_=!1},d:function(A){A&&F(e),rt(w,A),A&&s&&s.end(),A&&F(o),A&&F(r),rt(g,A),A&&a&&a.end(),A&&F(c),A&&F(u),rt(h,A),A&&i&&i.end()}};return D("SvelteRegisterBlock",{block:k,id:gs.name,type:"if",source:"(206:0) {#if b_visible}",ctx:n}),k}function ws(n){let e,t=Ee(Tt[n[27]].describe[n[3]](""))+"",s,o,r,a;const c={c:function(){e=T("span"),s=fe(t),o=B(),C(e,"class","active tab s-WG7syJ6nmWd-"),C(e,"data-basis",n[27]),x(e,"active",n[27]===n[1]),j(e,ut,209,4,5295)},m:function(i,_){G(i,e,_),v(e,s),v(e,o),r||(a=Ue(e,"click",n[5],!1,!1,!1),r=!0)},p:function(i,_){_&8&&t!==(t=Ee(Tt[i[27]].describe[i[3]](""))+"")&&Ie(s,t),_&2&&x(e,"active",i[27]===i[1])},d:function(i){i&&F(e),r=!1,a()}};return D("SvelteRegisterBlock",{block:c,id:ws.name,type:"each",source:"(209:3) {#each A_BASES as si_basis}",ctx:n}),c}function to(n){const e={c:ye,m:ye,p:ye,d:ye};return D("SvelteRegisterBlock",{block:e,id:to.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function no(n){let e,t,s=Ee(At[n[26]].labels[n[3]])+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=fe(s),C(t,"class","s-WG7syJ6nmWd-"),j(t,ut,227,7,5942),C(e,"class","diamond-"+n[18].pos+" color-"+n[26]+" s-WG7syJ6nmWd-"),C(e,"data-quality","color:"+n[26]),x(e,"selected",`color:${n[26]}`===n[2]),j(e,ut,221,6,5736)},m:function(i,_){G(i,e,_),v(e,t),v(t,o),r||(a=Ue(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&8&&s!==(s=Ee(At[i[26]].labels[i[3]])+"")&&Ie(o,s),_&132&&x(e,"selected",`color:${i[26]}`===i[2])},d:function(i){i&&F(e),r=!1,a()}};return D("SvelteRegisterBlock",{block:c,id:no.name,type:"then",source:'(221:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function so(n){const e={c:ye,m:ye,p:ye,d:ye};return D("SvelteRegisterBlock",{block:e,id:so.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function bs(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:so,then:no,catch:to,value:26};ni(In[n[18].key],t);const s={c:function(){e=Xt(),t.block.c()},m:function(r,a){G(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,si(t,n,a)},d:function(r){r&&F(e),t.block.d(r),t.token=null,t=null}};return D("SvelteRegisterBlock",{block:s,id:bs.name,type:"each",source:"(220:4) {#each a_group as g_loc}",ctx:n}),s}function ys(n){let e,t,s=n[15];pe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=bs($i(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=B(),C(e,"class","s-WG7syJ6nmWd-"),j(e,ut,218,3,5646)},m:function(c,u){G(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);v(e,t)},p:function(c,u){if(u&204){s=c[15],pe(s);let i;for(i=0;i<s.length;i+=1){const _=$i(c,s,i);o[i]?o[i].p(_,u):(o[i]=bs(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&F(e),rt(o,c)}};return D("SvelteRegisterBlock",{block:r,id:ys.name,type:"each",source:"(218:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function io(n){const e={c:ye,m:ye,p:ye,d:ye};return D("SvelteRegisterBlock",{block:e,id:io.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function oo(n){let e,t,s=xt[n[21]].symbol+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=fe(s),C(t,"class","s-WG7syJ6nmWd-"),j(t,ut,246,7,6507),C(e,"class","diamond-"+n[18].pos+" bg-rad-"+n[18].pos+" s-WG7syJ6nmWd-"),C(e,"data-quality","shape:"+n[21]),x(e,"selected",`shape:${n[21]}`===n[2]),j(e,ut,240,6,6299)},m:function(i,_){G(i,e,_),v(e,t),v(t,o),r||(a=Ue(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&132&&x(e,"selected",`shape:${i[21]}`===i[2])},d:function(i){i&&F(e),r=!1,a()}};return D("SvelteRegisterBlock",{block:c,id:oo.name,type:"then",source:'(240:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function ao(n){const e={c:ye,m:ye,p:ye,d:ye};return D("SvelteRegisterBlock",{block:e,id:ao.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function ks(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:ao,then:oo,catch:io,value:21};ni(Rn[n[18].key],t);const s={c:function(){e=Xt(),t.block.c()},m:function(r,a){G(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,si(t,n,a)},d:function(r){r&&F(e),t.block.d(r),t.token=null,t=null}};return D("SvelteRegisterBlock",{block:s,id:ks.name,type:"each",source:"(239:4) {#each a_group as g_loc}",ctx:n}),s}function vs(n){let e,t,s=n[15];pe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=ks(Zi(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=B(),C(e,"class","s-WG7syJ6nmWd-"),j(e,ut,237,3,6209)},m:function(c,u){G(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);v(e,t)},p:function(c,u){if(u&196){s=c[15],pe(s);let i;for(i=0;i<s.length;i+=1){const _=Zi(c,s,i);o[i]?o[i].p(_,u):(o[i]=ks(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&F(e),rt(o,c)}};return D("SvelteRegisterBlock",{block:r,id:vs.name,type:"each",source:"(237:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function Ss(n){let e,t,s=n[0]&&gs(n);const o={c:function(){s&&s.c(),e=Xt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=gs(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(He(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return D("SvelteRegisterBlock",{block:o,id:Ss.name,type:"component",source:"",ctx:n}),o}function aa(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("Assertion",o,[]);const a={show:w,hide:b},c=nt(),u=zt("game");let i=u.language;Do(i,"yw_lang"),Ho(n,i,f=>t(3,s=f));let _=!1,d="";async function w(f){d=f||"",f&&(t(1,g=f),c("basis",g)),t(0,_=!0)}function b(){t(0,_=!1)}let g=$t[0],m=null;const h=(f,E)=>f.closest(`[data-${E}]`).getAttribute(`data-${E}`);function k(f){const E=h(f.target,"basis");if(d&&E!==d){c("force_reject",[E,d]);return}t(1,g=E),c("basis",g)}function p(f){t(2,m=h(f.target,"quality")),c("quality",m)}const A=[[{key:0,pos:"top"},{key:2,pos:"rgt"}],[{key:1,pos:"lft"},{key:3,pos:"btm"}]],S=[];return Object.keys(e).forEach(f=>{!~S.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Assertion> was created with unknown prop '${f}'`)}),n.$capture_state=()=>({getContext:zt,createEventDispatcher:nt,fade:_e,expoOut:vt,quadInOut:St,proper:Ee,A_BASES:$t,A_COLORS:In,A_SHAPES:Rn,H_BASES:Tt,H_COLORS:At,H_SHAPES:xt,k_tx:a,dispatch:c,g_game:u,yw_lang:i,b_visible:_,si_basis_force:d,show:w,hide:b,si_basis_active:g,si_quality:m,data:h,select_basis:k,select_quality:p,A_DIAMOND_KEYS:A,$yw_lang:s}),n.$inject_state=f=>{"yw_lang"in f&&t(4,i=f.yw_lang),"b_visible"in f&&t(0,_=f.b_visible),"si_basis_force"in f&&(d=f.si_basis_force),"si_basis_active"in f&&t(1,g=f.si_basis_active),"si_quality"in f&&t(2,m=f.si_quality)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[_,g,m,s,i,k,p,A,a]}class ro extends ht{constructor(e){super(e);mt(this,e,aa,Ss,pt,{k_tx:8}),D("SvelteRegisterComponent",{component:this,tagName:"Assertion",options:e,id:Ss.name})}get k_tx(){return this.$$.ctx[8]}set k_tx(e){throw new Error("<Assertion>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function lo(n,e){const t=new Qo(39,39,3.3,128,1),s=[new ii({color:"#FF6510"}),new Wo({map:n,bumpMap:e,bumpScale:Math.random()*.2+.2}),new ii({map:n})];{const i=new Go;for(var o=0;o<16;o++){var r=(o+1)/16,a=r*Math.PI*2,c=10*Math.cos(a),u=10*Math.sin(a);o==0?i.moveTo(c,u):i.lineTo(c,u)}return new Fo(t,s)}}const Es=Math.PI,ra=Es*2,Ps=Math.sqrt(3);function Yn(n,e,t,s,o){const r=new Path2D;switch(o){case"triangle":{const a=Math.sqrt(t*Ps),c=Ps*.5*a,u=a*Ps/6,i=u/3;r.moveTo(e,e-(c-u)+i),r.lineTo(e+a/2,e+u+i),r.lineTo(e-a/2,e+u+i);break}case"square":{const a=Math.sqrt(t),c=e-a*.5;r.moveTo(c,c),r.lineTo(c+a,c),r.lineTo(c+a,c+a),r.lineTo(c,c+a);break}case"circle":{const a=Math.sqrt(t/Es);r.ellipse(e,e,a,a,0,0,ra);break}case"star":{const a=Es/5,c=Math.sqrt(2*t/(5*Math.sin(a)));let u=-1.5*a;r.moveTo(e,e-c);for(let i=0;i<9;i++){const _=c*((i%2+1)/2);r.lineTo(e+_*Math.cos(u),e+_*Math.sin(u)),u+=a}break}}r.closePath(),n.fillStyle=At[s].color,n.fill(r),n.globalAlpha=1,n.strokeStyle="black",n.lineWidth=Math.round(Math.sqrt(t)/50),n.stroke(r)}const la="src/component/Scene.svelte";function Cs(n){let e;const t={c:function(){e=T("div"),C(e,"class","s-O3-AoQkAZcdH"),j(e,la,246,0,8002)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,r){G(o,e,r),n[2](e)},p:ye,i:ye,o:ye,d:function(o){o&&F(e),n[2](null)}};return D("SvelteRegisterBlock",{block:t,id:Cs.name,type:"component",source:"",ctx:n}),t}function ca(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Scene",s,[]);const r=Math.PI,a=r*2,c=Math.sqrt(3),u={animate_chip_entry:p,animate_chip_exit:A};let i;async function _(E){const N={},q=new ci;for(const Y in E){const I=E[Y];N[Y]=await new Promise(L=>{q.load(I,J=>{L(J)})})}return N}function d(E){const N=E.image,q=Pe("canvas",{width:N.width,height:N.height}),Y=q.getContext("2d");return[q,Y,N]}let w,b,g,m;const h=new oi;function k(E,N){const[q,Y,I]=d(w.chip),L=I.width;I.height,Y.drawImage(I,0,0);const J=L/2,M=Math.pow(J*(2/9),2)*r;Yn(Y,J,M,E,N),g=new Kn(q),b=lo(g,m),h.add(b)}async function p(E,N){k(E,N),b.position.y=8e5,b.visible=!0,new Bt(new ln(-780,-2450,-3e3)).to(new ln(0,0,0),4e3).easing(Dt.Cubic.Out).onUpdate(L=>{b.position.setX(L.x),b.position.setZ(L.z)}).start(),new Bt({y:750}).to({y:0},4e3).easing(Dt.Back.Out).onUpdate(({y:L})=>{b.position.setY(L)}).start(),new Bt(new cn(0,0,0)).to(new cn(0,r/2,r/2-r/6),4e3).easing(Dt.Cubic.Out).onUpdate(L=>{b.rotation.set(L.x,L.y,L.z)}).start()}async function A(){new Bt(new ln(0,0,0)).to(new ln(-780,-2450,-3e3),4e3).easing(Dt.Cubic.Out).onUpdate(Y=>{b.position.setX(Y.x),b.position.setZ(Y.z)}).start(),new Bt({y:0}).to({y:750},4e3).easing(Dt.Back.Out).onUpdate(({y:Y})=>{b.position.setY(Y)}).start(),new Bt(new cn(0,r/2,r/2-r/6)).to(new cn(0,0,0),4e3).easing(Dt.Cubic.Out).onUpdate(Y=>{b.rotation.set(Y.x,Y.y,Y.z)}).start(),await Q(4e3),b.visible=!0}Kt(async()=>{w=await _({chip:"/asset/chip.png",chip_displace:"/asset/chip-displacement.png",scuffs:"/asset/scuffs.png"}),g=w.chip,m=w.scuffs;{const[M,me,z]=d(w.scuffs),Xe=M.width,Ye=M.height,je=Math.random()*a;me.save();const Fe=Xe/2,ce=Ye/2;me.translate(Fe,ce),me.rotate(je),me.scale(Math.SQRT2,Math.SQRT2),me.drawImage(z,-Fe,-ce),me.restore(),m=new Kn(M)}const E=new ai({antialias:!0}),N=Un(document.body,".msg-panel").getBoundingClientRect(),q=window.innerWidth,Y=Math.max(400,Math.min(800,window.innerHeight-N.bottom));if(E.setSize(q,Y),!i)return;i.appendChild(E.domElement);const I=q/Y,L=new li(45,I,1,5e3);L.position.set(0,0,140),L.lookAt(0,0,0);{const M=new ri(3158064);h.add(M)}{const M=new ui;M.position.set(0,100,50),M.decay=2.5,M.angle=Math.PI/9,M.penumbra=.9,h.add(M)}function J(){E.render(h,L)}E.setAnimationLoop(()=>{J(),_i()})});const S=[];Object.keys(e).forEach(E=>{!~S.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&console.warn(`<Scene> was created with unknown prop '${E}'`)});function f(E){Le[E?"unshift":"push"](()=>{i=E,t(0,i)})}return n.$capture_state=()=>({onMount:Kt,chip:lo,AmbientLight:ri,Scene:oi,PerspectiveCamera:li,WebGLRenderer:ai,Vector3:ln,TextureLoader:ci,SpotLight:ui,Euler:cn,CanvasTexture:Kn,Tween:Bt,Easing:Dt,updateTween:_i,timeout:Q,dd:Pe,qs:Un,draw_shape:Yn,X_PI:r,X_2PI:a,X_SQRT_3:c,k_scene:u,dm_container:i,load_textures:_,canvas_from_tex:d,h_textures:w,ym_chip:b,yt_chip:g,yt_bump:m,y_scene:h,create_chip:k,animate_chip_entry:p,animate_chip_exit:A}),n.$inject_state=E=>{"dm_container"in E&&t(0,i=E.dm_container),"h_textures"in E&&(w=E.h_textures),"ym_chip"in E&&(b=E.ym_chip),"yt_chip"in E&&(g=E.yt_chip),"yt_bump"in E&&(m=E.yt_bump)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,u,f]}class co extends ht{constructor(e){super(e);mt(this,e,ca,Cs,pt,{k_scene:1}),D("SvelteRegisterComponent",{component:this,tagName:"Scene_1",options:e,id:Cs.name})}get k_scene(){return this.$$.ctx[1]}set k_scene(e){throw new Error("<Scene>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bn="src/component/PremiseWidget.svelte";function uo(n,e,t){const s=n.slice();return s[14]=e[t][0],s[15]=e[t][1],s[17]=t,s}function As(n){let e,t,s,o,r,a=n[15].label+"",c,u,i,_,d,w,b;s=new Se({props:{icon:n[15].icon},$$inline:!0});function g(){return n[9](n[14])}const m={c:function(){e=T("span"),t=T("span"),Re(s.$$.fragment),o=B(),r=T("span"),c=fe(a),u=B(),C(t,"class","truth-opt-icon s-6n-w-T5otbqJ"),j(t,Bn,158,3,4045),C(r,"class","truth-opt-text s-6n-w-T5otbqJ"),j(r,Bn,161,3,4117),C(e,"class",i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"),C(e,"data-opt",_=n[14]),x(e,"selected",n[14]===n[2]),x(e,"undeniable",n[0]==="undeniable"),x(e,"true",n[0]==="true"),x(e,"verified",n[0]==="verified"),j(e,Bn,149,2,3714)},m:function(k,p){G(k,e,p),v(e,t),Oe(s,t,null),v(e,o),v(e,r),v(r,c),v(e,u),d=!0,w||(b=Ue(e,"click",g,!1,!1,!1),w=!0)},p:function(k,p){n=k;const A={};p&2&&(A.icon=n[15].icon),s.$set(A),(!d||p&2)&&a!==(a=n[15].label+"")&&Ie(c,a),(!d||p&16&&i!==(i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"))&&C(e,"class",i),(!d||p&2&&_!==(_=n[14]))&&C(e,"data-opt",_),(!d||p&22)&&x(e,"selected",n[14]===n[2]),(!d||p&17)&&x(e,"undeniable",n[0]==="undeniable"),(!d||p&17)&&x(e,"true",n[0]==="true"),(!d||p&17)&&x(e,"verified",n[0]==="verified")},i:function(k){d||(O(s.$$.fragment,k),d=!0)},o:function(k){H(s.$$.fragment,k),d=!1},d:function(k){k&&F(e),Me(s),w=!1,b()}};return D("SvelteRegisterBlock",{block:m,id:As.name,type:"each",source:"(149:1) {#each a_opts as [si_opt, g_opt], i_opt}",ctx:n}),m}function Ts(n){let e,t,s=n[1];pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=As(uo(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();C(e,"class","truth s-6n-w-T5otbqJ"),x(e,"known",!!n[0]),j(e,Bn,147,0,3603)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){G(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[10](e),t=!0},p:function(u,[i]){if(i&55){s=u[1],pe(s);let _;for(_=0;_<s.length;_+=1){const d=uo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=As(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(He(),_=s.length;_<o.length;_+=1)r(_);Qe()}(!t||i&1)&&x(e,"known",!!u[0])},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){u&&F(e),rt(o,u),n[10](null)}};return D("SvelteRegisterBlock",{block:a,id:Ts.name,type:"component",source:"",ctx:n}),a}function ua(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("PremiseWidget",o,[]);const a={ignore:{label:"Ignore",icon:di},trust:{label:"Trust",icon:Nn},distrust:{label:"Distrust",icon:fi}};let c=De(a),{b_mode_nobody:u}=e,{si_assertion:i}=e,{si_known:_}=e;const d={apply(S){return w(S)}};let w=S=>S,b="ignore",g;const m=nt();function h(S){b!==S&&(t(2,b=S),u?w=f=>b==="trust"?f.nobody(i):b==="distrust"?f.opponent(i,!0):f:w=f=>b==="trust"?f.opponent(i,!0):b==="distrust"?f.opponent(i,!1):f,m("change",S))}const k=["b_mode_nobody","si_assertion","si_known"];Object.keys(e).forEach(S=>{!~k.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&console.warn(`<PremiseWidget> was created with unknown prop '${S}'`)});const p=S=>h(S);function A(S){Le[S?"unshift":"push"](()=>{g=S,t(3,g)})}return n.$$set=S=>{"b_mode_nobody"in S&&t(6,u=S.b_mode_nobody),"si_assertion"in S&&t(7,i=S.si_assertion),"si_known"in S&&t(0,_=S.si_known)},n.$capture_state=()=>({createEventDispatcher:nt,Fa:Se,faCheckCircle:Nn,faTimesCircle:fi,faDotCircle:di,faEgg:hi,faCheck:Xn,ode:De,proper:Ee,H_OPTS:a,a_opts:c,b_mode_nobody:u,si_assertion:i,si_known:_,k_premise:d,f_apply:w,si_belief:b,dm_truth:g,dispatch:m,select_opt:h,nl_opts:s}),n.$inject_state=S=>{"a_opts"in S&&t(1,c=S.a_opts),"b_mode_nobody"in S&&t(6,u=S.b_mode_nobody),"si_assertion"in S&&t(7,i=S.si_assertion),"si_known"in S&&t(0,_=S.si_known),"f_apply"in S&&(w=S.f_apply),"si_belief"in S&&t(2,b=S.si_belief),"dm_truth"in S&&t(3,g=S.dm_truth),"nl_opts"in S&&t(4,s=S.nl_opts)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&_&&t(1,c=De({ignore:{label:Ee(_),icon:{undeniable:hi,true:Xn,verified:Xn}[_]}})),n.$$.dirty&2&&t(4,s=c.length)},[_,c,b,g,s,h,u,i,d,p,A]}class pn extends ht{constructor(e){super(e);mt(this,e,ua,Ts,pt,{b_mode_nobody:6,si_assertion:7,si_known:0,k_premise:8}),D("SvelteRegisterComponent",{component:this,tagName:"PremiseWidget",options:e,id:Ts.name});const{ctx:t}=this.$$,s=e.props||{};t[6]===void 0&&!("b_mode_nobody"in s)&&console.warn("<PremiseWidget> was created without expected prop 'b_mode_nobody'"),t[7]===void 0&&!("si_assertion"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_assertion'"),t[0]===void 0&&!("si_known"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_known'")}get b_mode_nobody(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set b_mode_nobody(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_assertion(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_assertion(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_known(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_known(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_premise(){return this.$$.ctx[8]}set k_premise(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const We="src/component/Decision.svelte";function _o(n,e,t){const s=n.slice();return s[20]=e[t],s}function fo(n,e,t){const s=n.slice();return s[20]=e[t],s}function js(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g,m,h,k,p,A,S,f=n[3];pe(f);let E=[];for(let I=0;I<f.length;I+=1)E[I]=Ns(fo(n,f,I));let N=n[2];pe(N);let q=[];for(let I=0;I<N.length;I+=1)q[I]=qs(_o(n,N,I));const Y={c:function(){e=T("div"),t=T("div"),s=T("div"),o=T("button"),o.textContent="Abstain",r=B(),a=T("div"),c=T("span"),c.textContent="Arbiter's bag:",u=B(),i=T("span"),_=T("span");for(let L=0;L<E.length;L+=1)E[L].c();d=B(),w=T("div"),b=T("span"),b.textContent="Opponent's chip:",g=B(),m=T("span"),h=T("span");for(let L=0;L<q.length;L+=1)q[L].c();C(o,"class","s-UQAPz40uou8M"),j(o,We,220,4,7343),C(s,"class","decision-abstain s-UQAPz40uou8M"),x(s,"selected",n[4]===n[1]),j(s,We,219,3,7258),C(c,"class","decision-opts-row-title s-UQAPz40uou8M"),j(c,We,225,4,7479),C(_,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(_,We,229,5,7597),C(i,"class","decision-opts-row-view s-UQAPz40uou8M"),j(i,We,228,4,7554),C(a,"class","decision-opts-row s-UQAPz40uou8M"),C(a,"data-target","bag"),j(a,We,224,3,7425),C(b,"class","decision-opts-row-title s-UQAPz40uou8M"),j(b,We,243,4,7990),C(h,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(h,We,247,5,8110),C(m,"class","decision-opts-row-view s-UQAPz40uou8M"),j(m,We,246,4,8067),C(w,"class","decision-opts-row s-UQAPz40uou8M"),C(w,"data-target","opponent"),j(w,We,242,3,7931),C(t,"class","decision-opts s-UQAPz40uou8M"),j(t,We,218,2,7227),C(e,"class","decision s-UQAPz40uou8M"),x(e,"staged",!!n[1]),j(e,We,214,1,7028)},m:function(L,J){G(L,e,J),v(e,t),v(t,s),v(s,o),v(t,r),v(t,a),v(a,c),v(a,u),v(a,i),v(i,_);for(let M=0;M<E.length;M+=1)E[M].m(_,null);v(t,d),v(t,w),v(w,b),v(w,g),v(w,m),v(m,h);for(let M=0;M<q.length;M+=1)q[M].m(h,null);p=!0,A||(S=Ue(o,"click",n[10],!1,!1,!1),A=!0)},p:function(L,J){if(n=L,(!p||J&18)&&x(s,"selected",n[4]===n[1]),J&170){f=n[3],pe(f);let M;for(M=0;M<f.length;M+=1){const me=fo(n,f,M);E[M]?E[M].p(me,J):(E[M]=Ns(me),E[M].c(),E[M].m(_,null))}for(;M<E.length;M+=1)E[M].d(1);E.length=f.length}if(J&166){N=n[2],pe(N);let M;for(M=0;M<N.length;M+=1){const me=_o(n,N,M);q[M]?q[M].p(me,J):(q[M]=qs(me),q[M].c(),q[M].m(h,null))}for(;M<q.length;M+=1)q[M].d(1);q.length=N.length}(!p||J&2)&&x(e,"staged",!!n[1])},i:function(L){p||(ze(()=>{k||(k=be(e,_e,{duration:3600,easing:St},!0)),k.run(1)}),p=!0)},o:function(L){k||(k=be(e,_e,{duration:3600,easing:St},!1)),k.run(0),p=!1},d:function(L){L&&F(e),rt(E,L),rt(q,L),L&&k&&k.end(),A=!1,S()}};return D("SvelteRegisterBlock",{block:Y,id:js.name,type:"if",source:"(214:0) {#if b_visible}",ctx:n}),Y}function Ns(n){let e,t,s=n[7](n[20])+"",o,r,a;function c(){return n[11](n[20])}const u={c:function(){e=T("span"),t=new mi(!1),o=B(),t.a=o,C(e,"class","decision-opt s-UQAPz40uou8M"),x(e,"selected",n[20]===n[1]),j(e,We,231,7,7681)},m:function(_,d){G(_,e,d),t.m(s,e),v(e,o),r||(a=Ue(e,"click",c,!1,!1,!1),r=!0)},p:function(_,d){n=_,d&8&&s!==(s=n[7](n[20])+"")&&t.p(s),d&10&&x(e,"selected",n[20]===n[1])},d:function(_){_&&F(e),r=!1,a()}};return D("SvelteRegisterBlock",{block:u,id:Ns.name,type:"each",source:"(231:6) {#each a_opts_arb as k_opt}",ctx:n}),u}function qs(n){let e,t,s=n[7](n[20])+"",o,r,a,c,u;function i(){return n[12](n[20])}const _={c:function(){e=T("span"),t=new mi(!1),o=B(),r=T("img"),a=B(),t.a=o,qn(r,"display","none"),C(r,"alt","hidden"),C(r,"class","s-UQAPz40uou8M"),j(r,We,255,8,8390),C(e,"class","decision-opt s-UQAPz40uou8M"),x(e,"selected",n[20]===n[1]),j(e,We,249,7,8194)},m:function(w,b){G(w,e,b),t.m(s,e),v(e,o),v(e,r),v(e,a),c||(u=Ue(e,"click",i,!1,!1,!1),c=!0)},p:function(w,b){n=w,b&4&&s!==(s=n[7](n[20])+"")&&t.p(s),b&6&&x(e,"selected",n[20]===n[1])},d:function(w){w&&F(e),c=!1,u()}};return D("SvelteRegisterBlock",{block:_,id:qs.name,type:"each",source:"(249:6) {#each a_opts_opp as k_opt}",ctx:n}),_}function Is(n){let e,t,s=n[0]&&js(n);const o={c:function(){s&&s.c(),e=Xt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=js(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(He(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return D("SvelteRegisterBlock",{block:o,id:Is.name,type:"component",source:"",ctx:n}),o}class _a{constructor(e,t){this._si_color=e,this._si_shape=t}get color(){return this._si_color}get shape(){return this._si_shape}}function fa(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;gt("Decision",r,[]);const c={show:b,hide:g};let{k_deduced:u}=e;const i=nt(),_=zt("game");let d=_.language,w=!1;async function b(){t(0,w=!0)}function g(){t(0,w=!1)}const m={target:"abstain",color:null,shape:null};let h=null;function k(I,L){h!==L&&(t(1,h=L),i("change",L))}function p(){t(1,h=m),i("abstain")}const A=Pe("canvas",{width:100,height:100}),S=A.getContext("2d");function f(I){S.clearRect(0,0,100,100),S.stroke(),S.globalAlpha=.8,Yn(S,50,Math.pow(35,2),I.color,I.shape);const L=A.toDataURL();return Pe("span",{},[Pe("span",{class:"decision-opt-label"},[`${Ee(I.color)} ${Ee(I.shape)}`]),Pe("img",{src:L})]).innerHTML}const E=["k_deduced"];Object.keys(e).forEach(I=>{!~E.indexOf(I)&&I.slice(0,2)!=="$$"&&I!=="slot"&&console.warn(`<Decision> was created with unknown prop '${I}'`)});const N=()=>p(),q=I=>k("bag",I),Y=I=>k("opponent",I);return n.$$set=I=>{"k_deduced"in I&&t(9,u=I.k_deduced)},n.$capture_state=()=>({Opt:_a,getContext:zt,createEventDispatcher:nt,fade:_e,quadInOut:St,proper:Ee,dd:Pe,draw_shape:Yn,k_decision:c,k_deduced:u,dispatch:i,g_game:_,yw_lang:d,b_visible:w,show:b,hide:g,g_opt_abstain:m,g_opt_selected:h,stage_decision:k,stage_abstain:p,dm_canvas:A,d_ctx:S,render_icon:f,a_opts_opp:o,a_opts_arb:s}),n.$inject_state=I=>{"k_deduced"in I&&t(9,u=I.k_deduced),"yw_lang"in I&&(d=I.yw_lang),"b_visible"in I&&t(0,w=I.b_visible),"g_opt_selected"in I&&t(1,h=I.g_opt_selected),"a_opts_opp"in I&&t(2,o=I.a_opts_opp),"a_opts_arb"in I&&t(3,s=I.a_opts_arb)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&512&&t(3,s=u.enumerate("bag")),n.$$.dirty&512&&t(2,o=u.enumerate("opponent")),n.$$.dirty&512&&t(1,h=null)},[w,h,o,s,m,k,p,f,c,u,N,q,Y]}class ho extends ht{constructor(e){super(e);mt(this,e,fa,Is,pt,{k_decision:8,k_deduced:9}),D("SvelteRegisterComponent",{component:this,tagName:"Decision",options:e,id:Is.name});const{ctx:t}=this.$$,s=e.props||{};t[9]===void 0&&!("k_deduced"in s)&&console.warn("<Decision> was created without expected prop 'k_deduced'")}get k_decision(){return this.$$.ctx[8]}set k_decision(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_deduced(){throw new Error("<Decision>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_deduced(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Dn="src/component/ActionWidget.svelte";function mo(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s[12]=t,s}function Rs(n){let e,t,s,o,r,a=n[10].label+"",c,u,i,_,d;s=new Se({props:{icon:n[10].icon},$$inline:!0});function w(){return n[5](n[9])}const b={c:function(){e=T("span"),t=T("span"),Re(s.$$.fragment),o=B(),r=T("span"),c=fe(a),u=B(),C(t,"class","action-opt-icon s-8eNH5FVaHsSg"),j(t,Dn,87,3,2291),C(r,"class","action-opt-text s-8eNH5FVaHsSg"),j(r,Dn,90,3,2364),C(e,"class","action-opt "+(n[12]===0?"opt-lft":"")+" "+(n[3]-1===n[12]?"opt-rgt":"opt-mid")+" s-8eNH5FVaHsSg"),C(e,"data-opt",n[9]),x(e,"selected",n[9]===n[0]),j(e,Dn,86,2,2093)},m:function(m,h){G(m,e,h),v(e,t),Oe(s,t,null),v(e,o),v(e,r),v(r,c),v(e,u),i=!0,_||(d=Ue(e,"click",w,!1,!1,!1),_=!0)},p:function(m,h){n=m,(!i||h&5)&&x(e,"selected",n[9]===n[0])},i:function(m){i||(O(s.$$.fragment,m),i=!0)},o:function(m){H(s.$$.fragment,m),i=!1},d:function(m){m&&F(e),Me(s),_=!1,d()}};return D("SvelteRegisterBlock",{block:b,id:Rs.name,type:"each",source:"(86:1) {#each ode(H_OPTS) as [si_opt, g_opt], i_opt}",ctx:n}),b}function Os(n){let e,t,s=De(n[2]);pe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=Rs(mo(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();C(e,"class","action s-8eNH5FVaHsSg"),qn(e,"width",100*n[3]+"px"),j(e,Dn,84,0,1967)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){G(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[6](e),t=!0},p:function(u,[i]){if(i&29){s=De(u[2]),pe(s);let _;for(_=0;_<s.length;_+=1){const d=mo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=Rs(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(He(),_=s.length;_<o.length;_+=1)r(_);Qe()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){u&&F(e),rt(o,u),n[6](null)}};return D("SvelteRegisterBlock",{block:a,id:Os.name,type:"component",source:"",ctx:n}),a}function da(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("ActionWidget",s,[]);const r={yes:{label:"Yes",icon:Nn}},a=De(r).length;let c=m=>m,{si_selected:u="none"}=e,i;const _=nt();function d(m){u!==m&&(t(0,u=m),_("change",m))}const w=["si_selected"];Object.keys(e).forEach(m=>{!~w.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<ActionWidget> was created with unknown prop '${m}'`)});const b=m=>d(m);function g(m){Le[m?"unshift":"push"](()=>{i=m,t(1,i)})}return n.$$set=m=>{"si_selected"in m&&t(0,u=m.si_selected)},n.$capture_state=()=>({createEventDispatcher:nt,Fa:Se,faCheckCircle:Nn,ode:De,H_OPTS:r,NL_OPTS:a,f_apply:c,si_selected:u,dm_action:i,dispatch:_,select_opt:d}),n.$inject_state=m=>{"f_apply"in m&&(c=m.f_apply),"si_selected"in m&&t(0,u=m.si_selected),"dm_action"in m&&t(1,i=m.dm_action)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[u,i,r,a,d,b,g]}class po extends ht{constructor(e){super(e);mt(this,e,da,Os,pt,{si_selected:0}),D("SvelteRegisterComponent",{component:this,tagName:"ActionWidget",options:e,id:Os.name})}get si_selected(){throw new Error("<ActionWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_selected(e){throw new Error("<ActionWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const gn="src/component/Pick.svelte";function go(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s}function Ms(n){let e,t,s,o=De(n[2]);pe(o);let r=[];for(let u=0;u<o.length;u+=1)r[u]=Us(go(n,o,u));const a=u=>H(r[u],1,1,()=>{r[u]=null}),c={c:function(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();C(e,"class","pick s-AUZQ0ENzDxvQ"),x(e,"picked",!!n[1]),j(e,gn,77,1,1812)},m:function(i,_){G(i,e,_);for(let d=0;d<r.length;d+=1)r[d].m(e,null);s=!0},p:function(i,_){if(_&14){o=De(i[2]),pe(o);let d;for(d=0;d<o.length;d+=1){const w=go(i,o,d);r[d]?(r[d].p(w,_),O(r[d],1)):(r[d]=Us(w),r[d].c(),O(r[d],1),r[d].m(e,null))}for(He(),d=o.length;d<r.length;d+=1)a(d);Qe()}(!s||_&2)&&x(e,"picked",!!i[1])},i:function(i){if(!s){for(let _=0;_<o.length;_+=1)O(r[_]);ze(()=>{t||(t=be(e,kt,{duration:2500},!0)),t.run(1)}),s=!0}},o:function(i){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)H(r[_]);t||(t=be(e,kt,{duration:2500},!1)),t.run(0),s=!1},d:function(i){i&&F(e),rt(r,i),i&&t&&t.end()}};return D("SvelteRegisterBlock",{block:c,id:Ms.name,type:"if",source:"(77:0) {#if b_visible}",ctx:n}),c}function Us(n){let e,t,s=n[10].label+"",o,r,a,c,u,i,_=n[10].description+"",d,w,b,g,m;c=new Se({props:{icon:n[10].icon},$$inline:!0});function h(){return n[5](n[9])}const k={c:function(){e=T("span"),t=T("div"),o=fe(s),r=B(),a=T("div"),Re(c.$$.fragment),u=B(),i=T("div"),d=fe(_),w=B(),C(t,"class","pick-label s-AUZQ0ENzDxvQ"),j(t,gn,80,4,2071),C(a,"class","pick-icon s-AUZQ0ENzDxvQ"),j(a,gn,83,4,2131),C(i,"class","pick-description s-AUZQ0ENzDxvQ"),j(i,gn,86,4,2201),C(e,"class","pick-opt s-AUZQ0ENzDxvQ"),C(e,"data-pick",n[9]),x(e,"selected",n[1]===n[9]),j(e,gn,79,3,1946)},m:function(A,S){G(A,e,S),v(e,t),v(t,o),v(e,r),v(e,a),Oe(c,a,null),v(e,u),v(e,i),v(i,d),v(e,w),b=!0,g||(m=Ue(e,"click",h,!1,!1,!1),g=!0)},p:function(A,S){n=A,(!b||S&6)&&x(e,"selected",n[1]===n[9])},i:function(A){b||(O(c.$$.fragment,A),b=!0)},o:function(A){H(c.$$.fragment,A),b=!1},d:function(A){A&&F(e),Me(c),g=!1,m()}};return D("SvelteRegisterBlock",{block:k,id:Us.name,type:"each",source:"(79:2) {#each ode(H_PICKS) as [si_pick, g_pick]}",ctx:n}),k}function Ls(n){let e,t,s=n[0]&&Ms(n);const o={c:function(){s&&s.c(),e=Xt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),G(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=Ms(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(He(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&F(e)}};return D("SvelteRegisterBlock",{block:o,id:Ls.name,type:"component",source:"",ctx:n}),o}function ha(n,e,t){let{$$slots:s={},$$scope:o}=e;gt("Pick",s,[]);const r={jackpot:{icon:pi,label:"Jackpot",description:"A pile of SCRT accrued from lost wagers. The exact amount you will receive is a secret."},nft:{icon:gi,label:"Power-up NFT",description:"A unique NFT that gives the owner some special power when used during gameplay. The type of power-up you will receive is a secret."}};let a=!1,c=null;const u={show:i,hide:_};function i(){t(0,a=!0)}function _(){t(0,a=!1)}const d=nt();function w(m){t(1,c=m),d("pick",c)}const b=[];Object.keys(e).forEach(m=>{!~b.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<Pick> was created with unknown prop '${m}'`)});const g=m=>w(m);return n.$capture_state=()=>({createEventDispatcher:nt,blur:kt,Fa:Se,faCoins:pi,faTrophy:gi,ode:De,H_PICKS:r,b_visible:a,si_pick_selected:c,k_pick:u,show:i,hide:_,dispatch:d,pick:w}),n.$inject_state=m=>{"b_visible"in m&&t(0,a=m.b_visible),"si_pick_selected"in m&&t(1,c=m.si_pick_selected)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[a,c,r,w,u,g]}class wo extends ht{constructor(e){super(e);mt(this,e,ha,Ls,pt,{k_pick:4}),D("SvelteRegisterComponent",{component:this,tagName:"Pick",options:e,id:Ls.name})}get k_pick(){return this.$$.ctx[4]}set k_pick(e){throw new Error("<Pick>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Ys{#e;static includes(e){for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);if(s&&e.test(s))return!0}return!1}constructor(e,t,s){const o=window.btoa(JSON.stringify(s||{}));this._si_namespace=`${e}.${o}`,this.#e=t}set(e,t){let s;try{s=JSON.stringify(t)}catch{throw new Error("Unable to stringify value")}let o;try{o=Vn.exports.AES.encrypt(s,this.#e).toString()}catch{throw new Error("Unable to encrypt message")}return localStorage.setItem(`${this._si_namespace}.${e}`,o)}get(e){const t=localStorage.getItem(`${this._si_namespace}.${e}`);if(t===null)return t;let s;try{s=Vn.exports.AES.decrypt(t,this.#e).toString(Vn.exports.enc.Utf8)}catch{throw new Error("Failed to decrypt value using provided secret")}let o;try{o=JSON.parse(s)}catch{throw new Error("Failed to parse decrypted text")}return o}clear(){const e=`${this._si_namespace}.`;for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);(s==null?void 0:s.startsWith(e))&&localStorage.removeItem(s)}}remove(e){return localStorage.removeItem(`${this._si_namespace}.${e}`)}}const on="src/component/NftCard.svelte";function Bs(n){let e,t,s;t=new Se({props:{icon:n[3]},$$inline:!0});const o={c:function(){e=T("div"),Re(t.$$.fragment),C(e,"class","card-icon s-1u1ddl8y5Heu"),j(e,on,87,4,2117)},m:function(a,c){G(a,e,c),Oe(t,e,null),s=!0},p:function(a,c){const u={};c&8&&(u.icon=a[3]),t.$set(u)},i:function(a){s||(O(t.$$.fragment,a),s=!0)},o:function(a){H(t.$$.fragment,a),s=!1},d:function(a){a&&F(e),Me(t)}};return D("SvelteRegisterBlock",{block:o,id:Bs.name,type:"if",source:"(87:3) {#if y_icon}",ctx:n}),o}function Ds(n){let e,t,s,o,r,a,c,u,i,_,d,w,b,g=n[3]&&Bs(n);const m={c:function(){e=T("div"),t=T("div"),s=T("div"),g&&g.c(),o=B(),r=T("div"),a=fe(n[2]),c=B(),u=T("div"),i=fe(n[0]),C(r,"class","card-class s-1u1ddl8y5Heu"),j(r,on,91,3,2190),C(s,"class","card-overlay s-1u1ddl8y5Heu"),j(s,on,85,2,2070),C(t,"class","card-preview s-1u1ddl8y5Heu"),qn(t,"background",n[4]),j(t,on,84,1,2014),C(u,"class","card-title s-1u1ddl8y5Heu"),j(u,on,96,1,2257),C(e,"class","card s-1u1ddl8y5Heu"),j(e,on,83,0,1927)},l:function(k){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(k,p){G(k,e,p),v(e,t),v(t,s),g&&g.m(s,null),v(s,o),v(s,r),v(r,a),v(e,c),v(e,u),v(u,i),d=!0,w||(b=Ue(e,"click",n[8],!1,!1,!1),w=!0)},p:function(k,[p]){n=k,n[3]?g?(g.p(n,p),p&8&&O(g,1)):(g=Bs(n),g.c(),O(g,1),g.m(s,o)):g&&(He(),H(g,1,1,()=>{g=null}),Qe()),(!d||p&4)&&Ie(a,n[2]),(!d||p&16)&&qn(t,"background",n[4]),(!d||p&1)&&Ie(i,n[0])},i:function(k){d||(O(g),ze(()=>{_||(_=be(e,_e,{delay:n[1]*800},!0)),_.run(1)}),d=!0)},o:function(k){H(g),_||(_=be(e,_e,{delay:n[1]*800},!1)),_.run(0),d=!1},d:function(k){k&&F(e),g&&g.d(),k&&_&&_.end(),w=!1,b()}};return D("SvelteRegisterBlock",{block:m,id:Ds.name,type:"component",source:"",ctx:n}),m}function ma(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;gt("NftCard",r,[]);const c=nt();let{si_token:u}=e,{g_nft:i}=e,{i_card:_}=e,d="Loading...",w;function b(){c("click_card",{token_id:u,ext:s})}const g=["si_token","g_nft","i_card"];Object.keys(e).forEach(h=>{!~g.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<NftCard> was created with unknown prop '${h}'`)});const m=()=>b();return n.$$set=h=>{"si_token"in h&&t(0,u=h.si_token),"g_nft"in h&&t(6,i=h.g_nft),"i_card"in h&&t(1,_=h.i_card)},n.$capture_state=()=>({createEventDispatcher:nt,fade:_e,Fa:Se,faAward:wi,faCarCrash:bi,dispatch:c,si_token:u,g_nft:i,i_card:_,s_class:d,y_icon:w,click_card:b,g_ext:s,sx_bg:o}),n.$inject_state=h=>{"si_token"in h&&t(0,u=h.si_token),"g_nft"in h&&t(6,i=h.g_nft),"i_card"in h&&t(1,_=h.i_card),"s_class"in h&&t(2,d=h.s_class),"y_icon"in h&&t(3,w=h.y_icon),"g_ext"in h&&t(7,s=h.g_ext),"sx_bg"in h&&t(4,o=h.sx_bg)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{if(n.$$.dirty&64&&t(7,s=i==null?void 0:i.private_metadata.extension),n.$$.dirty&128&&t(4,o=(s==null?void 0:s.background_color)?`#${s==null?void 0:s.background_color}`:`
			background: rgb(212,212,212);
			background: linear-gradient(326deg, rgba(212,212,212,1) 0%, rgba(240,240,240,1) 50%, rgba(175,175,175,1) 100%);
		`.trim().split(/\n+/g).map(h=>h.trim()).join(" ")),n.$$.dirty&128)switch(s==null?void 0:s.description){case"simple":{t(3,w=wi),t(2,d="Badge");break}case"insurance":{t(3,w=bi),t(2,d="Insurance");break}}},[u,_,d,w,o,b,i,s,m]}class bo extends ht{constructor(e){super(e);mt(this,e,ma,Ds,pt,{si_token:0,g_nft:6,i_card:1}),D("SvelteRegisterComponent",{component:this,tagName:"NftCard",options:e,id:Ds.name});const{ctx:t}=this.$$,s=e.props||{};t[0]===void 0&&!("si_token"in s)&&console.warn("<NftCard> was created without expected prop 'si_token'"),t[6]===void 0&&!("g_nft"in s)&&console.warn("<NftCard> was created without expected prop 'g_nft'"),t[1]===void 0&&!("i_card"in s)&&console.warn("<NftCard> was created without expected prop 'i_card'")}get si_token(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_token(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get g_nft(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set g_nft(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get i_card(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set i_card(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:pa,Object:ga,console:wa}=Vs,Ke="src/component/App.svelte";function Hs(n){let e,t,s,o,r,a;t=new Se({props:{icon:vi},$$inline:!0});const c={c:function(){e=T("span"),Re(t.$$.fragment),C(e,"class","system-controls-burn s-SHyHC7YcIsCQ"),C(e,"alt","destroy cookies and cache"),j(e,Ke,2105,2,71085)},m:function(i,_){G(i,e,_),Oe(t,e,null),o=!0,r||(a=Ue(e,"click",n[27],!1,!1,!1),r=!0)},p:ye,i:function(i){o||(O(t.$$.fragment,i),ze(()=>{s||(s=be(e,_e,{duration:1e3},!0)),s.run(1)}),o=!0)},o:function(i){H(t.$$.fragment,i),s||(s=be(e,_e,{duration:1e3},!1)),s.run(0),o=!1},d:function(i){i&&F(e),Me(t),i&&s&&s.end(),r=!1,a()}};return D("SvelteRegisterBlock",{block:c,id:Hs.name,type:"if",source:"(2105:1) {#if (h_cookie && Object.keys(h_cookie).length) || localStorage.length}",ctx:n}),c}function Qs(n){let e,t,s,o=Ee(n[8])+"",r,a,c=Ee(n[9])+"",u,i,_,d,w,b,g=Ee(Gt(`nobody_has|${n[10]}`))+"",m,h,k,p;const A={c:function(){e=T("div"),t=T("div"),s=fe("The "),r=fe(o),a=B(),u=fe(c),i=B(),_=T("div"),d=T("span"),d.textContent="Hint:",w=B(),b=T("span"),m=fe(g),C(t,"class","chip s-SHyHC7YcIsCQ"),j(t,Ke,2127,3,71818),C(d,"class","hint-prefix s-SHyHC7YcIsCQ"),j(d,Ke,2131,4,71933),C(b,"class","hint-sentence s-SHyHC7YcIsCQ"),j(b,Ke,2132,4,71976),C(_,"class","hint s-SHyHC7YcIsCQ"),j(_,Ke,2130,3,71910),C(e,"class","mine s-SHyHC7YcIsCQ"),j(e,Ke,2126,2,71692)},m:function(f,E){G(f,e,E),v(e,t),v(t,s),v(t,r),v(t,a),v(t,u),v(e,i),v(e,_),v(_,d),v(_,w),v(_,b),v(b,m),p=!0},p:function(f,E){n=f,(!p||E[0]&256)&&o!==(o=Ee(n[8])+"")&&Ie(r,o),(!p||E[0]&512)&&c!==(c=Ee(n[9])+"")&&Ie(u,c),(!p||E[0]&1024)&&g!==(g=Ee(Gt(`nobody_has|${n[10]}`))+"")&&Ie(m,g)},i:function(f){p||(ze(()=>{k&&k.end(1),h=Jn(e,kt,{duration:2400,easing:St,delay:4500}),h.start()}),p=!0)},o:function(f){h&&h.invalidate(),k=zn(e,kt,{duration:2400,easing:St}),p=!1},d:function(f){f&&F(e),f&&k&&k.end()}};return D("SvelteRegisterBlock",{block:A,id:Qs.name,type:"if",source:"(2126:1) {#if si_player_hint}",ctx:n}),A}function Ws(n){let e,t,s,o,r,a,c,u=n[1]&&Object.keys(n[1]).length||localStorage.length,i,_,d,w,b,g,m,h,k,p,A,S,f,E,N,q,Y,I,L,J,M,me,z,Xe,Ye,je,Fe,ce,Ce;s=new Se({props:{icon:n[0]?Zn:xn},$$inline:!0}),a=new Se({props:{icon:$n},$$inline:!0});let se=u&&Hs(n);function _t(ue){n[28](ue)}let ge={k_killables:n[14]};n[2]!==void 0&&(ge.k_panel=n[2]),_=new Ji({props:ge,$$inline:!0}),Le.push(()=>Vt(_,"k_panel",_t));function st(ue){n[30](ue)}let Ne={};n[5]!==void 0&&(Ne.k_prompt=n[5]),p=new Xi({props:Ne,$$inline:!0}),Le.push(()=>Vt(p,"k_prompt",st));function Ve(ue){n[31](ue)}let it={};n[4]!==void 0&&(it.k_tx=n[4]),f=new ro({props:it,$$inline:!0}),Le.push(()=>Vt(f,"k_tx",Ve)),f.$on("basis",n[15]),f.$on("quality",n[17]),f.$on("force_reject",n[16]);function Nt(ue){n[32](ue)}let le={k_deduced:n[13]};n[6]!==void 0&&(le.k_decision=n[6]),q=new ho({props:le,$$inline:!0}),Le.push(()=>Vt(q,"k_decision",Nt)),q.$on("abstain",n[19]),q.$on("change",n[20]);let ae=n[10]&&Qs(n);function qt(ue){n[33](ue)}let Ae={};n[7]!==void 0&&(Ae.k_pick=n[7]),J=new wo({props:Ae,$$inline:!0}),Le.push(()=>Vt(J,"k_pick",qt)),J.$on("pick",n[18]);function Pt(ue){n[34](ue)}let Ct={};n[3]!==void 0&&(Ct.k_scene=n[3]),z=new co({props:Ct,$$inline:!0}),Le.push(()=>Vt(z,"k_scene",Pt));const It={c:function(){e=T("div"),t=T("span"),Re(s.$$.fragment),o=B(),r=T("span"),Re(a.$$.fragment),c=B(),se&&se.c(),i=B(),Re(_.$$.fragment),w=B(),b=T("div"),g=T("img"),h=B(),k=T("div"),Re(p.$$.fragment),S=B(),Re(f.$$.fragment),N=B(),Re(q.$$.fragment),I=B(),ae&&ae.c(),L=B(),Re(J.$$.fragment),me=B(),Re(z.$$.fragment),Ye=B(),je=T("div"),C(t,"class","system-controls-audio s-SHyHC7YcIsCQ"),C(t,"alt","audio"),j(t,Ke,2098,1,70705),C(r,"class","system-controls-faucet s-SHyHC7YcIsCQ"),C(r,"alt","faucet"),j(r,Ke,2101,1,70850),C(e,"class","system-controls s-SHyHC7YcIsCQ"),j(e,Ke,2097,0,70674),Jo(g.src,m="/asset/smile.png")||C(g,"src",m),C(g,"alt","evil smile"),C(g,"class","s-SHyHC7YcIsCQ"),j(g,Ke,2115,1,71353),C(b,"class","surprise s-SHyHC7YcIsCQ"),j(b,Ke,2114,0,71305),C(je,"class","gallery s-SHyHC7YcIsCQ"),j(je,Ke,2143,1,72188),C(k,"class","container s-SHyHC7YcIsCQ"),j(k,Ke,2118,0,71409)},l:function(R){throw new pa("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(R,ne){G(R,e,ne),v(e,t),Oe(s,t,null),v(e,o),v(e,r),Oe(a,r,null),v(e,c),se&&se.m(e,null),G(R,i,ne),Oe(_,R,ne),G(R,w,ne),G(R,b,ne),v(b,g),n[29](b),G(R,h,ne),G(R,k,ne),Oe(p,k,null),v(k,S),Oe(f,k,null),v(k,N),Oe(q,k,null),v(k,I),ae&&ae.m(k,null),v(k,L),Oe(J,k,null),v(k,me),Oe(z,k,null),v(k,Ye),v(k,je),n[35](je),Fe=!0,ce||(Ce=[Ue(t,"click",n[25],!1,!1,!1),Ue(r,"click",n[26],!1,!1,!1)],ce=!0)},p:function(R,ne){const V={};ne[0]&1&&(V.icon=R[0]?Zn:xn),s.$set(V),ne[0]&2&&(u=R[1]&&Object.keys(R[1]).length||localStorage.length),u?se?(se.p(R,ne),ne[0]&2&&O(se,1)):(se=Hs(R),se.c(),O(se,1),se.m(e,null)):se&&(He(),H(se,1,1,()=>{se=null}),Qe());const ot={};!d&&ne[0]&4&&(d=!0,ot.k_panel=R[2],Zt(()=>d=!1)),_.$set(ot);const Rt={};!A&&ne[0]&32&&(A=!0,Rt.k_prompt=R[5],Zt(()=>A=!1)),p.$set(Rt);const y={};!E&&ne[0]&16&&(E=!0,y.k_tx=R[4],Zt(()=>E=!1)),f.$set(y);const K={};ne[0]&8192&&(K.k_deduced=R[13]),!Y&&ne[0]&64&&(Y=!0,K.k_decision=R[6],Zt(()=>Y=!1)),q.$set(K),R[10]?ae?(ae.p(R,ne),ne[0]&1024&&O(ae,1)):(ae=Qs(R),ae.c(),O(ae,1),ae.m(k,L)):ae&&(He(),H(ae,1,1,()=>{ae=null}),Qe());const he={};!M&&ne[0]&128&&(M=!0,he.k_pick=R[7],Zt(()=>M=!1)),J.$set(he);const Ze={};!Xe&&ne[0]&8&&(Xe=!0,Ze.k_scene=R[3],Zt(()=>Xe=!1)),z.$set(Ze)},i:function(R){Fe||(O(s.$$.fragment,R),O(a.$$.fragment,R),O(se),O(_.$$.fragment,R),O(p.$$.fragment,R),O(f.$$.fragment,R),O(q.$$.fragment,R),O(ae),O(J.$$.fragment,R),O(z.$$.fragment,R),Fe=!0)},o:function(R){H(s.$$.fragment,R),H(a.$$.fragment,R),H(se),H(_.$$.fragment,R),H(p.$$.fragment,R),H(f.$$.fragment,R),H(q.$$.fragment,R),H(ae),H(J.$$.fragment,R),H(z.$$.fragment,R),Fe=!1},d:function(R){R&&F(e),Me(s),Me(a),se&&se.d(),R&&F(i),Me(_,R),R&&F(w),R&&F(b),n[29](null),R&&F(h),R&&F(k),Me(p),Me(f),Me(q),ae&&ae.d(),Me(J),Me(z),n[35](null),ce=!1,ti(Ce)}};return D("SvelteRegisterBlock",{block:It,id:Ws.name,type:"component",source:"",ctx:n}),It}function Gs(n){return n}function ba(n,e,t){let s,{$$slots:o={},$$scope:r}=e;gt("App",o,[]);const a={chain_name:ts,chain_id:es,game_addr:jt,game_hash:Ri,rest:On,rpc:un,minter_addr:en,minter_hash:Oi};let c,u;try{const l=new Intl.Locale(navigator.language).language;l in Ei&&(u=l)}catch{}{const l=Ht("en");l.subscribe(P=>u=P),yi("game",{language:l})}let i,_,d,w,b,g,m;const h=new qi;let k,p,A,S,f=new mn,E=Gs,N=Gs;function q(l){let P=0;const U=50,ee=U/5e3,Z=window.setInterval(()=>{P+=ee,P>=1?window.clearInterval(Z):l.volume=1-vt(P)},U)}const Y=new Image;Y.src="/asset/monster.png";const I=new Image;I.src="/asset/smile.png";async function L(l){for(const P of Pi[l])P.delay&&await Q(P.delay),await i.reveal_text(P.labels[u],P.interval,P.pause)}async function J(){await Q(2e3),await L("attention"),await Q(1800),await i.reveal_text(""),await Q(1200)}async function M(){await i.reveal_text("good luck! ;)"),await Q(800),await i.reveal_text("")}async function me(){return await w.ok("Reload"),window.location.reload(),new Promise(()=>{})}async function z(l,P){return h.killAll(),i.reveal_text(""),await ne(l,!0,P),me()}async function Xe(l){let P="";l||(P="                                 ",await i.reveal_text(P)),ce.epic_transition.play(),P||i.reveal_text(P+"  ",250),le.classList.add("triggered"),await Q(160),t(11,le.style.opacity="0.0",le),setTimeout(()=>{t(11,le.style.display="none",le)},6e3),l||wt({surprise:"bypass"},12*ct),await Q(2e3)}async function Ye(l=0){await i.warn(`
			This game stores encrypted query permit data in local storage.
			
			In order to protect this data, you must provide a passphrase each time the page is loaded.

			${Ys.includes(/\.permits$/)?"Enter the same passphrase to restore a previous permit, or enter a different one to sign a new permit.":""}
		`);async function P(te=0){let ve=!1;te||h.addTimeout(()=>{ve||i.reveal_text("\u2193\u2193 click below to enter passphrase \u2193\u2193")},6500),await w.ok("Provide passphrase"),ve=!0;const Je=new Uint8Array(32);crypto.getRandomValues(Je);const Jt=[...Je].map(jn=>String.fromCharCode(jn%93+33)).join(""),Yt=window.prompt("Enter a passphrase to encrypt/decrypt query permits",Jt);if(Yt)return Yt.length<5?(i.reveal_text("passphrase must be at least 5 characters"),P(te+1)):Yt;{const jn=["null key encryption, eh? try again you silly goose","i can do this all day, can you?","there are only so many responses i have...","...and you're starting to piss me off","i'm serious dood -- don't make me"];return te<jn.length?i.reveal_text(jn[te],40):window.location.href="https://www.youtube.com/watch?v=dQw4w9WgXcQ",P(te+1)}}const Z=(await(await Si.load()).get()).visitorId,oe=await P();if(i.reveal_text(""),!m){await R(`
				This is a multiplayer, online game that uses smart contracts on the Secret Network to ensure fairness for all players.

				Interacting with the game requires submitting transactions to the blockchain via a web wallet such as Keplr (or a local wallet for testnet only).
			`),await Q(600);const te=await w.opts({keplr:tn.isAvailable()?{label:"Connect Keplr",alt:"Connect a wallet using the Keplr extension for Chrome"}:{label:"Install Keplr",alt:"Keplr was not detected. Please install it first in order to use this option"}});switch(te){case"keplr":{try{m=tn.fromWindow()}catch{return window.open("https://www.keplr.app/","_blank"),await me()}wt({wallet:"keplr"},30*ct);break}case"local":return z("Local storage wallet not yet implemented");default:return z(`Unhandled response option: '${te}'`)}}let $=!1;try{$=await m.enable({chainId:es,chainName:ts,rest:On,rpc:un},()=>(m.disable(),z("Account was changed in wallet. Session terminated.")))}catch(te){debugger;return te instanceof rs?l>=3?z("Keplr connection request rejected too many times"):(await Q(2e3),await Ye(l+1)):te instanceof ls||te instanceof Error?z(te.stack):z("Fatal unknown error")}if(!$)return z("Chain suggestion was denied. Unable to proceed.");const X=m.key,W=X.bech32Address;i.wallet({name:X.name,addr:W,ledger:X.isNanoLedger});const ie=new Ys(W,[Z,oe,"salt"].join("|"),a);let re=null;try{re=ie.get("permits")}catch{await R("Change in passphrase detected. Clearing old query perrmits."),ie.clear()}await Q(1e3);let Te=!1;if(re&&re[jt])c=re[jt],Te=!0;else{await R(`
				Query permits allow you to read encrypted data from the blockchain without needing to write anything extra to the chain.

				Signing a query permit happens offline and does not require any gas.
			`),await Q(1800),await w.ok("Sign permit");try{c={params:{chain_id:m.chain,allowed_tokens:[jt,en],permit_name:as,permissions:["owner"]},signature:await m.signQueryPermit()},ie.set("permits",yt(tt({},re||{}),{[jt]:c,[en]:c}))}catch(te){return z(te.stack)}}i.permit(c.params,Te),await Q(1200),await i.reveal_text(""),await Q(1100)}async function je(l=!1){let P=Ht("");l?R("Still waiting for another player... {last_check}",{last_check:P}):R("Created a new game. Now waiting for another player... {last_check}",{last_check:P});let U=window.Notification&&Notification.permission==="granted",ee=!1;function Z(){if(U)R("You will receive a notification once another player has joined.");else{const ie=Pe("span"),re=new po({target:ie});re.$on("change",async()=>{const Te=Date.now();await Notification.requestPermission()==="denied"?(re.$set({si_selected:"none"}),Date.now()-Te<.5*lt?R("User previously denied request for notifications. Need to reset in browser settings."):R("User denied request for notification permission.")):R("Confirmed. Notification will be sent when another player joins.")}),R("Would you like to receive a notification once another player has joined? {approve}",{approve:ie})}}let oe=Date.now(),$=h.addInterval(()=>{oe&&P.set(`Last checked ${Ni(oe)}`),ee||(ee=!0,Z())},1e3),X,W;for(;;){W=Date.now();try{X=await ge.queryGameState()}catch(re){return re instanceof fn?z(re.message):z(re+"")}if(X.round!==0)break;oe=Date.now(),await Q(2e3);const ie=Date.now()-W;ie<5*lt&&await Q(ie)}h.delInterval($),P.set("");{let ie=function(){window.removeEventListener("focus",re)},re=function(){ie(),q(Te)};const Te=ce.retro_game_alarm;Te.play(),document.hasFocus()?(await Q(1800),q(Te)):window.addEventListener("focus",re)}return X}const Fe={epic_transition:"epic-transition.wav",coin:"coin.wav",death:"death.wav",menu_1a:"menu-1a.wav",menu_1b:"menu-1b.wav",rise:"rise.wav",coin_win:"coin-win.wav",retro_game_alarm:"retro-game-alarm.wav",retro_game_notif:"retro-game-notif.wav",trumpet_fanfare:"trumpet-fanfare.wav"},ce=Object.fromEntries(De(Fe).map(([l,P])=>[l,new Audio(`/asset/audio/${P}`)]));let Ce=!1,se=hn(),_t,ge;async function st(){await V(`
			Your opponent is taking too long. Since you have already fulfilled your duty, I will allow you to end the game and get a refund.

			Would you like to end the game?
		`),await i.reveal_text("yes, give me my money back"),i.submittable(async()=>{i.submittable(null);const l=await K({async exec(){return(await ge.forceEndgame()).data.force_endgame.game_state},check(P){return P.finished!==null},query_fail(){return st(),null},persist_reveal:!0});if(!!l)return await i.commit(),i.unsubmittable(),await V(`I have refunded you ${_n(BigInt(l.wager))}.`),await ce.coin.play(),Ve()})}class Ne{constructor(P){this._s_expired="run out of time";const U=P.terminate;this._s_kill=P.kill_text||"",this._k_eta=P.eta,this._yw_time=Ht("(estimating...)"),this._k_eta.eta,this._i_interval=h.addInterval(()=>{const Z=this._k_eta;if(!Z.ready)return;if(Z.expired){this._yw_time.set(this._s_expired),h.delInterval(this._i_interval),this._i_interval=0;try{this._dm_clock.remove()}catch{}U&&U();return}const oe=Z.remaining,$=Math.max(0,Math.floor(oe/lt)),X=Math.floor($/60);X?X<2?this._yw_time.set("less than 2 minutes remaining"):X<5?this._yw_time.set("less than 5 minutes remaining"):X<10?this._yw_time.set("less than 10 minutes remaining"):this._yw_time.set("a little more than 10 minutes remaining"):$<=10?this._yw_time.set("less than 10 seconds remaining"):$<=31?this._yw_time.set("less than 30 seconds remaining"):this._yw_time.set("less than 60 seconds remaining")},100);const ee=this._dm_clock=Pe("span");Object.assign(ee.style,{paddingRight:"2px"}),new Se({target:ee,props:{icon:ki}})}get interval(){return this._i_interval}get clock(){return this._dm_clock}get store(){return this._yw_time}kill(P=""){this._i_interval&&(h.delInterval(this._i_interval),this._i_interval=0,this._dm_clock.remove(),this._yw_time.set(P||this._s_kill))}}async function Ve(){return sn("game"),z("Game over. Reload to play again.")}async function it(){let l=!0;i.reveal_text("checking for active game...").then(()=>l&&i.spinning(!0));let P;try{try{P=await ge.queryGameState()}finally{l=!1,i.reveal_text("")}}catch{debugger}if(P&&(console.log("Resuming:",P),P.round!==null)){if(P.finished?R("Fast-forwarding through finished game so you can see the results."):R("Successfully resumed active game."),P.round===0&&(P=await je(!0)),P.round===1)return dt(P,!0),!0;if(P.round===3)return Hn(P,!0),!0;await ne(`Unrecognized game state round: ${P.round}`)}return!1}let Nt=!1,le;const ae=l=>l.cloneNode();async function qt(){if(Ce)return;const l=ae(ce.menu_1a);l.volume=.4;try{await l.play()}catch{}}async function Ae(){if(Ce)return;const l=ae(ce.menu_1b);l.volume=.4;try{await l.play()}catch{}}async function Pt(){try{await ce.rise.play()}catch{}}async function Ct(){const l=ae(ce.coin);l.volume=Math.random()*.35+.1;try{await l.play()}catch{}}async function It(){if(!Ce)for(let l=0;l<10;l++)Ct(),await Q(Math.random()<.35?150:250)}async function ue(){const l=ae(ce.death);try{await l.play()}catch{}}async function R(...l){return Ae(),i.warn(...l)}async function ne(...l){return Ae(),i.error(...l)}async function V(...l){return qt(),i.arbiter(...l)}let ot;async function Rt(){var X;const l=await _t.queryListNfts();if(!((X=l==null?void 0:l.token_list)==null?void 0:X.tokens))return;const P=l.token_list.tokens,U=[],ee=["Well done that game.","Good job!","Yep, I remember that game.","Nice!","Beautiful."];let Z=0;const oe={};let $=0;for(const W of P)oe[W]=0,U.push(new bo({target:ot,props:{si_token:W,g_nft:null,i_card:$++}}));for(let W=0,ie=P.length;W<ie;W++){const re=await _t.queryNftInfo(P[W]),Te=U[W];Te.$set({g_nft:re}),Te.$on("click_card",async te=>{const{token_id:ve,ext:Je}=te.detail;if(!oe[ve])switch(oe[ve]+=1,Je.description){case"simple":{Z>=ee.length?(await V("Ok, i'm over this..."),Z=-1):Z>=0&&await V(ee[Z++]);break}case"insurance":{await V("Insurance will protect you in the event that you are eliminated. Your wager will be returned and your opponent will not see any gains.");break}}})}}Kt(async()=>{console.log(a);const l=se.last_seen;if(l&&t(0,Ce=!!+se.muted),se.wallet==="keplr")try{m=tn.fromWindow()}catch{sn("wallet")}wt({last_seen:""+Date.now()},30*ct),t(1,se=hn()),await Ye(),_t=new Li(m,en,c),Rt(),ge=new Ui(m,jt,c);const P=nn("game");if(P&&P[m.publicAddress]){if(await it())return;wt({game:yt(tt({},nn("game")||{}),{[m.publicAddress]:""})},30*ct)}const U=se.surprise;return U!=="bypass"?(await Xe(U),await J()):await M(),await V(`
			Welcome${l?" back":""} to my game of secrets. In a moment, you will be matched with another player.

			I will give each of you a chip with a colored shape on it. There are only four colors (red, green, blue, black), and four shapes (triangle, square, circle, star).

			Your opponent will not be able to see your chip and vice versa. I will also take a third chip and hide it in a bag. Each chip will have a unique color and a unique shape. For example, if the chip in my bag is a red triangle, then nobody else has red, and nobody else has a triangle.

			The rules are simple. You and your opponent must exchange a message with each other. Cooperate to deduce what is in my bag and you both will advance to the next round. Betray your opponent by correctly guessing which chip they have and win their wager. Guess wrong and lose.
		`),await Q(l?800:4600),he()});class y extends Error{}async function K(l){let P=!0;const U=l.reveal;typeof U=="string"?i.reveal_text(U).then(()=>P&&i.spinning(!0)):i.spinning(!0);const ee=l.check,Z=l.condition||l.query_fail,oe=l.rejected||l.query_fail;let $;try{try{if($=await l.exec(),!ee($))throw $=null,new y}finally{P=!1,l.persist_reveal||i.reveal_text("")}}catch(X){if(console.error(X),X instanceof Error){const W=X.message;if(/Account does not exist/.test(W)){const ie=Pe("span");new Se({target:ie,props:{icon:$n}});const re=Pe("a",{href:"https://faucet.secrettestnet.io/",target:"_blank"},["from the faucet"]);return Object.assign(re.style,{color:"white"}),ie.append(re),z("Looks like your wallet is empty. Make sure to acquire some SCRT tokens {faucet} so that you can pay the gas fees for transactions.",{faucet:ie})}else{if(/must finish current game/.test(W))return wt({game:yt(tt({},nn("game")||{}),{[m.publicAddress]:"active"})},12*Qt),await it()?null:z("Looks like you changed browsers or cleared cache since you last joined a game with this account. Please reload and the game will attempt to resume.");if(/contract not found/i.test(W))return z("Contract not found! Are you on the right network?");if(/Game is finished/i.test(W))return Ve(),new Promise(()=>{});if(/execute contract failed/.test(W))return ne(`Contract error: ${W}`),Z(X),null;if(/Request rejected/.test(W))return ne("Transaction rejected"),oe(X),null;if(/timed out/.test(W)){const ie=Ht("");await R("There was a timeout error while waiting for the transaction to be included. Waiting to see if it gets included... {retries}",{retries:ie});const re=await async function Te(te=1){await Q(5e3);let ve;try{if(ve=await ge.queryGameState(),!ee(ve)){if(console.warn("query permit check failed on game state",ve),ve.finished)return await V("Your opponent ended the game because you took too long to respond."),await Ve(),null;ve=null}}catch(Je){if(!(Je instanceof y))return await ne(["Timeout error. Please try again with higher gas fee.",W]),l.query_fail?await l.query_fail(Je):null}return ve||(te>=5?(await ne("Reached maximum retries. Seems like your transaction failed. Try again with higher gas fee?"),l.query_fail?await l.query_fail(new y):z("Unhandled query failure path.")):(ie.set(`Retried ${te===1?"once":`${te} times`} so far...`),await Te(te+1)))}();if(re)$=re;else return null}else{debugger;return z(`Unhandled error: ${X.stack}`)}}}else return z(`Unknown error: ${X}`)}return console.log($),$}async function he(){await i.reveal_text("ready to play?"),await w.ok("Join a game");const l=await K({reveal:"waiting for transaction to be verified... ",async exec(){return(await ge.joinGame()).data.join.game_state},check(U){return U.round!==null},query_fail(){return he(),null}});if(!l)return;let P=l;return l.round===0&&(wt({game:yt(tt({},nn("game")||{}),{[m.publicAddress]:"active"})},12*Qt),P=await je()),P.round===1||P.round===3?dt(P):(console.error(P),wt({game:yt(tt({},nn("game")||{}),{[m.publicAddress]:"active"})},12*Qt),z("Failed to join game while waiting for transaction. You can try once more by reloading this page."))}function Ze(l){var P;t(8,k=l.chip_color.split(":")[1]),t(9,p=l.chip_shape.split(":")[1]),t(10,A=(P=l.hint)==null?void 0:P.split("|")[1]),S=l.first_submit,t(22,f=new mn),f.nobody(`color:${k}`),f.nobody(`shape:${p}`),f.nobody(A)}let Be=$t[0],qe="";async function xe(){const l=qe?Wt(qe):"",P=Tt[Be].describe[u](l);await i.reveal_text(P)}function $e(l){i.submittable(null),Be=l.detail,qe="",xe()}let ft=!1;function ke(l){if(ft)return;ft=!0;const[P,U]=l.detail;V(`You already used "${Tt[P].describe[u]("")}" last turn. Now you must use "${Tt[U].describe[u]("")}".`)}function we(){qe="",i.submittable(null),d.show(),xe()}async function et(l){if(i.submittable(null),qe=l.detail,S){const[,Z]=S.split("|");Z===qe&&(qe="",await V("You cannot submit a message that would contradict your previous assertion."))}const[P,U]=qe.split(":");let ee="Unknowable";Be==="nobody_has"?A===qe?ee="Truth":(P==="color"&&U===k||P==="shape"&&U===p)&&(ee="Lie"):P==="color"&&U===k||P==="shape"&&U===p?ee="Truth":ee="Lie",await xe(),i.submittable(async()=>{d.hide(),i.submittable(null);const Z=await K({async exec(){return(await ge.submitAssertion(Be,qe)).data.submit.game_state},check(oe){return S?oe.second_submit!==null:oe.first_submit!==null},query_fail(){return we(),et(l),null},persist_reveal:!0});!Z||(await i.commit(),i.spinning(!1),Ge&&Ge.kill(),Ot&&Ot.kill(),i.unsubmittable(),Z.second_submit?kn(Z):wn(Z))},ee)}let Ge;async function dt(l,P=!1){Ze(l),await i.reveal_text(""),await V("Here is your chip, player..."),await _.animate_chip_entry(k,p),P||await Q(5e3);let U=A.startsWith("color:");if(await V(`
			Round 1: I've given you the ${k} ${p} this round, and a hint that nobody has ${U?"":"a "}${A.replace(/^[^:]+:/,"")}.

			I've also given your opponent a hint. Theirs is that nobody has a certain ${U?"shape":"color"}.
		`),l.first_submit)return await i.user(Gt(l.first_submit)),wn(l,P);P||await Q(4100),Ge=new Ne({eta:new Et(l.first_round_start_block+""),kill_text:"successfully submitted"}),await V(["Now you must choose what to tell the other player. I will reveal both of your messages simultaneously once they both have been submitted. You have {clock_icon}{time_remaining}."],{clock_icon:Ge.clock,time_remaining:Ge.store}),await d.show(),P||await Q(4e3),xe()}let bt=!1,at,Ot;async function wn(l,P=!1){var $;Ze(l);const{opponent_first_submit:U,first_extra_secret:ee}=l;if(!U&&!ee)return bt||(bt=!0,Ge&&Ge.kill("already submittted"),at=new Ne({eta:new Et(l.first_round_start_block+""),kill_text:"also submitted theirs",terminate:st}),await V(["Your submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:at.clock,time_remaining:at.store})),await Q(5e3),wn(await ge.queryGameState());at&&at.kill(),P||Pt();const Z=Pe("span");if(ee){const[X,W]=ee.split("|"),ie=Ht("");X==="nobody_has"?(f.nobody(W),ie.set(`Your opponent has the hint that "nobody has ${Wt(W)}".`)):(f.opponent(W,!0),ie.set(`Your opponent has ${Wt(W)}.`)),new pn({target:Z,props:{b_mode_nobody:!1,si_assertion:W,si_known:"true"}}),await V(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:ie,premise:Z})}else if(U){const[X,W]=U.split("|");let ie=f.clone();const re=X==="nobody_has"&&W===A,Te=new pn({target:Z,props:{b_mode_nobody:X==="nobody_has",si_assertion:W,si_known:re?"undeniable":""}}),te=Te.k_premise;Te.$on("change",()=>{t(23,E=te.apply),console.log(`Priori: ${f.explain()}`),console.log(`Opp1: ${ie.explain()}`),console.log([f,ie])}),await i.opponent([`${Ee(Gt(U))} {premise}`],{premise:Z})}else return z("Fatal system error: unable to parse game state");if(l.second_submit)return await i.user(Gt(l.second_submit)),kn(l,P);P||await Q(4100),Ot=new Ne({eta:new Et(l.second_submit_turn_start_block+""),kill_text:"already submitted"});const oe=(($=l.first_submit)==null?void 0:$.split("|")[0])==="nobody_has"?"i_have":"nobody_has";await V([`Both of you must now exchange one more message with each other. This time, I'm requiring you to submit a message about ${oe==="nobody_has"?'what "nobody has"':"your chip"}. You have {clock_icon}{time_remaining}.`],{clock_icon:Ot.clock,time_remaining:Ot.store}),await d.show(oe),xe()}let bn=!1,yn,Mt,Ft;async function kn(l,P=!1){const{opponent_second_submit:U,second_extra_secret:ee}=l;if(!U&&!ee)return bn||(bn=!0,yn&&yn.kill(),Mt=new Ne({eta:new Et(l.second_submit_turn_start_block+""),kill_text:"also submitted theirs",terminate:st}),await V(["Your 2nd submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:Mt.clock,time_remaining:Mt.store})),await Q(5e3),kn(await ge.queryGameState());P||Pt();const Z=Pe("span");if(ee){const[oe,$]=ee.split("|"),X=Ht("");oe==="nobody_has"?(t(24,N=W=>W.nobody($)),X.set(`Your opponent has the hint that "nobody has ${Wt($)}".`)):(t(24,N=W=>W.opponent($,!0)),X.set(`Your opponent has ${Wt($)}.`)),new pn({target:Z,props:{b_mode_nobody:!1,si_assertion:$,si_known:"true"}}),await V(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:X,premise:Z})}else if(U){Mt&&Mt.kill();const[oe,$]=U.split("|"),X=oe==="nobody_has"&&$===A,W=new pn({target:Z,props:{b_mode_nobody:oe==="nobody_has",si_assertion:$,si_known:X?"undeniable":""}}),ie=W.k_premise;W.$on("change",()=>{t(24,N=ie.apply)}),await i.opponent([`${Ee(Gt(U))} {premise}`],{premise:Z})}else return z("Fatal system error: unable to parse game state");if(l.guess)return await i.user(Wn(l.guess)),Pn(l,P);Ft=new Ne({eta:new Et(l.guess_turn_start_block+""),kill_text:"successfully submitted"}),await V(`
			The time has come for you to surmise my secrets. You may either guess what is in my bag, what your opponent has, or abstain completely. You have {clock_icon}{time_remaining}.

			The precedence for winning is as follows:
			- [Guess wrong] < [Abstain] < [Correctly guess arbiter's bag] < [Corrrectly guess opponent's chip]

			Use the inline widgets next to each assertion above to logically reduce your option space.
		`,{clock_icon:Ft.clock,time_remaining:Ft.store}),await b.show(),console.log(l)}async function vn(l){i.submittable(null),await i.reveal_text(Wn(l),30),i.submittable(async()=>{i.submittable(null),b.hide();const P=await K({async exec(){return(await ge.submitGuess(l)).data.guess.game_state},check(U){return U.guess!==null},query_fail(){return b.show(),vn(l),null},persist_reveal:!0});!P||(await i.commit(),i.unsubmittable(),Ft.kill(),Pn(P))})}let Sn=!1,En=!1,Ut;async function Pn(l,P=!1){const{round_result:U,round:ee,result:Z}=l;let oe=!1;if(U&&!Sn){Sn=!0;const[$,X]=U.split("|");$==="abstain"?await V(`
					Very brave to abstain, player.
				`):X==="wrong"?(ce.death.play(),await V(`
					Sorry, your guess about ${$==="opponent"?"your opponent's chip":"my bag"} was wrong.
					
					Guessing wrong is the worst because you automatically lose your wager. Consider abstaining next time if you're unsure.
				`),oe=!0):await V(`Nicely done, your guess about ${$==="opponent"?"your opponent's chip":"my bag"} was correct!`)}if(!l.opponent_guess)return En||(En=!0,Ut=new Ne({eta:new Et(l.guess_turn_start_block+""),kill_text:"now submitted",terminate:st}),await V(`${oe?"Even though you lost":"However"}, I am still waiting for a guess from your opponent. They have {clock_icon}{time_remaining}.`,{clock_icon:Ut.clock,time_remaining:Ut.store})),await Q(5e3),Pn(await ge.queryGameState());if(Ut&&Ut.kill(),t(10,A=""),_.animate_chip_exit(),console.log("round_1d#over",l),l.finished)if(l.opponent_round_result){const{opponent_round_result:$,opponent_guess:X}=l,[W,ie,re]=X.split(/\|/g),[,Te]=$.split("|");let te="",ve=!1;if(W==="abstain")te="abstained from guessing";else{const Je=ie.split(":")[1],Jt=re.split(":")[1],Yt=At[Je].labels[u]+" "+xt[Jt].labels[u];ve=Te!=="correct",te=`${ve?"wrongly":"correctly"} guessed that ${W==="bag"?"my bag":"your chip"} is the ${Yt}`}if(Z==="you lost wager")return await V([`${oe?"As you already know":"Bad news"}, you lost your wager. ${ve?"But you'll be happy to know that your opponent":"Your opponent"} ${te}, so they ${ve?"also lost their wager":"won the game and gained your lost wager"}.`]),ce.death.play(),await Q(9e3),Ve();if(Z==="you won wager"){const Je=BigInt(l.wager),Jt=_n(Je),Yt=_n(Je*2n);return await V(`
						Congratulations, you won! Your opponent ${te}, so they lost their wager.
						
						I have refunded you your original ${Jt} plus an extra ${Jt} from your opponent's wager for a total of ${Yt}.
					`),await ce.coin.play(),await Q(9e3),Ve()}else await V([`Well done. You and your opponent have tied, so you both can claim a reward. They ${te}.`]),P||await Q(4e3)}else return z("Somebody terminated the game.");else if(l.round===3)Hn(l,P);else return z(`Game is not finished but round is ${l.round}.`)}let Fs=!1,Lt;async function Hn(l,P=!1){if(Lt=new Ne({eta:new Et(l.pick_reward_round_start_block+""),kill_text:"made your decision"}),await ce.trumpet_fanfare.play(),await Q(1500),await V(`
			Congratulations on passing round 1 together! I have two rewards to choose from, a jackpot of SCRT, or an NFT that can be used to give you special powers next time you play.

			However, if you both attempt to claim the same prize, then neither of you will take it. You will only be able to take a reward if you and your opponent claim different things.

			You have {clock_icon}{time_remaining}.
		`,{clock_icon:Lt.clock,time_remaining:Lt.store}),l.pick)return An(l,!0);g.show()}async function Qn(l){const{detail:P}=l;i.submittable(null),await i.reveal_text(`i pick the ${P}`),i.submittable(async()=>{i.submittable(null),g.hide();const U=await K({async exec(){return(await ge.pickReward(P)).data.pick_reward.game_state},check(ee){return ee.pick!==null},query_fail(){return g.show(),Qn(l),null},persist_reveal:!0});!U||(await i.commit(),i.unsubmittable(),An(U))})}let an,Cn=!1;async function An(l,P=!1){Lt&&Lt.kill();const{result:U}=l;if(U){switch(U){case"you won jackpot":{It(),await V(`
						Fortune favors the bold! Your opponent picked the NFT, and you have successfully claimed the jackpot of ${_n(BigInt(l.jackpot_reward||"0"))}!
					`);break}case"you won nft":{ue(),await V(`
						Wise move. While your opponent chose the short-term gain, you see the long-term potential. You have successfully claimed an NFT.
					`);break}case"you lost reward":{ue(),l.pick==="jackpot"?await V(`
							Greed has spoiled your riches. Both players attempted to claim the jackpot, so you both shall leave empty-handed.
						`):await V(`
							An unlucky pick. Both players attempted to claim the NFT, so you both shall leave empty-handed.
						`);break}}return await Q(9e3),Ve()}else return Cn||(Cn=!0,an=new Ne({eta:new Et(l.pick_reward_round_start_block+""),kill_text:"also picked theirs",terminate:st}),await V(["Your pick has been noted. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:an.clock,time_remaining:an.store})),await Q(5e3),An(await ge.queryGameState())}function Wn(l){let P;if(typeof l=="string"?P=Object.fromEntries(l.split(/\|/g).map(U=>U.split(":"))):P=l,P.target==="abstain")return"i abstain from guessing this round";{let U="";return P.target==="bag"?U+="the arbiter's bag is: a ":U+="my opponent's chip is: a ",U+At[P.color].labels[u]+" "+xt[P.shape].labels[u]}}async function Js(){vn({target:"abstain",color:null,shape:null})}async function zs({detail:l}){vn(l)}let Tn=!1;function Gn(){if(!Tn)Tn=!0,ne("The button you just clicked will remove all cookies and cache that the game previously created and then disable the current UI. If you agree to this, click the burn icon again.");else return Object.keys(hn()).forEach(l=>sn(l)),localStorage.clear(),i.reveal_text(""),z("Cache burned")}const yo=[];ga.keys(e).forEach(l=>{!~yo.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&wa.warn(`<App> was created with unknown prop '${l}'`)});const ko=()=>t(0,Ce=!Ce),vo=()=>window.open("https://faucet.secrettestnet.io/","_blank"),So=()=>Gn();function Eo(l){i=l,t(2,i)}function Po(l){Le[l?"unshift":"push"](()=>{le=l,t(11,le)})}function Co(l){w=l,t(5,w)}function Ao(l){d=l,t(4,d)}function To(l){b=l,t(6,b)}function jo(l){g=l,t(7,g)}function No(l){_=l,t(3,_)}function qo(l){Le[l?"unshift":"push"](()=>{ot=l,t(12,ot)})}return n.$capture_state=()=>({onMount:Kt,setContext:yi,writable:Ht,blur:kt,fade:_e,quadInOut:St,expoOut:vt,Fa:Se,faClock:ki,faVolumeUp:xn,faVolumeMute:Zn,faFire:vi,faFaucet:$n,fingerprintjs:Si,H_LANGUAGES:Ei,H_COLORS:At,H_SHAPES:xt,A_BASES:$t,H_BASES:Tt,H_MESSAGES:Pi,SI_CHAIN:es,S_CHAIN_NAME:ts,P_LCD_REST:On,P_LCD_RPC:un,uscrt_to_scrt:_n,KeplrWallet:tn,EnableKeplrError:rs,OfflineSignerError:ls,dd:Pe,delete_cookie:sn,read_cookie:hn,read_cookie_json:nn,write_cookie:wt,XTL_SECONDS:lt,XTL_HOURS:Qt,XTL_DAYS:ct,ode:De,proper:Ee,timeout:Q,relative_time:Ni,Killables:qi,Deduction:mn,use_assertion_in_sentence:Gt,use_quality_in_sentence:Wt,MessagePanel:Ji,Prompt:Xi,Assertion:ro,Scene:co,PremiseWidget:pn,Decision:ho,ActionWidget:po,Pick:wo,SI_PERMIT:as,ContractError:fn,EtaEstimator:Et,GameContract:Ui,P_CONTRACT_GAME_ADDR:jt,SI_CONTRACT_GAME_CODE_HASH:Ri,P_CONTRACT_MINTER_ADDR:en,SI_CONTRACT_MINTER_CODE_HASH:Oi,MinterContract:Li,EncryptedLocalStorage:Ys,NftCard:bo,F_IDENTITY:Gs,G_NETWORK_SUMMARY:a,g_permit:c,s_lang:u,k_panel:i,k_scene:_,k_tx:d,k_prompt:w,k_decision:b,k_pick:g,k_wallet:m,k_killables:h,si_player_color:k,si_player_shape:p,si_player_hint:A,si_submit_first:S,k_priori:f,f_assert_1:E,f_assert_2:N,quiet_fade:q,d_img_monster:Y,d_img_smile:I,reveal_prepared:L,introduction:J,welcome_back:M,reload:me,fatal:z,surprise:Xe,connect_wallet:Ye,wait_for_other_player:je,H_AUDIO_SRC:Fe,H_AUDIO:ce,b_muted:Ce,h_cookie:se,k_minter:_t,k_game:ge,force_endgame:st,Countdown:Ne,game_over:Ve,try_resume_game:it,b_surprise:Nt,dm_surprise:le,clone_audio:ae,play_menu_1a:qt,play_menu_1b:Ae,play_notif:Pt,play_coin:Ct,play_jackpot:It,play_death:ue,warn:R,err:ne,arbiter:V,dm_gallery:ot,display_nfts:Rt,GameStateError:y,safe_exec:K,try_join:he,update_player_state:Ze,si_assert_basis:Be,si_assert_quality:qe,reveal_tx:xe,select_basis:$e,b_force_rejected:ft,force_reject:ke,reset_tx:we,select_quality:et,k_countdown_1a:Ge,round_1a:dt,b_notif_1b_waiting:bt,k_countdown_1a2:at,k_countdown_1b:Ot,round_1b:wn,b_notif_1c_waiting:bn,k_countdown_1b2:yn,k_countdown_1c:Mt,k_countdown_1c2:Ft,round_1c:kn,prepare_guess:vn,b_notif_1d_result:Sn,b_notif_1d_waiting:En,k_countdown_1d:Ut,round_1d:Pn,b_notif_3a_waiting:Fs,k_countdown_3a:Lt,round_3a:Hn,select_pick:Qn,k_countdown_3b:an,b_notif_3b_waiting:Cn,round_3b:An,use_guess_in_sentence:Wn,select_abstain:Js,select_decision:zs,b_burn_clicked:Tn,burn:Gn,k_deduced:s}),n.$inject_state=l=>{"g_permit"in l&&(c=l.g_permit),"s_lang"in l&&(u=l.s_lang),"k_panel"in l&&t(2,i=l.k_panel),"k_scene"in l&&t(3,_=l.k_scene),"k_tx"in l&&t(4,d=l.k_tx),"k_prompt"in l&&t(5,w=l.k_prompt),"k_decision"in l&&t(6,b=l.k_decision),"k_pick"in l&&t(7,g=l.k_pick),"k_wallet"in l&&(m=l.k_wallet),"si_player_color"in l&&t(8,k=l.si_player_color),"si_player_shape"in l&&t(9,p=l.si_player_shape),"si_player_hint"in l&&t(10,A=l.si_player_hint),"si_submit_first"in l&&(S=l.si_submit_first),"k_priori"in l&&t(22,f=l.k_priori),"f_assert_1"in l&&t(23,E=l.f_assert_1),"f_assert_2"in l&&t(24,N=l.f_assert_2),"b_muted"in l&&t(0,Ce=l.b_muted),"h_cookie"in l&&t(1,se=l.h_cookie),"k_minter"in l&&(_t=l.k_minter),"k_game"in l&&(ge=l.k_game),"b_surprise"in l&&(Nt=l.b_surprise),"dm_surprise"in l&&t(11,le=l.dm_surprise),"dm_gallery"in l&&t(12,ot=l.dm_gallery),"si_assert_basis"in l&&(Be=l.si_assert_basis),"si_assert_quality"in l&&(qe=l.si_assert_quality),"b_force_rejected"in l&&(ft=l.b_force_rejected),"k_countdown_1a"in l&&(Ge=l.k_countdown_1a),"b_notif_1b_waiting"in l&&(bt=l.b_notif_1b_waiting),"k_countdown_1a2"in l&&(at=l.k_countdown_1a2),"k_countdown_1b"in l&&(Ot=l.k_countdown_1b),"b_notif_1c_waiting"in l&&(bn=l.b_notif_1c_waiting),"k_countdown_1b2"in l&&(yn=l.k_countdown_1b2),"k_countdown_1c"in l&&(Mt=l.k_countdown_1c),"k_countdown_1c2"in l&&(Ft=l.k_countdown_1c2),"b_notif_1d_result"in l&&(Sn=l.b_notif_1d_result),"b_notif_1d_waiting"in l&&(En=l.b_notif_1d_waiting),"k_countdown_1d"in l&&(Ut=l.k_countdown_1d),"b_notif_3a_waiting"in l&&(Fs=l.b_notif_3a_waiting),"k_countdown_3a"in l&&(Lt=l.k_countdown_3a),"k_countdown_3b"in l&&(an=l.k_countdown_3b),"b_notif_3b_waiting"in l&&(Cn=l.b_notif_3b_waiting),"b_burn_clicked"in l&&(Tn=l.b_burn_clicked),"k_deduced"in l&&t(13,s=l.k_deduced)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&29360128&&t(13,s=N(E(f.clone()).clone()).clone()),n.$$.dirty[0]&3&&se&&(Object.values(ce).forEach(l=>l.muted=Ce),wt({muted:Ce?"1":"0"},30*ct))},[Ce,se,i,_,d,w,b,g,k,p,A,le,ot,s,h,$e,ke,et,Qn,Js,zs,Gn,f,E,N,ko,vo,So,Eo,Po,Co,Ao,To,jo,No,qo]}class ya extends ht{constructor(e){super(e);mt(this,e,ba,Ws,pt,{},null,[-1,-1,-1,-1]),D("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:Ws.name})}}new ya({target:document.body,props:{}});
//# sourceMappingURL=index.4ee320c3.js.map
