var jo=Object.defineProperty,qo=Object.defineProperties;var No=Object.getOwnPropertyDescriptors;var Js=Object.getOwnPropertySymbols;var Io=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable;var Ks=(n,e,t)=>e in n?jo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nt=(n,e)=>{for(var t in e||(e={}))Io.call(e,t)&&Ks(n,t,e[t]);if(Js)for(var t of Js(e))Ro.call(e,t)&&Ks(n,t,e[t]);return n},kt=(n,e)=>qo(n,No(e));import{v as Oo,S as Mo,a as dt,i as ht,s as mt,d as B,g as Xs,b as pt,c as zt,o as Jt,e as zn,f as vt,h as de,q as rn,F as je,j as Vs,k as Zs,l as xs,m as $s,n as T,t as ce,p as P,r as j,u as W,w as k,x as qe,y as st,z as Jn,A as Kn,B as G,C as Ue,D as Y,E as X,G as Le,H as O,I as Be,J as H,K as Qe,L as Ce,M as De,N as He,O as Uo,P as Lo,Q as Ne,R as St,T as fe,U as Kt,V as lt,W as gt,X as Do,Y as Yo,Z as Et,_ as ei,$ as ti,a0 as we,a1 as Bo,a2 as ni,a3 as Qo,a4 as Ho,a5 as Wo,a6 as si,a7 as Xn,a8 as ii,a9 as oi,aa as ai,ab as ln,ac as ri,ad as li,ae as cn,af as Yt,ag as Bt,ah as ci,ai as jn,aj as ui,ak as _i,al as fi,am as Vn,an as qn,ao as di,ap as hi,aq as mi,ar as Zn,as as pi,at as gi,au as xn,av as $n,aw as Xt,ax as wi,ay as Qt,az as bi,aA as yi,aB as ki,aC as Go,aD as Vt}from"./vendor.ee0f8b4c.js";const Fo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}};Fo();const vi={en:{}},jt={red:{color:"#a00000",labels:{en:"red"}},green:{color:"#006000",labels:{en:"green"}},blue:{color:"#0000a0",labels:{en:"blue"}},black:{color:"#000000",labels:{en:"black"}}},Nn=Object.keys(jt),Zt={triangle:{symbol:"\u25B2",labels:{en:"triangle"}},square:{symbol:"\u25A0",labels:{en:"square"}},circle:{symbol:"\u25CF",labels:{en:"circle"}},star:{symbol:"\u2605",labels:{en:"star"}}},In=Object.keys(Zt),qt={nobody_has:{describe:{en:n=>`nobody has ${n||"..."}`}},i_have:{describe:{en:n=>`my chip is ${n||"..."}`}}},xt=Object.keys(qt),Si={attention:[{labels:{en:"the Arbiter approaches..."}}],loading:[{delay:2e3,interval:200,labels:{en:"hmmm"}},{delay:250,interval:500,labels:{en:"hmmm...."}}]},es="prisnr-games-1",Rn="prisnr-games-1",On="https://node.prisnr.games/rest/",un="https://node.prisnr.games/rpc/",_n=n=>(Number(n/10000n)/100).toFixed(2).replace(/\.?0+$/,"")+" SCRT";class ts extends Error{constructor(e,t){t?t instanceof TypeError?super(`${e}: ${t.stack}`):t instanceof Error?super(`${e}: ${t.stack}`):super(`${e}: Unknown error`):super(e)}}const it=1e3,ns=60*it,Ht=60*ns,wt=24*Ht,Ei=7*wt,Pi=30*wt,Ci=365*wt,Ye=Object.entries;function Ai(n,e){return Ye(n).reduce((t,[s,o])=>[...t,e(s,o)],[])}function Q(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}function ss(){return new Promise(()=>{})}const ke=n=>n[0].toUpperCase()+n.slice(1),zo=[{ge:Ci,divisor:Ci,unit:"year"},{ge:Pi,divisor:Pi,unit:"month"},{ge:Ei,divisor:Ei,unit:"week"},{ge:wt,divisor:wt,unit:"day"},{ge:Ht,divisor:Ht,unit:"hour"},{ge:ns,divisor:ns,unit:"minute"},{ge:it,divisor:it,unit:"seconds"},{ge:0,divisor:1,text:"just now"}];function Ti(n,e=Date.now(),t=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"})){const o=(typeof e=="object"?e.getTime():new Date(e).getTime())-(typeof n=="object"?n:new Date(n)).getTime(),r=Math.abs(o);for(const a of zo)if(r>=a.ge){const c=Math.round(Math.abs(o)/a.divisor),u=o<0;return a.unit?t.format(u?c:-c,a.unit):a.text}}class ji{constructor(){this._as_intervals=new Set,this._as_timeouts=new Set}addInterval(e,t){const s=window.setInterval(e,t);return this._as_intervals.add(s),s}addTimeout(e,t){const s=window.setTimeout(()=>{this.delTimeout(s),e()},t);return this._as_timeouts.add(s),s}delInterval(e){window.clearInterval(e),this._as_intervals.delete(e)}delTimeout(e){window.clearTimeout(e),this._as_timeouts.delete(e)}killAll(){for(const e of this._as_intervals)this.delInterval(e);for(const e of this._as_timeouts)this.delTimeout(e)}}async function Jo(n,e,t=null){if(t==null?void 0:t.search){if(e.includes("?"))throw new Error(`Cannot specify 'search' option in fetch config when URI already contains search params: "${e}"`);e+="?"+new URLSearchParams(t.search).toString(),delete t.search}try{return await Oo(e,kt(nt({},t),{method:n,mode:"cors",headers:nt({Accept:"application/json"},(t||{}).headers||{})})).json()}catch(s){throw s}}async function qi(n,e=null){return Jo("GET",n,e)}const Nt="secret10pyejy66429refv3g35g2t7am0was7ya6hvrzf",Ni="8e0d4273f021b4367f797c929f5d28bf97912fb77664d043ffe019274ccff70a",$t="secret18vd8fpwxzck93qlwghaj6arh4p7c5n8978vsyg",Ii="36d94d2066b903ede9716f77f2fe99274aaa2c434feb424302dbb8aef9f34721";class fn extends Error{constructor(e){super(`The game contract returned the following error: ${e}`)}}const Ko="1000000",Xo=new TextDecoder;class Ri{constructor(e,t,s,o){this._k_wallet=e,this._p_contract=t,this._g_permit=s||null,this._si_code_hash=o}async execute(e,t,s=[]){const o=await this._k_wallet.execute(this._p_contract,e,s,t,this._si_code_hash);return{txnHash:o.transactionHash,data:JSON.parse(Xo.decode(o.data))}}query(e){return this._g_permit&&(e={with_permit:{query:e,permit:this._g_permit}}),this._k_wallet.query(this._p_contract,e)}}class Oi extends Ri{async queryGameState(){const e=await this.query({game_state:{}});if(e.error)throw new fn(e.error);return e.game_state}joinGame(){return this.execute({join:{}},{amount:[{amount:"8750",denom:"uscrt"}],gas:"35000"},[{denom:"uscrt",amount:Ko}])}submitAssertion(e,t){const[s,o]=t.split(":"),r=s==="color"?{color:o}:{shape:o};return this.execute({submit:nt({target:e},r)},{amount:[{amount:"10000",denom:"uscrt"}],gas:"40000"})}submitGuess(e){return this.execute({guess:e},{amount:[{amount:"10000",denom:"uscrt"}],gas:"40000"})}pickReward(e){return this.execute({pick_reward:{reward:e}},{amount:[{amount:"1000",denom:"uscrt"}],gas:"1000000"})}forceEndgame(){return this.execute({force_endgame:{}},{amount:[{amount:"1000",denom:"uscrt"}],gas:"40000"})}}class Mi extends Ri{async queryListNfts(){const e=await this.query({tokens:{owner:this._k_wallet.publicAddress}});if(e.error)throw new fn(e.error);return e}async queryNftInfo(e){const t=await this.query({private_metadata:{token_id:e}});if(t.error)throw new fn(t.error);return t}async*queryNfts(){const e=await this.queryListNfts();for(const t of e.token_list.tokens)yield await this.queryNftInfo(t)}}const Vo=(n,e)=>e<60*it?Date.now()-n.lastUpdated>5*it:Date.now()-n.lastUpdated>30*it,Ui=200;console.log(`Imposing global ${Ui} blocks per 5 minutes estimate`);let is=!1,Mn=0n,Li=0,Di=0;async function Zo(){if(Date.now()-Di<5*it)return;const n=new URL(un);n.pathname="/status";try{const e=await qi(n.href),{latest_block_height:t,latest_block_time:s}=e.data.result.sync_info;Mn=BigInt(t),Li=new Date(s).getTime(),Di=Date.now()}catch{}}class Pt{constructor(e,t=Ui,s=Vo){this._xt_start=0,this._xt_eta=0,this._xt_updated=0,this._b_currently_updating=!1,this._xg_block_start=BigInt(e),this._xg_block_dest=this._xg_block_start+BigInt(t),this._f_should_update=()=>s(this,this._xt_eta-Date.now())}async fetch_start_time(){const e=new URL(un);e.pathname="/block";const t=await qi(e.href,{search:{block:this._xg_block_start+""}});this._xt_start=new Date(t.data.result.block.header.time).getTime()}async estimate(){is=!0,this._xt_start||await this.fetch_start_time(),await Zo();const e=Number(Mn-this._xg_block_start);if(e<5)return 0;const t=(Li-this._xt_start)/e,s=Number(this._xg_block_dest-Mn),o=this._xt_updated=Date.now();return is=!1,this._xt_eta=o+Math.round(s*t)}get lastUpdated(){return this._xt_updated}get destinationBlock(){return this._xg_block_dest}get expired(){return Mn>=this.destinationBlock}get ready(){return this._xt_eta!==0}get eta(){return!this.expired&&!is&&this._f_should_update()&&this.estimate(),this._xt_eta}get remaining(){return this.eta-Date.now()}}const os="prisnr.games";class as extends ts{constructor(e){super("While attempting to enable Keplr",e)}}class rs extends ts{constructor(e){super("While attempting to acquire offline signer",e)}}class xo extends ts{constructor(e){super("While attempting to acquire enigma utils",e)}}class en{constructor(e){this._b_disabled=!1,this._f_change_listener=null,this._k_keplr=e}static isAvailable(){return!!window.keplr}static fromWindow(){if(window.keplr)return new en(window.keplr);throw new Error("Keplr extension is not installed")}disable(){this._f_change_listener&&window.removeEventListener("keplr_keystorechange",this._f_change_listener),this._b_disabled=!0}async enable(e,t){if(this._b_disabled)return!1;const s=this._si_chain=e.chainId;this._fk_change=t;try{await this._k_keplr.experimentalSuggestChain({chainId:s,chainName:e.chainName,rpc:e.rpc,rest:e.rest,bip44:{coinType:529},coinType:529,stakeCurrency:{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6},bech32Config:{bech32PrefixAccAddr:"secret",bech32PrefixAccPub:"secretpub",bech32PrefixValAddr:"secretvaloper",bech32PrefixValPub:"secretvaloperpub",bech32PrefixConsAddr:"secretvalcons",bech32PrefixConsPub:"secretvalconspub"},currencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],feeCurrencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],gasPriceStep:{low:.1,average:.25,high:.4},features:["secretwasm"]})}catch{return!1}try{await this._k_keplr.enable(s)}catch(o){throw new as(o)}try{this._k_signer=window.getOfflineSigner(s)}catch(o){throw new rs(o)}try{this._k_enigma=window.getEnigmaUtils(s)}catch(o){throw new xo(o)}return this._g_key=await this._k_keplr.getKey(s),this._a_accounts=await this._k_signer.getAccounts(),this._k_client=new Mo(On,this.publicAddress,this._k_signer,this._k_enigma,{exec:{amount:[{amount:"62500",denom:"uscrt"}],gas:"250000"}}),window.addEventListener("keplr_keystorechange",this._f_change_listener=async()=>{(await this._k_keplr.getKey(s)).bech32Address!==this.publicAddress&&this._fk_change()}),!0}get chain(){return this._si_chain}get key(){return this._g_key}get accounts(){return this._a_accounts}get primaryAccount(){return this.accounts[0]}get publicAddress(){return this.primaryAccount.address}async signQueryPermit(){return this._b_disabled?ss():(await this._k_keplr.signAmino(this.chain,this.publicAddress,{chain_id:this.chain,account_number:"0",sequence:"0",fee:{amount:[{denom:"uscrt",amount:"0"}],gas:"1"},msgs:[{type:"query_permit",value:{permit_name:os,allowed_tokens:[Nt,$t],permissions:["owner"]}}],memo:""},{preferNoSetFee:!0,preferNoSetMemo:!0})).signature}execute(e,t,s,o,r){if(this._b_disabled)return ss();let a="";if(o&&(a+=` --gas ${o.gas}`),s&&s.length){const c=s[0];a+=` --amount ${c.amount}${c.denom}`}return this._k_client.execute(e,t,"",s,o,r||void 0)}query(e,t,s,o){return this._b_disabled?ss():this._k_client.queryContractSmart(e,t,s||{},o||void 0)}}const Un=(n,e)=>n.querySelector(e),Yi=(n,e)=>Array.prototype.slice.call(n.querySelectorAll(e),0);function Ie(n,e={},t=[]){const s=document.createElement(n);for(const o in e)s.setAttribute(o,e[o]+"");for(const o of t)s.append(o);return s}function dn(){return document.cookie.split(";").reduce((n,e)=>{const t=e.trim().split("=");return kt(nt({},n),{[t[0]]:t.slice(1).join("=")})},{})}function tn(n){const e=dn();if(!(n in e))return null;let t;try{t=JSON.parse(e[n])}catch{console.error(`failed to parse cookie JSON value associated with key '${n}'`),nn(n)}return t}function Ct(n,e){const t={};for(const[s,o]of Ye(n))typeof o=="string"?t[s]=o:o===null||typeof o=="undefined"?nn(s):t[s]=JSON.stringify(o);document.cookie=Object.entries(kt(nt({},t),{"max-age":""+e})).map(([s,o])=>`${s}=${o}`).join("; ")}function nn(n){return Ct({[n]:""},0)}const $o=65535,Bi=128,ea="RGBK\u25B2\u2586\u25CF\u2605";function Qi(n){let e=[];for(let t=0;t<8;t++)n&Bi?e.push(ea[t]):e.push(" "),n=n<<1;return`[${e.join(",")}]`}function Ln(n,e=!1){const[t,s]=n.split(":");if(t==="color"){const o=Nn.indexOf(s);return 1<<7-o|(e?15:0)}else{const o=In.indexOf(s);return 1<<3-o|(e?240:0)}}function Wt(n){const[e,t]=n.split(":");return`${e==="shape"?"a ":""}${t}`}function Gt(n){const[e,t]=n.split("|");return`${e==="nobody_has"?"nobody has ":"my chip is"} ${Wt(t)}`}class hn{constructor(e=$o){this._xm_deduce=e}clone(){return new hn(this._xm_deduce)}nobody(e){let t=Ln(e);return t|=t<<8,this._xm_deduce&=~t,this}opponent(e,t){if(t){const s=Ln(e,!0),o=~Ln(e);this._xm_deduce&=o<<8|s}else this._xm_deduce&=~Ln(e);return this}explain(){const e=this._xm_deduce>>8,t=this._xm_deduce&255;return[`A: ${Qi(e)}`,`O: ${Qi(t)}`].join(`
`)}enumerate(e){let t=e==="bag"?this._xm_deduce>>8:this._xm_deduce&255;const s=[],o=[];for(let a=0;a<8;a++)t&Bi&&(a<4?s.push(Nn[a]):o.push(In[a-4])),t=t<<1;const r=[];for(const a of s)for(const c of o)r.push({target:e,color:a,shape:c});return r}}const{Object:ta,console:Hi}=Xs,ue="src/component/MessagePanel.svelte";function ls(n){let e,t,s,o,r;const a={c:function(){e=T("span"),t=ce(n[3]),P(e,"class","msg-console-eval s-l2U1SoEQLPY0"),j(e,ue,632,3,16621)},m:function(u,i){W(u,e,i),k(e,t),n[22](e),r=!0},p:function(u,i){(!r||i[0]&8)&&qe(t,u[3])},i:function(u){r||(st(()=>{o&&o.end(1),s=Jn(e,de,{duration:1e3}),s.start()}),r=!0)},o:function(u){s&&s.invalidate(),o=Kn(e,de,{duration:500}),r=!1},d:function(u){u&&G(e),n[22](null),u&&o&&o.end()}};return B("SvelteRegisterBlock",{block:a,id:ls.name,type:"if",source:"(632:2) {#if s_evaluation}",ctx:n}),a}function cs(n){let e,t,s,o,r,a,c,u,i,_,d,m,y,p,h,b,A;o=new je({props:{icon:Vs},$$inline:!0}),d=new je({props:{icon:Zs},$$inline:!0});let g=n[12].length&&us(n);const C={c:function(){e=T("div"),t=T("span"),s=T("span"),Ue(o.$$.fragment),r=Y(),a=T("span"),c=ce(n[6]),u=Y(),i=T("span"),_=T("span"),Ue(d.$$.fragment),m=Y(),y=T("span"),p=ce(n[7]),h=Y(),g&&g.c(),P(s,"class","msg-nav-icon lifted s-l2U1SoEQLPY0"),j(s,ue,644,4,16918),P(a,"class","msg-nav-name s-l2U1SoEQLPY0"),X(a,"long-name",n[6].length>=40),j(a,ue,645,4,16983),P(t,"class","msg-nav-group s-l2U1SoEQLPY0"),j(t,ue,643,3,16885),P(_,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(_,ue,648,4,17119),P(y,"class","msg-nav-addr addr s-l2U1SoEQLPY0"),j(y,ue,649,4,17179),P(i,"class","msg-nav-group s-l2U1SoEQLPY0"),j(i,ue,647,3,17086),P(e,"class","msg-nav s-l2U1SoEQLPY0"),j(e,ue,642,2,16810)},m:function(f,S){W(f,e,S),k(e,t),k(t,s),Le(o,s,null),k(t,r),k(t,a),k(a,c),k(e,u),k(e,i),k(i,_),Le(d,_,null),k(i,m),k(i,y),k(y,p),k(e,h),g&&g.m(e,null),A=!0},p:function(f,S){n=f,(!A||S[0]&64)&&qe(c,n[6]),S[0]&64&&X(a,"long-name",n[6].length>=40),(!A||S[0]&128)&&qe(p,n[7]),n[12].length?g?(g.p(n,S),S[0]&4096&&O(g,1)):(g=us(n),g.c(),O(g,1),g.m(e,null)):g&&(Be(),H(g,1,1,()=>{g=null}),Qe())},i:function(f){A||(O(o.$$.fragment,f),O(d.$$.fragment,f),O(g),st(()=>{b||(b=Ce(e,zn,{duration:750,easing:rn},!0)),b.run(1)}),A=!0)},o:function(f){H(o.$$.fragment,f),H(d.$$.fragment,f),H(g),b||(b=Ce(e,zn,{duration:750,easing:rn},!1)),b.run(0),A=!1},d:function(f){f&&G(e),De(o),De(d),g&&g.d(),f&&b&&b.end()}};return B("SvelteRegisterBlock",{block:C,id:cs.name,type:"if",source:"(642:1) {#if b_nav_display}",ctx:n}),C}function us(n){let e,t,s,o,r,a,c=n[12][0]+"",u,i,_,d,m=n[12][1]+"",y,p,h,b,A,g=n[12][2]+"",C,v,f;s=new je({props:{icon:xs},$$inline:!0});const S={c:function(){e=T("span"),t=T("span"),Ue(s.$$.fragment),o=Y(),r=T("span"),a=T("span"),u=ce(c),i=ce(":"),_=Y(),d=T("span"),y=ce(m),p=Y(),h=T("span"),h.textContent="...",b=Y(),A=T("span"),C=ce(g),P(t,"class","msg-nav-icon s-l2U1SoEQLPY0"),j(t,ue,653,5,17348),P(a,"class","prefix s-l2U1SoEQLPY0"),j(a,ue,655,6,17460),P(d,"class","addr s-l2U1SoEQLPY0"),j(d,ue,656,6,17518),P(h,"class","ellipsis s-l2U1SoEQLPY0"),j(h,ue,657,6,17573),P(A,"class","addr s-l2U1SoEQLPY0"),j(A,ue,658,6,17613),P(r,"class","msg-nav-permit inline-flex s-l2U1SoEQLPY0"),j(r,ue,654,5,17412),P(e,"class","msg-nav-group s-l2U1SoEQLPY0"),j(e,ue,652,4,17280)},m:function(I,M){W(I,e,M),k(e,t),Le(s,t,null),k(e,o),k(e,r),k(r,a),k(a,u),k(a,i),k(r,_),k(r,d),k(d,y),k(r,p),k(r,h),k(r,b),k(r,A),k(A,C),f=!0},p:function(I,M){(!f||M[0]&4096)&&c!==(c=I[12][0]+"")&&qe(u,c),(!f||M[0]&4096)&&m!==(m=I[12][1]+"")&&qe(y,m),(!f||M[0]&4096)&&g!==(g=I[12][2]+"")&&qe(C,g)},i:function(I){f||(O(s.$$.fragment,I),st(()=>{v||(v=Ce(e,de,{duration:1e3},!0)),v.run(1)}),f=!0)},o:function(I){H(s.$$.fragment,I),v||(v=Ce(e,de,{duration:1e3},!1)),v.run(0),f=!1},d:function(I){I&&G(e),De(s),I&&v&&v.end()}};return B("SvelteRegisterBlock",{block:S,id:us.name,type:"if",source:"(652:3) {#if a_permit_displays.length}",ctx:n}),S}function _s(n){let e,t,s,o,r,a,c,u,i;s=new je({props:{icon:$s},$$inline:!0});const _={c:function(){e=T("div"),t=T("span"),Ue(s.$$.fragment),o=Y(),r=T("span"),r.textContent="Submit",P(t,"class","msg-submit-icon s-l2U1SoEQLPY0"),j(t,ue,673,3,17960),P(r,"class","msg-submit-text s-l2U1SoEQLPY0"),j(r,ue,674,3,18027),P(e,"class","msg-submit s-l2U1SoEQLPY0"),X(e,"active",!!n[9]),j(e,ue,665,2,17738)},m:function(m,y){W(m,e,y),k(e,t),Le(s,t,null),k(e,o),k(e,r),n[23](e),c=!0,u||(i=[He(e,"click",function(){Uo(n[9]||Wi)&&(n[9]||Wi).apply(this,arguments)},!1,!1,!1),He(e,"mouseenter",n[15],!1,!1,!1),He(e,"mouseleave",n[16],!1,!1,!1)],u=!0)},p:function(m,y){n=m,y[0]&512&&X(e,"active",!!n[9])},i:function(m){c||(O(s.$$.fragment,m),st(()=>{a||(a=Ce(e,vt,{},!0)),a.run(1)}),c=!0)},o:function(m){H(s.$$.fragment,m),a||(a=Ce(e,vt,{},!1)),a.run(0),c=!1},d:function(m){m&&G(e),De(s),n[23](null),m&&a&&a.end(),u=!1,Lo(i)}};return B("SvelteRegisterBlock",{block:_,id:_s.name,type:"if",source:"(665:1) {#if b_submit_display}",ctx:n}),_}function fs(n){let e,t,s,o,r,a,c,u,i,_,d,m,y,p,h,b=n[3]&&ls(n),A=n[5]&&cs(n),g=n[8]&&_s(n);const C={c:function(){e=T("div"),t=T("div"),s=T("div"),o=Y(),r=T("div"),a=T("span"),c=ce(">\xA0"),u=ce(n[4]),i=ce(n[11]),_=Y(),d=T("span"),d.textContent="\xA0",m=Y(),b&&b.c(),y=Y(),A&&A.c(),p=Y(),g&&g.c(),P(s,"class","msg-history-scroll s-l2U1SoEQLPY0"),j(s,ue,626,2,16373),P(t,"class","msg-history s-l2U1SoEQLPY0"),j(t,ue,625,1,16322),P(a,"class","text s-l2U1SoEQLPY0"),j(a,ue,629,2,16473),P(d,"class","cursor blinking s-l2U1SoEQLPY0"),j(d,ue,630,2,16531),P(r,"class","msg-console s-l2U1SoEQLPY0"),j(r,ue,628,1,16445),P(e,"class","msg-panel s-l2U1SoEQLPY0"),j(e,ue,624,0,16276)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,S){W(f,e,S),k(e,t),k(t,s),n[19](s),n[20](t),k(e,o),k(e,r),k(r,a),k(a,c),k(a,u),k(a,i),k(r,_),k(r,d),n[21](d),k(r,m),b&&b.m(r,null),k(e,y),A&&A.m(e,null),k(e,p),g&&g.m(e,null),n[24](e),h=!0},p:function(f,S){(!h||S[0]&16)&&qe(u,f[4]),(!h||S[0]&2048)&&qe(i,f[11]),f[3]?b?(b.p(f,S),S[0]&8&&O(b,1)):(b=ls(f),b.c(),O(b,1),b.m(r,null)):b&&(Be(),H(b,1,1,()=>{b=null}),Qe()),f[5]?A?(A.p(f,S),S[0]&32&&O(A,1)):(A=cs(f),A.c(),O(A,1),A.m(e,p)):A&&(Be(),H(A,1,1,()=>{A=null}),Qe()),f[8]?g?(g.p(f,S),S[0]&256&&O(g,1)):(g=_s(f),g.c(),O(g,1),g.m(e,null)):g&&(Be(),H(g,1,1,()=>{g=null}),Qe())},i:function(f){h||(O(b),O(A),O(g),h=!0)},o:function(f){H(b),H(A),H(g),h=!1},d:function(f){f&&G(e),n[19](null),n[20](null),n[21](null),b&&b.d(),A&&A.d(),g&&g.d(),n[24](null)}};return B("SvelteRegisterBlock",{block:C,id:fs.name,type:"component",source:"",ctx:n}),C}const Wi=()=>{};function na(n,e,t){let{$$slots:s={},$$scope:o}=e;pt("MessagePanel",s,[]);const{language:r}=zt("game");let a;r.subscribe(w=>a=w);const c={reveal_text:M,spinning:_e,commit:Je,receive:Ae,arbiter:ne,opponent:be,user:ve,error:at,warn:he,wallet:Ve,permit:Ke,submittable:ut,unsubmittable:At};let{k_killables:u}=e,i,_,d,m="\u275A",y="",p="",h=!1,b="",A="",g="",C=!1,v=null,f,S=0,q=!1,I="";async function M(w,V=60,Ee=0,bt=!1){F&&(t(11,L=""),u.delInterval(F),R=0,F=0),bt||(I=w);let Oe=++S;V||(V=60);const Te=p.length,xe=w.length;let $e=0;for(;$e<Math.min(Te,xe)&&p[$e]===w[$e];$e++);const _t=3/5;for(let pe=Te;pe>$e;pe--)if(t(4,p=p.slice(0,-1)),await Q(V*_t),S!==Oe)return;if(Ee&&await Q(Ee),S!==Oe)return;const ye=f||Un(document.body,".cursor");if(!!ye){for(let pe=$e;pe<xe;pe++)if(ye.classList.remove("blinking"),await Q(10),S!==Oe||(ye.classList.add("blinking"),t(4,p+=w[pe]),await Q(V),S!==Oe))return}}const N=["\u25DC \u25DD"," \u02C9\u25DE"," \u02CD\u25DD","\u25DF \u25DE","\u25DC\u02CD ","\u25DF\u02C9 "];let L="",F=0,R=0;async function _e(w){if(w){if(F===0){let Ee=function(){t(11,L=" "+N[R++]+" "),R%=N.length};F=-1;const V=p;await M(V+" "+N[N.length-1]+" ",60,0,!0),t(4,p=V),Ee(),F=u.addInterval(Ee,100)}}else F>0&&(t(11,L=""),u.delInterval(F),R=0,F=0)}async function J(){await M("")}let ze=0;async function Ae(w){if(q)return;for(;!i;)await Q(100);const V=w.widgets||{},Ee=ze++,bt=Ie("div",{class:["line-commit",...w.classes||[]].join(" ")},[`> ${w.from}: `,...w.text.flatMap(ye=>{const pe=[];let et=0;for(const{0:Fe,1:ft,index:yt}of ye.matchAll(/\{([a-z0-9-_]+)\}/ig)){const rt=V[ft];rt?(et!==yt&&pe.push(ye.slice(et,yt)),rt instanceof Element?pe.push(rt):pe.push(Ie("span",{class:`msg-widget-${ft}-${Ee}`}))):(console.error(`No such widget '${ft}' was passed in with the formatted line`),pe.push(ye.slice(et,yt+Fe.length))),et=yt+Fe.length}return et!==ye.length&&pe.push(ye.slice(et)),pe.push(Ie("div",{class:"newline"})),pe})]);for(const[ye,pe]of Ye(V))typeof pe.subscribe=="function"&&pe.subscribe(et=>{const Fe=Yi(bt,`.msg-widget-${ye}-${Ee}`);for(const ft of Fe)ft.innerHTML=et});const Oe=Ie("div",{class:"curtain"});_.append(bt),_.append(Oe),t(0,i.scrollTop=i.scrollHeight,i);const Te=_.getBoundingClientRect(),xe=bt.getBoundingClientRect(),$e=xe.top-Te.top,_t=xe.height+5;Object.assign(Oe.style,{top:`${$e}px`,height:`${_t}px`,left:"0px",width:"100%"}),await Q(100);for(let ye=0;ye<_t;ye+=5)Object.assign(Oe.style,{top:`${$e+ye}px`,height:`${_t-ye}px`}),await Q(100);Oe.remove()}const Ge=w=>Array.isArray(w)?w:w.trim().split(/\n/).map(V=>V.trim());async function ne(w,V){return await Ae({from:"Arbiter",classes:["from-arbiter"],text:Ge(w),widgets:V||{}})}async function be(w,V){return await Ae({from:"Opponent",classes:["from-opponent"],text:w,widgets:V||{}})}async function ve(w,V){return await Ae({from:`You${g}`,classes:["from-user"],text:Ge(w),widgets:V||{}})}async function Je(){ve(I||p),t(4,p="")}async function at(w,V=!1){await Ae({from:"System",classes:["from-system-error"],text:Ge(w)}),V&&(q=!0)}async function he(w,V){await Ae({from:"System",classes:["from-system-warn"],text:Ge(w),widgets:V||{}})}function Ve(w){w.addr?(t(5,h=!0),t(6,b=w.name),t(7,A=w.addr),g=b?` (${b})`:""):t(5,h=!1)}let Re=[];function Ke(w,V){const Ee=w.allowed_tokens[0];t(12,Re=[V?"restored":"signed",Ee.slice(0,"secret12345".length),Ee.slice(-5)])}let se=0;async function It(){debugger;const w=Date.now();w-se>3e4&&(await M("sorry, you don't get to type :P"),await Q(1600),await J(),se=w)}let ae;function ut(w,V){if(t(8,C=!0),ae){const Ee=ae.getBoundingClientRect();Object.assign(ae.style,{position:"fixed",top:`${Ee.top}px`,left:`${Ee.left}px`})}t(3,y=""),V&&setTimeout(()=>{ae&&ae.style.position&&Object.assign(ae.style,{position:"",top:"",left:""}),t(3,y=V)},500),t(9,v=w)}function At(){t(8,C=!1),t(9,v=null)}Jt(()=>{d.addEventListener("keydown",()=>{It()})});let Se;async function re(){await Q(100),Se.classList.add("hover")}async function D(){t(14,Se.style.animation="0",Se),await Q(100),Se.classList.remove("hover"),await Q(1e3),t(14,Se.style.animation="",Se)}const ie=["k_killables"];ta.keys(e).forEach(w=>{!~ie.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&Hi.warn(`<MessagePanel> was created with unknown prop '${w}'`)});function Tt(w){Ne[w?"unshift":"push"](()=>{_=w,t(1,_)})}function me(w){Ne[w?"unshift":"push"](()=>{i=w,t(0,i)})}function Xe(w){Ne[w?"unshift":"push"](()=>{f=w,t(10,f)})}function x(w){Ne[w?"unshift":"push"](()=>{ae=w,t(13,ae)})}function Ze(w){Ne[w?"unshift":"push"](()=>{Se=w,t(14,Se)})}function Rt(w){Ne[w?"unshift":"push"](()=>{d=w,t(2,d)})}return n.$$set=w=>{"k_killables"in w&&t(18,u=w.k_killables)},n.$capture_state=()=>({getContext:zt,onMount:Jt,slide:zn,blur:vt,fade:de,quadOut:rn,Fa:je,faUser:Vs,faWallet:Zs,faTicketAlt:xs,faPaperPlane:$s,ode:Ye,timeout:Q,dd:Ie,qs:Un,qsa:Yi,ys_lang:r,s_lang:a,k_panel:c,k_killables:u,dm_history:i,dm_history_data:_,dm_panel:d,s_cursor:m,s_evaluation:y,s_text:p,b_nav_display:h,s_nav_name:b,s_nav_addr:A,s_account_alias:g,b_submit_display:C,fk_submit:v,dm_cursor:f,i_iter:S,b_disabled:q,s_revealing:I,reveal_text:M,A_SPIN:N,s_spinner:L,i_spinning:F,i_spin:R,spinning:_e,clear:J,c_msgs:ze,receive:Ae,rerformat_lines:Ge,arbiter:ne,opponent:be,user:ve,commit:Je,error:at,warn:he,wallet:Ve,a_permit_displays:Re,permit:Ke,dt_attempt_last:se,attempt_type:It,dm_eval:ae,submittable:ut,unsubmittable:At,dm_submit:Se,mouseenter_submit:re,mouseleave_submit:D}),n.$inject_state=w=>{"s_lang"in w&&(a=w.s_lang),"k_killables"in w&&t(18,u=w.k_killables),"dm_history"in w&&t(0,i=w.dm_history),"dm_history_data"in w&&t(1,_=w.dm_history_data),"dm_panel"in w&&t(2,d=w.dm_panel),"s_cursor"in w&&(m=w.s_cursor),"s_evaluation"in w&&t(3,y=w.s_evaluation),"s_text"in w&&t(4,p=w.s_text),"b_nav_display"in w&&t(5,h=w.b_nav_display),"s_nav_name"in w&&t(6,b=w.s_nav_name),"s_nav_addr"in w&&t(7,A=w.s_nav_addr),"s_account_alias"in w&&(g=w.s_account_alias),"b_submit_display"in w&&t(8,C=w.b_submit_display),"fk_submit"in w&&t(9,v=w.fk_submit),"dm_cursor"in w&&t(10,f=w.dm_cursor),"i_iter"in w&&(S=w.i_iter),"b_disabled"in w&&(q=w.b_disabled),"s_revealing"in w&&(I=w.s_revealing),"s_spinner"in w&&t(11,L=w.s_spinner),"i_spinning"in w&&(F=w.i_spinning),"i_spin"in w&&(R=w.i_spin),"c_msgs"in w&&(ze=w.c_msgs),"a_permit_displays"in w&&t(12,Re=w.a_permit_displays),"dt_attempt_last"in w&&(se=w.dt_attempt_last),"dm_eval"in w&&t(13,ae=w.dm_eval),"dm_submit"in w&&t(14,Se=w.dm_submit)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,_,d,y,p,h,b,A,C,v,f,L,Re,ae,Se,re,D,c,u,Tt,me,Xe,x,Ze,Rt]}class Gi extends dt{constructor(e){super(e);ht(this,e,na,fs,mt,{k_panel:17,k_killables:18},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"MessagePanel",options:e,id:fs.name});const{ctx:t}=this.$$,s=e.props||{};t[18]===void 0&&!("k_killables"in s)&&Hi.warn("<MessagePanel> was created without expected prop 'k_killables'")}get k_panel(){return this.$$.ctx[17]}set k_panel(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_killables(){throw new Error("<MessagePanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_killables(e){throw new Error("<MessagePanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Fi="src/component/Prompt.svelte";function zi(n,e,t){const s=n.slice();return s[17]=e[t],s}function ds(n){let e,t,s=n[0];fe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=hs(zi(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){for(let u=0;u<o.length;u+=1)o[u].c();e=Kt()},m:function(u,i){for(let _=0;_<o.length;_+=1)o[_].m(u,i);W(u,e,i),t=!0},p:function(u,i){if(i&9){s=u[0],fe(s);let _;for(_=0;_<s.length;_+=1){const d=zi(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=hs(d),o[_].c(),O(o[_],1),o[_].m(e.parentNode,e))}for(Be(),_=s.length;_<o.length;_+=1)r(_);Qe()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){lt(o,u),u&&G(e)}};return B("SvelteRegisterBlock",{block:a,id:ds.name,type:"if",source:"(122:1) {#if b_display}",ctx:n}),a}function hs(n){let e,t=n[17].label+"",s,o,r,a,c,u,i,_,d;function m(){return n[5](n[17])}const y={c:function(){e=T("button"),s=ce(t),o=Y(),P(e,"class",r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"),P(e,"alt",a=n[17].alt||""),j(e,Fi,123,3,2733)},m:function(h,b){W(h,e,b),k(e,s),k(e,o),i=!0,_||(d=He(e,"click",m,!1,!1,!1),_=!0)},p:function(h,b){n=h,(!i||b&1)&&t!==(t=n[17].label+"")&&qe(s,t),(!i||b&1&&r!==(r="prompt-btn-"+n[17].key+" s-c0715tBQdWx2"))&&P(e,"class",r),(!i||b&1&&a!==(a=n[17].alt||""))&&P(e,"alt",a)},i:function(h){i||(st(()=>{u&&u.end(1),c=Jn(e,de,{duration:2800,easing:St}),c.start()}),i=!0)},o:function(h){c&&c.invalidate(),u=Kn(e,de,{duration:2800,easing:rn}),i=!1},d:function(h){h&&G(e),h&&u&&u.end(),_=!1,d()}};return B("SvelteRegisterBlock",{block:y,id:hs.name,type:"each",source:"(123:2) {#each a_opts as g_opt}",ctx:n}),y}function ms(n){let e,t,s=n[1]&&ds(n);const o={c:function(){e=T("div"),s&&s.c(),P(e,"class","prompt s-c0715tBQdWx2"),X(e,"showing",n[2]),j(e,Fi,120,0,2640)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){W(a,e,c),s&&s.m(e,null),t=!0},p:function(a,[c]){a[1]?s?(s.p(a,c),c&2&&O(s,1)):(s=ds(a),s.c(),O(s,1),s.m(e,null)):s&&(Be(),H(s,1,1,()=>{s=null}),Qe()),c&4&&X(e,"showing",a[2])},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){a&&G(e),s&&s.d()}};return B("SvelteRegisterBlock",{block:o,id:ms.name,type:"component",source:"",ctx:n}),o}function sa(n,e,t){let{$$slots:s={},$$scope:o}=e;pt("Prompt",s,[]);const r={ok:C,opts:v,yes:g,yes_no:A},a={key:"yes",label:"Yes"},c={key:"no",label:"No"},u=[a,c],i=()=>{},_=q=>{q()};let d=[],m=!1,y=!1,p=i;function h(q){p(q),t(1,m=!1)}function b(q,I=_){return new Promise(M=>{p=N=>{I(M,N),t(1,m=!1)},t(0,d=q),t(1,m=!0),queueMicrotask(()=>{t(2,y=!0)})})}function A(){return b(u,(q,I)=>{q(I.key==="yes")})}function g(){return b([a])}function C(q="Ok"){return b([{key:"ok",label:q}])}function v(q){return b(Ai(q,(I,M)=>nt({key:I},M)),(I,M)=>{I(M.key)})}const f=[];Object.keys(e).forEach(q=>{!~f.indexOf(q)&&q.slice(0,2)!=="$$"&&q!=="slot"&&console.warn(`<Prompt> was created with unknown prop '${q}'`)});const S=q=>h(q);return n.$capture_state=()=>({oderac:Ai,expoOut:St,quadOut:rn,fade:de,k_prompt:r,G_ANS_YES:a,G_ANS_NO:c,A_OPTS_YES_NO:u,F_NOOP:i,F_CALL:_,a_opts:d,b_display:m,b_showing:y,fk_answer:p,answer:h,prompt:b,yes_no:A,yes:g,ok:C,opts:v}),n.$inject_state=q=>{"a_opts"in q&&t(0,d=q.a_opts),"b_display"in q&&t(1,m=q.b_display),"b_showing"in q&&t(2,y=q.b_showing),"fk_answer"in q&&(p=q.fk_answer)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[d,m,y,h,r,S]}class Ji extends dt{constructor(e){super(e);ht(this,e,sa,ms,mt,{k_prompt:4}),B("SvelteRegisterComponent",{component:this,tagName:"Prompt",options:e,id:ms.name})}get k_prompt(){return this.$$.ctx[4]}set k_prompt(e){throw new Error("<Prompt>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ct="src/component/Assertion.svelte";function Ki(n,e,t){const s=n.slice();return s[15]=e[t],s}function Xi(n,e,t){const s=n.slice();return s[18]=e[t],s}function Vi(n,e,t){const s=n.slice();return s[15]=e[t],s}function Zi(n,e,t){const s=n.slice();return s[18]=e[t],s}function xi(n,e,t){const s=n.slice();return s[27]=e[t],s}function ps(n){let e,t,s,o,r,a,c,u,i,_,d=xt;fe(d);let m=[];for(let g=0;g<d.length;g+=1)m[g]=gs(xi(n,d,g));let y=n[7];fe(y);let p=[];for(let g=0;g<y.length;g+=1)p[g]=bs(Vi(n,y,g));let h=n[7];fe(h);let b=[];for(let g=0;g<h.length;g+=1)b[g]=ks(Ki(n,h,g));const A={c:function(){e=T("div"),t=T("span");for(let C=0;C<m.length;C+=1)m[C].c();o=Y(),r=T("span");for(let C=0;C<p.length;C+=1)p[C].c();c=Y(),u=T("span");for(let C=0;C<b.length;C+=1)b[C].c();P(t,"class","tab-wrap s-WG7syJ6nmWd-"),j(t,ct,207,2,5236),P(e,"class","tx-basis s-WG7syJ6nmWd-"),j(e,ct,206,1,5159),P(r,"class","diamond tx-colors s-WG7syJ6nmWd-"),j(r,ct,216,1,5512),P(u,"class","diamond tx-shapes s-WG7syJ6nmWd-"),j(u,ct,235,1,6075)},m:function(C,v){W(C,e,v),k(e,t);for(let f=0;f<m.length;f+=1)m[f].m(t,null);W(C,o,v),W(C,r,v);for(let f=0;f<p.length;f+=1)p[f].m(r,null);W(C,c,v),W(C,u,v);for(let f=0;f<b.length;f+=1)b[f].m(u,null);_=!0},p:function(C,v){if(n=C,v&42){d=xt,fe(d);let f;for(f=0;f<d.length;f+=1){const S=xi(n,d,f);m[f]?m[f].p(S,v):(m[f]=gs(S),m[f].c(),m[f].m(t,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=d.length}if(v&204){y=n[7],fe(y);let f;for(f=0;f<y.length;f+=1){const S=Vi(n,y,f);p[f]?p[f].p(S,v):(p[f]=bs(S),p[f].c(),p[f].m(r,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=y.length}if(v&196){h=n[7],fe(h);let f;for(f=0;f<h.length;f+=1){const S=Ki(n,h,f);b[f]?b[f].p(S,v):(b[f]=ks(S),b[f].c(),b[f].m(u,null))}for(;f<b.length;f+=1)b[f].d(1);b.length=h.length}},i:function(C){_||(st(()=>{s||(s=Ce(e,de,{duration:3600,easing:Et},!0)),s.run(1)}),st(()=>{a||(a=Ce(r,de,{delay:2400,duration:3200,easing:St},!0)),a.run(1)}),st(()=>{i||(i=Ce(u,de,{delay:3200,duration:3200,easing:St},!0)),i.run(1)}),_=!0)},o:function(C){s||(s=Ce(e,de,{duration:3600,easing:Et},!1)),s.run(0),a||(a=Ce(r,de,{delay:2400,duration:3200,easing:St},!1)),a.run(0),i||(i=Ce(u,de,{delay:3200,duration:3200,easing:St},!1)),i.run(0),_=!1},d:function(C){C&&G(e),lt(m,C),C&&s&&s.end(),C&&G(o),C&&G(r),lt(p,C),C&&a&&a.end(),C&&G(c),C&&G(u),lt(b,C),C&&i&&i.end()}};return B("SvelteRegisterBlock",{block:A,id:ps.name,type:"if",source:"(206:0) {#if b_visible}",ctx:n}),A}function gs(n){let e,t=ke(qt[n[27]].describe[n[3]](""))+"",s,o,r,a;const c={c:function(){e=T("span"),s=ce(t),o=Y(),P(e,"class","active tab s-WG7syJ6nmWd-"),P(e,"data-basis",n[27]),X(e,"active",n[27]===n[1]),j(e,ct,209,4,5295)},m:function(i,_){W(i,e,_),k(e,s),k(e,o),r||(a=He(e,"click",n[5],!1,!1,!1),r=!0)},p:function(i,_){_&8&&t!==(t=ke(qt[i[27]].describe[i[3]](""))+"")&&qe(s,t),_&2&&X(e,"active",i[27]===i[1])},d:function(i){i&&G(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:gs.name,type:"each",source:"(209:3) {#each A_BASES as si_basis}",ctx:n}),c}function $i(n){const e={c:we,m:we,p:we,d:we};return B("SvelteRegisterBlock",{block:e,id:$i.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function eo(n){let e,t,s=ke(jt[n[26]].labels[n[3]])+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=ce(s),P(t,"class","s-WG7syJ6nmWd-"),j(t,ct,227,7,5942),P(e,"class","diamond-"+n[18].pos+" color-"+n[26]+" s-WG7syJ6nmWd-"),P(e,"data-quality","color:"+n[26]),X(e,"selected",`color:${n[26]}`===n[2]),j(e,ct,221,6,5736)},m:function(i,_){W(i,e,_),k(e,t),k(t,o),r||(a=He(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&8&&s!==(s=ke(jt[i[26]].labels[i[3]])+"")&&qe(o,s),_&132&&X(e,"selected",`color:${i[26]}`===i[2])},d:function(i){i&&G(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:eo.name,type:"then",source:'(221:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function to(n){const e={c:we,m:we,p:we,d:we};return B("SvelteRegisterBlock",{block:e,id:to.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function ws(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:to,then:eo,catch:$i,value:26};ei(Nn[n[18].key],t);const s={c:function(){e=Kt(),t.block.c()},m:function(r,a){W(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,ti(t,n,a)},d:function(r){r&&G(e),t.block.d(r),t.token=null,t=null}};return B("SvelteRegisterBlock",{block:s,id:ws.name,type:"each",source:"(220:4) {#each a_group as g_loc}",ctx:n}),s}function bs(n){let e,t,s=n[15];fe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=ws(Zi(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=Y(),P(e,"class","s-WG7syJ6nmWd-"),j(e,ct,218,3,5646)},m:function(c,u){W(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);k(e,t)},p:function(c,u){if(u&204){s=c[15],fe(s);let i;for(i=0;i<s.length;i+=1){const _=Zi(c,s,i);o[i]?o[i].p(_,u):(o[i]=ws(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&G(e),lt(o,c)}};return B("SvelteRegisterBlock",{block:r,id:bs.name,type:"each",source:"(218:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function no(n){const e={c:we,m:we,p:we,d:we};return B("SvelteRegisterBlock",{block:e,id:no.name,type:"catch",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function so(n){let e,t,s=Zt[n[21]].symbol+"",o,r,a;const c={c:function(){e=T("button"),t=T("span"),o=ce(s),P(t,"class","s-WG7syJ6nmWd-"),j(t,ct,246,7,6507),P(e,"class","diamond-"+n[18].pos+" bg-rad-"+n[18].pos+" s-WG7syJ6nmWd-"),P(e,"data-quality","shape:"+n[21]),X(e,"selected",`shape:${n[21]}`===n[2]),j(e,ct,240,6,6299)},m:function(i,_){W(i,e,_),k(e,t),k(t,o),r||(a=He(e,"click",n[6],!1,!1,!1),r=!0)},p:function(i,_){_&132&&X(e,"selected",`shape:${i[21]}`===i[2])},d:function(i){i&&G(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:so.name,type:"then",source:'(240:47)        <button        class=\\"diamond-{g_loc.pos}',ctx:n}),c}function io(n){const e={c:we,m:we,p:we,d:we};return B("SvelteRegisterBlock",{block:e,id:io.name,type:"pending",source:'(1:0) <script context=\\"module\\" lang=\\"ts\\"><\/script>  <script lang=\\"ts\\">import { getContext, createEventDispatcher, }',ctx:n}),e}function ys(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:io,then:so,catch:no,value:21};ei(In[n[18].key],t);const s={c:function(){e=Kt(),t.block.c()},m:function(r,a){W(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p:function(r,a){n=r,ti(t,n,a)},d:function(r){r&&G(e),t.block.d(r),t.token=null,t=null}};return B("SvelteRegisterBlock",{block:s,id:ys.name,type:"each",source:"(239:4) {#each a_group as g_loc}",ctx:n}),s}function ks(n){let e,t,s=n[15];fe(s);let o=[];for(let a=0;a<s.length;a+=1)o[a]=ys(Xi(n,s,a));const r={c:function(){e=T("span");for(let c=0;c<o.length;c+=1)o[c].c();t=Y(),P(e,"class","s-WG7syJ6nmWd-"),j(e,ct,237,3,6209)},m:function(c,u){W(c,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);k(e,t)},p:function(c,u){if(u&196){s=c[15],fe(s);let i;for(i=0;i<s.length;i+=1){const _=Xi(c,s,i);o[i]?o[i].p(_,u):(o[i]=ys(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d:function(c){c&&G(e),lt(o,c)}};return B("SvelteRegisterBlock",{block:r,id:ks.name,type:"each",source:"(237:2) {#each A_DIAMOND_KEYS as a_group}",ctx:n}),r}function vs(n){let e,t,s=n[0]&&ps(n);const o={c:function(){s&&s.c(),e=Kt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),W(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=ps(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(Be(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&G(e)}};return B("SvelteRegisterBlock",{block:o,id:vs.name,type:"component",source:"",ctx:n}),o}function ia(n,e,t){let s,{$$slots:o={},$$scope:r}=e;pt("Assertion",o,[]);const a={show:m,hide:y},c=gt(),u=zt("game");let i=u.language;Do(i,"yw_lang"),Yo(n,i,f=>t(3,s=f));let _=!1,d="";async function m(f){d=f||"",f&&(t(1,p=f),c("basis",p)),t(0,_=!0)}function y(){t(0,_=!1)}let p=xt[0],h=null;const b=(f,S)=>f.closest(`[data-${S}]`).getAttribute(`data-${S}`);function A(f){const S=b(f.target,"basis");if(d&&S!==d){c("force_reject",[S,d]);return}t(1,p=S),c("basis",p)}function g(f){t(2,h=b(f.target,"quality")),c("quality",h)}const C=[[{key:0,pos:"top"},{key:2,pos:"rgt"}],[{key:1,pos:"lft"},{key:3,pos:"btm"}]],v=[];return Object.keys(e).forEach(f=>{!~v.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Assertion> was created with unknown prop '${f}'`)}),n.$capture_state=()=>({getContext:zt,createEventDispatcher:gt,fade:de,expoOut:St,quadInOut:Et,proper:ke,A_BASES:xt,A_COLORS:Nn,A_SHAPES:In,H_BASES:qt,H_COLORS:jt,H_SHAPES:Zt,k_tx:a,dispatch:c,g_game:u,yw_lang:i,b_visible:_,si_basis_force:d,show:m,hide:y,si_basis_active:p,si_quality:h,data:b,select_basis:A,select_quality:g,A_DIAMOND_KEYS:C,$yw_lang:s}),n.$inject_state=f=>{"yw_lang"in f&&t(4,i=f.yw_lang),"b_visible"in f&&t(0,_=f.b_visible),"si_basis_force"in f&&(d=f.si_basis_force),"si_basis_active"in f&&t(1,p=f.si_basis_active),"si_quality"in f&&t(2,h=f.si_quality)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[_,p,h,s,i,A,g,C,a]}class oo extends dt{constructor(e){super(e);ht(this,e,ia,vs,mt,{k_tx:8}),B("SvelteRegisterComponent",{component:this,tagName:"Assertion",options:e,id:vs.name})}get k_tx(){return this.$$.ctx[8]}set k_tx(e){throw new Error("<Assertion>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function ao(n,e){const t=new Bo(39,39,3.3,128,1),s=[new ni({color:"#FF6510"}),new Qo({map:n,bumpMap:e,bumpScale:Math.random()*.2+.2}),new ni({map:n})];{const i=new Ho;for(var o=0;o<16;o++){var r=(o+1)/16,a=r*Math.PI*2,c=10*Math.cos(a),u=10*Math.sin(a);o==0?i.moveTo(c,u):i.lineTo(c,u)}return new Wo(t,s)}}const Ss=Math.PI,oa=Ss*2,Es=Math.sqrt(3);function Dn(n,e,t,s,o){const r=new Path2D;switch(o){case"triangle":{const a=Math.sqrt(t*Es),c=Es*.5*a,u=a*Es/6,i=u/3;r.moveTo(e,e-(c-u)+i),r.lineTo(e+a/2,e+u+i),r.lineTo(e-a/2,e+u+i);break}case"square":{const a=Math.sqrt(t),c=e-a*.5;r.moveTo(c,c),r.lineTo(c+a,c),r.lineTo(c+a,c+a),r.lineTo(c,c+a);break}case"circle":{const a=Math.sqrt(t/Ss);r.ellipse(e,e,a,a,0,0,oa);break}case"star":{const a=Ss/5,c=Math.sqrt(2*t/(5*Math.sin(a)));let u=-1.5*a;r.moveTo(e,e-c);for(let i=0;i<9;i++){const _=c*((i%2+1)/2);r.lineTo(e+_*Math.cos(u),e+_*Math.sin(u)),u+=a}break}}r.closePath(),n.fillStyle=jt[s].color,n.fill(r),n.globalAlpha=1,n.strokeStyle="black",n.lineWidth=Math.round(Math.sqrt(t)/50),n.stroke(r)}const aa="src/component/Scene.svelte";function Ps(n){let e;const t={c:function(){e=T("div"),P(e,"class","s-O3-AoQkAZcdH"),j(e,aa,246,0,8002)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,r){W(o,e,r),n[2](e)},p:we,i:we,o:we,d:function(o){o&&G(e),n[2](null)}};return B("SvelteRegisterBlock",{block:t,id:Ps.name,type:"component",source:"",ctx:n}),t}function ra(n,e,t){let{$$slots:s={},$$scope:o}=e;pt("Scene",s,[]);const r=Math.PI,a=r*2,c=Math.sqrt(3),u={animate_chip_entry:g,animate_chip_exit:C};let i;async function _(S){const q={},I=new ri;for(const M in S){const N=S[M];q[M]=await new Promise(L=>{I.load(N,F=>{L(F)})})}return q}function d(S){const q=S.image,I=Ie("canvas",{width:q.width,height:q.height}),M=I.getContext("2d");return[I,M,q]}let m,y,p,h;const b=new si;function A(S,q){const[I,M,N]=d(m.chip),L=N.width;N.height,M.drawImage(N,0,0);const F=L/2,R=Math.pow(F*(2/9),2)*r;Dn(M,F,R,S,q),p=new Xn(I),y=ao(p,h),b.add(y)}async function g(S,q){A(S,q),y.position.y=8e5,y.visible=!0,new Yt(new ln(-780,-2450,-3e3)).to(new ln(0,0,0),4e3).easing(Bt.Cubic.Out).onUpdate(L=>{y.position.setX(L.x),y.position.setZ(L.z)}).start(),new Yt({y:750}).to({y:0},4e3).easing(Bt.Back.Out).onUpdate(({y:L})=>{y.position.setY(L)}).start(),new Yt(new cn(0,0,0)).to(new cn(0,r/2,r/2-r/6),4e3).easing(Bt.Cubic.Out).onUpdate(L=>{y.rotation.set(L.x,L.y,L.z)}).start()}async function C(){new Yt(new ln(0,0,0)).to(new ln(-780,-2450,-3e3),4e3).easing(Bt.Cubic.Out).onUpdate(M=>{y.position.setX(M.x),y.position.setZ(M.z)}).start(),new Yt({y:0}).to({y:750},4e3).easing(Bt.Back.Out).onUpdate(({y:M})=>{y.position.setY(M)}).start(),new Yt(new cn(0,r/2,r/2-r/6)).to(new cn(0,0,0),4e3).easing(Bt.Cubic.Out).onUpdate(M=>{y.rotation.set(M.x,M.y,M.z)}).start(),await Q(4e3),y.visible=!0}Jt(async()=>{m=await _({chip:"/asset/chip.png",chip_displace:"/asset/chip-displacement.png",scuffs:"/asset/scuffs.png"}),p=m.chip,h=m.scuffs;{const[R,_e,J]=d(m.scuffs),ze=R.width,Ae=R.height,Ge=Math.random()*a;_e.save();const ne=ze/2,be=Ae/2;_e.translate(ne,be),_e.rotate(Ge),_e.scale(Math.SQRT2,Math.SQRT2),_e.drawImage(J,-ne,-be),_e.restore(),h=new Xn(R)}const S=new ii({antialias:!0}),q=Un(document.body,".msg-panel").getBoundingClientRect(),I=window.innerWidth,M=Math.max(400,Math.min(800,window.innerHeight-q.bottom));if(S.setSize(I,M),!i)return;i.appendChild(S.domElement);const N=I/M,L=new ai(45,N,1,5e3);L.position.set(0,0,140),L.lookAt(0,0,0);{const R=new oi(3158064);b.add(R)}{const R=new li;R.position.set(0,100,50),R.decay=2.5,R.angle=Math.PI/9,R.penumbra=.9,b.add(R)}function F(){S.render(b,L)}S.setAnimationLoop(()=>{F(),ci()})});const v=[];Object.keys(e).forEach(S=>{!~v.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&console.warn(`<Scene> was created with unknown prop '${S}'`)});function f(S){Ne[S?"unshift":"push"](()=>{i=S,t(0,i)})}return n.$capture_state=()=>({onMount:Jt,chip:ao,AmbientLight:oi,Scene:si,PerspectiveCamera:ai,WebGLRenderer:ii,Vector3:ln,TextureLoader:ri,SpotLight:li,Euler:cn,CanvasTexture:Xn,Tween:Yt,Easing:Bt,updateTween:ci,timeout:Q,dd:Ie,qs:Un,draw_shape:Dn,X_PI:r,X_2PI:a,X_SQRT_3:c,k_scene:u,dm_container:i,load_textures:_,canvas_from_tex:d,h_textures:m,ym_chip:y,yt_chip:p,yt_bump:h,y_scene:b,create_chip:A,animate_chip_entry:g,animate_chip_exit:C}),n.$inject_state=S=>{"dm_container"in S&&t(0,i=S.dm_container),"h_textures"in S&&(m=S.h_textures),"ym_chip"in S&&(y=S.ym_chip),"yt_chip"in S&&(p=S.yt_chip),"yt_bump"in S&&(h=S.yt_bump)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,u,f]}class ro extends dt{constructor(e){super(e);ht(this,e,ra,Ps,mt,{k_scene:1}),B("SvelteRegisterComponent",{component:this,tagName:"Scene_1",options:e,id:Ps.name})}get k_scene(){return this.$$.ctx[1]}set k_scene(e){throw new Error("<Scene>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Yn="src/component/PremiseWidget.svelte";function lo(n,e,t){const s=n.slice();return s[14]=e[t][0],s[15]=e[t][1],s[17]=t,s}function Cs(n){let e,t,s,o,r,a=n[15].label+"",c,u,i,_,d,m,y;s=new je({props:{icon:n[15].icon},$$inline:!0});function p(){return n[9](n[14])}const h={c:function(){e=T("span"),t=T("span"),Ue(s.$$.fragment),o=Y(),r=T("span"),c=ce(a),u=Y(),P(t,"class","truth-opt-icon s-6n-w-T5otbqJ"),j(t,Yn,158,3,4045),P(r,"class","truth-opt-text s-6n-w-T5otbqJ"),j(r,Yn,161,3,4117),P(e,"class",i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"),P(e,"data-opt",_=n[14]),X(e,"selected",n[14]===n[2]),X(e,"undeniable",n[0]==="undeniable"),X(e,"true",n[0]==="true"),X(e,"verified",n[0]==="verified"),j(e,Yn,149,2,3714)},m:function(A,g){W(A,e,g),k(e,t),Le(s,t,null),k(e,o),k(e,r),k(r,c),k(e,u),d=!0,m||(y=He(e,"click",p,!1,!1,!1),m=!0)},p:function(A,g){n=A;const C={};g&2&&(C.icon=n[15].icon),s.$set(C),(!d||g&2)&&a!==(a=n[15].label+"")&&qe(c,a),(!d||g&16&&i!==(i="truth-opt "+(n[17]===0?"opt-lft":"")+" "+(n[4]-1===n[17]?"opt-rgt":"")+" s-6n-w-T5otbqJ"))&&P(e,"class",i),(!d||g&2&&_!==(_=n[14]))&&P(e,"data-opt",_),g&22&&X(e,"selected",n[14]===n[2]),g&17&&X(e,"undeniable",n[0]==="undeniable"),g&17&&X(e,"true",n[0]==="true"),g&17&&X(e,"verified",n[0]==="verified")},i:function(A){d||(O(s.$$.fragment,A),d=!0)},o:function(A){H(s.$$.fragment,A),d=!1},d:function(A){A&&G(e),De(s),m=!1,y()}};return B("SvelteRegisterBlock",{block:h,id:Cs.name,type:"each",source:"(149:1) {#each a_opts as [si_opt, g_opt], i_opt}",ctx:n}),h}function As(n){let e,t,s=n[1];fe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=Cs(lo(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();P(e,"class","truth s-6n-w-T5otbqJ"),X(e,"known",!!n[0]),j(e,Yn,147,0,3603)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){W(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[10](e),t=!0},p:function(u,[i]){if(i&55){s=u[1],fe(s);let _;for(_=0;_<s.length;_+=1){const d=lo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=Cs(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(Be(),_=s.length;_<o.length;_+=1)r(_);Qe()}i&1&&X(e,"known",!!u[0])},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){u&&G(e),lt(o,u),n[10](null)}};return B("SvelteRegisterBlock",{block:a,id:As.name,type:"component",source:"",ctx:n}),a}function la(n,e,t){let s,{$$slots:o={},$$scope:r}=e;pt("PremiseWidget",o,[]);const a={ignore:{label:"Ignore",icon:_i},trust:{label:"Trust",icon:jn},distrust:{label:"Distrust",icon:ui}};let c=Ye(a),{b_mode_nobody:u}=e,{si_assertion:i}=e,{si_known:_}=e;const d={apply(v){return m(v)}};let m=v=>v,y="ignore",p;const h=gt();function b(v){y!==v&&(t(2,y=v),u?m=f=>y==="trust"?f.nobody(i):y==="distrust"?f.opponent(i,!0):f:m=f=>y==="trust"?f.opponent(i,!0):y==="distrust"?f.opponent(i,!1):f,h("change",v))}const A=["b_mode_nobody","si_assertion","si_known"];Object.keys(e).forEach(v=>{!~A.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<PremiseWidget> was created with unknown prop '${v}'`)});const g=v=>b(v);function C(v){Ne[v?"unshift":"push"](()=>{p=v,t(3,p)})}return n.$$set=v=>{"b_mode_nobody"in v&&t(6,u=v.b_mode_nobody),"si_assertion"in v&&t(7,i=v.si_assertion),"si_known"in v&&t(0,_=v.si_known)},n.$capture_state=()=>({createEventDispatcher:gt,Fa:je,faCheckCircle:jn,faTimesCircle:ui,faDotCircle:_i,faEgg:fi,faCheck:Vn,ode:Ye,proper:ke,H_OPTS:a,a_opts:c,b_mode_nobody:u,si_assertion:i,si_known:_,k_premise:d,f_apply:m,si_belief:y,dm_truth:p,dispatch:h,select_opt:b,nl_opts:s}),n.$inject_state=v=>{"a_opts"in v&&t(1,c=v.a_opts),"b_mode_nobody"in v&&t(6,u=v.b_mode_nobody),"si_assertion"in v&&t(7,i=v.si_assertion),"si_known"in v&&t(0,_=v.si_known),"f_apply"in v&&(m=v.f_apply),"si_belief"in v&&t(2,y=v.si_belief),"dm_truth"in v&&t(3,p=v.dm_truth),"nl_opts"in v&&t(4,s=v.nl_opts)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&_&&t(1,c=Ye({ignore:{label:ke(_),icon:{undeniable:fi,true:Vn,verified:Vn}[_]}})),n.$$.dirty&2&&t(4,s=c.length)},[_,c,y,p,s,b,u,i,d,g,C]}class mn extends dt{constructor(e){super(e);ht(this,e,la,As,mt,{b_mode_nobody:6,si_assertion:7,si_known:0,k_premise:8}),B("SvelteRegisterComponent",{component:this,tagName:"PremiseWidget",options:e,id:As.name});const{ctx:t}=this.$$,s=e.props||{};t[6]===void 0&&!("b_mode_nobody"in s)&&console.warn("<PremiseWidget> was created without expected prop 'b_mode_nobody'"),t[7]===void 0&&!("si_assertion"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_assertion'"),t[0]===void 0&&!("si_known"in s)&&console.warn("<PremiseWidget> was created without expected prop 'si_known'")}get b_mode_nobody(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set b_mode_nobody(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_assertion(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_assertion(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get si_known(){throw new Error("<PremiseWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_known(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_premise(){return this.$$.ctx[8]}set k_premise(e){throw new Error("<PremiseWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const We="src/component/Decision.svelte";function co(n,e,t){const s=n.slice();return s[20]=e[t],s}function uo(n,e,t){const s=n.slice();return s[20]=e[t],s}function Ts(n){let e,t,s,o,r,a,c,u,i,_,d,m,y,p,h,b,A,g,C,v,f=n[3];fe(f);let S=[];for(let N=0;N<f.length;N+=1)S[N]=js(uo(n,f,N));let q=n[2];fe(q);let I=[];for(let N=0;N<q.length;N+=1)I[N]=qs(co(n,q,N));const M={c:function(){e=T("div"),t=T("div"),s=T("div"),o=T("button"),o.textContent="Abstain",r=Y(),a=T("div"),c=T("span"),c.textContent="Arbiter's bag:",u=Y(),i=T("span"),_=T("span");for(let L=0;L<S.length;L+=1)S[L].c();d=Y(),m=T("div"),y=T("span"),y.textContent="Opponent's chip:",p=Y(),h=T("span"),b=T("span");for(let L=0;L<I.length;L+=1)I[L].c();P(o,"class","s-UQAPz40uou8M"),j(o,We,220,4,7343),P(s,"class","decision-abstain s-UQAPz40uou8M"),X(s,"selected",n[4]===n[1]),j(s,We,219,3,7258),P(c,"class","decision-opts-row-title s-UQAPz40uou8M"),j(c,We,225,4,7479),P(_,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(_,We,229,5,7597),P(i,"class","decision-opts-row-view s-UQAPz40uou8M"),j(i,We,228,4,7554),P(a,"class","decision-opts-row s-UQAPz40uou8M"),P(a,"data-target","bag"),j(a,We,224,3,7425),P(y,"class","decision-opts-row-title s-UQAPz40uou8M"),j(y,We,243,4,7990),P(b,"class","decision-opts-row-view-data s-UQAPz40uou8M"),j(b,We,247,5,8110),P(h,"class","decision-opts-row-view s-UQAPz40uou8M"),j(h,We,246,4,8067),P(m,"class","decision-opts-row s-UQAPz40uou8M"),P(m,"data-target","opponent"),j(m,We,242,3,7931),P(t,"class","decision-opts s-UQAPz40uou8M"),j(t,We,218,2,7227),P(e,"class","decision s-UQAPz40uou8M"),X(e,"staged",!!n[1]),j(e,We,214,1,7028)},m:function(L,F){W(L,e,F),k(e,t),k(t,s),k(s,o),k(t,r),k(t,a),k(a,c),k(a,u),k(a,i),k(i,_);for(let R=0;R<S.length;R+=1)S[R].m(_,null);k(t,d),k(t,m),k(m,y),k(m,p),k(m,h),k(h,b);for(let R=0;R<I.length;R+=1)I[R].m(b,null);g=!0,C||(v=He(o,"click",n[10],!1,!1,!1),C=!0)},p:function(L,F){if(n=L,F&18&&X(s,"selected",n[4]===n[1]),F&170){f=n[3],fe(f);let R;for(R=0;R<f.length;R+=1){const _e=uo(n,f,R);S[R]?S[R].p(_e,F):(S[R]=js(_e),S[R].c(),S[R].m(_,null))}for(;R<S.length;R+=1)S[R].d(1);S.length=f.length}if(F&166){q=n[2],fe(q);let R;for(R=0;R<q.length;R+=1){const _e=co(n,q,R);I[R]?I[R].p(_e,F):(I[R]=qs(_e),I[R].c(),I[R].m(b,null))}for(;R<I.length;R+=1)I[R].d(1);I.length=q.length}F&2&&X(e,"staged",!!n[1])},i:function(L){g||(st(()=>{A||(A=Ce(e,de,{duration:3600,easing:Et},!0)),A.run(1)}),g=!0)},o:function(L){A||(A=Ce(e,de,{duration:3600,easing:Et},!1)),A.run(0),g=!1},d:function(L){L&&G(e),lt(S,L),lt(I,L),L&&A&&A.end(),C=!1,v()}};return B("SvelteRegisterBlock",{block:M,id:Ts.name,type:"if",source:"(214:0) {#if b_visible}",ctx:n}),M}function js(n){let e,t,s=n[7](n[20])+"",o,r,a;function c(){return n[11](n[20])}const u={c:function(){e=T("span"),t=new di,o=Y(),t.a=o,P(e,"class","decision-opt s-UQAPz40uou8M"),X(e,"selected",n[20]===n[1]),j(e,We,231,7,7681)},m:function(_,d){W(_,e,d),t.m(s,e),k(e,o),r||(a=He(e,"click",c,!1,!1,!1),r=!0)},p:function(_,d){n=_,d&8&&s!==(s=n[7](n[20])+"")&&t.p(s),d&10&&X(e,"selected",n[20]===n[1])},d:function(_){_&&G(e),r=!1,a()}};return B("SvelteRegisterBlock",{block:u,id:js.name,type:"each",source:"(231:6) {#each a_opts_arb as k_opt}",ctx:n}),u}function qs(n){let e,t,s=n[7](n[20])+"",o,r,a,c,u;function i(){return n[12](n[20])}const _={c:function(){e=T("span"),t=new di,o=Y(),r=T("img"),a=Y(),t.a=o,qn(r,"display","none"),P(r,"alt","hidden"),P(r,"class","s-UQAPz40uou8M"),j(r,We,255,8,8390),P(e,"class","decision-opt s-UQAPz40uou8M"),X(e,"selected",n[20]===n[1]),j(e,We,249,7,8194)},m:function(m,y){W(m,e,y),t.m(s,e),k(e,o),k(e,r),k(e,a),c||(u=He(e,"click",i,!1,!1,!1),c=!0)},p:function(m,y){n=m,y&4&&s!==(s=n[7](n[20])+"")&&t.p(s),y&6&&X(e,"selected",n[20]===n[1])},d:function(m){m&&G(e),c=!1,u()}};return B("SvelteRegisterBlock",{block:_,id:qs.name,type:"each",source:"(249:6) {#each a_opts_opp as k_opt}",ctx:n}),_}function Ns(n){let e,t,s=n[0]&&Ts(n);const o={c:function(){s&&s.c(),e=Kt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),W(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=Ts(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(Be(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&G(e)}};return B("SvelteRegisterBlock",{block:o,id:Ns.name,type:"component",source:"",ctx:n}),o}class ca{constructor(e,t){this._si_color=e,this._si_shape=t}get color(){return this._si_color}get shape(){return this._si_shape}}function ua(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;pt("Decision",r,[]);const c={show:y,hide:p};let{k_deduced:u}=e;const i=gt(),_=zt("game");let d=_.language,m=!1;async function y(){t(0,m=!0)}function p(){t(0,m=!1)}const h={target:"abstain",color:null,shape:null};let b=null;function A(N,L){b!==L&&(t(1,b=L),i("change",L))}function g(){t(1,b=h),i("abstain")}const C=Ie("canvas",{width:100,height:100}),v=C.getContext("2d");function f(N){v.clearRect(0,0,100,100),v.stroke(),v.globalAlpha=.8,Dn(v,50,Math.pow(35,2),N.color,N.shape);const L=C.toDataURL();return Ie("span",{},[Ie("span",{class:"decision-opt-label"},[`${ke(N.color)} ${ke(N.shape)}`]),Ie("img",{src:L})]).innerHTML}const S=["k_deduced"];Object.keys(e).forEach(N=>{!~S.indexOf(N)&&N.slice(0,2)!=="$$"&&N!=="slot"&&console.warn(`<Decision> was created with unknown prop '${N}'`)});const q=()=>g(),I=N=>A("bag",N),M=N=>A("opponent",N);return n.$$set=N=>{"k_deduced"in N&&t(9,u=N.k_deduced)},n.$capture_state=()=>({Opt:ca,getContext:zt,createEventDispatcher:gt,fade:de,quadInOut:Et,proper:ke,dd:Ie,draw_shape:Dn,k_decision:c,k_deduced:u,dispatch:i,g_game:_,yw_lang:d,b_visible:m,show:y,hide:p,g_opt_abstain:h,g_opt_selected:b,stage_decision:A,stage_abstain:g,dm_canvas:C,d_ctx:v,render_icon:f,a_opts_opp:o,a_opts_arb:s}),n.$inject_state=N=>{"k_deduced"in N&&t(9,u=N.k_deduced),"yw_lang"in N&&(d=N.yw_lang),"b_visible"in N&&t(0,m=N.b_visible),"g_opt_selected"in N&&t(1,b=N.g_opt_selected),"a_opts_opp"in N&&t(2,o=N.a_opts_opp),"a_opts_arb"in N&&t(3,s=N.a_opts_arb)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&512&&t(3,s=u.enumerate("bag")),n.$$.dirty&512&&t(2,o=u.enumerate("opponent")),n.$$.dirty&512&&t(1,b=null)},[m,b,o,s,h,A,g,f,c,u,q,I,M]}class _o extends dt{constructor(e){super(e);ht(this,e,ua,Ns,mt,{k_decision:8,k_deduced:9}),B("SvelteRegisterComponent",{component:this,tagName:"Decision",options:e,id:Ns.name});const{ctx:t}=this.$$,s=e.props||{};t[9]===void 0&&!("k_deduced"in s)&&console.warn("<Decision> was created without expected prop 'k_deduced'")}get k_decision(){return this.$$.ctx[8]}set k_decision(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get k_deduced(){throw new Error("<Decision>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set k_deduced(e){throw new Error("<Decision>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bn="src/component/ActionWidget.svelte";function fo(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s[12]=t,s}function Is(n){let e,t,s,o,r,a=n[10].label+"",c,u,i,_,d;s=new je({props:{icon:n[10].icon},$$inline:!0});function m(){return n[5](n[9])}const y={c:function(){e=T("span"),t=T("span"),Ue(s.$$.fragment),o=Y(),r=T("span"),c=ce(a),u=Y(),P(t,"class","action-opt-icon s-8eNH5FVaHsSg"),j(t,Bn,87,3,2291),P(r,"class","action-opt-text s-8eNH5FVaHsSg"),j(r,Bn,90,3,2364),P(e,"class","action-opt "+(n[12]===0?"opt-lft":"")+" "+(n[3]-1===n[12]?"opt-rgt":"opt-mid")+" s-8eNH5FVaHsSg"),P(e,"data-opt",n[9]),X(e,"selected",n[9]===n[0]),j(e,Bn,86,2,2093)},m:function(h,b){W(h,e,b),k(e,t),Le(s,t,null),k(e,o),k(e,r),k(r,c),k(e,u),i=!0,_||(d=He(e,"click",m,!1,!1,!1),_=!0)},p:function(h,b){n=h,b&5&&X(e,"selected",n[9]===n[0])},i:function(h){i||(O(s.$$.fragment,h),i=!0)},o:function(h){H(s.$$.fragment,h),i=!1},d:function(h){h&&G(e),De(s),_=!1,d()}};return B("SvelteRegisterBlock",{block:y,id:Is.name,type:"each",source:"(86:1) {#each ode(H_OPTS) as [si_opt, g_opt], i_opt}",ctx:n}),y}function Rs(n){let e,t,s=Ye(n[2]);fe(s);let o=[];for(let c=0;c<s.length;c+=1)o[c]=Is(fo(n,s,c));const r=c=>H(o[c],1,1,()=>{o[c]=null}),a={c:function(){e=T("span");for(let u=0;u<o.length;u+=1)o[u].c();P(e,"class","action s-8eNH5FVaHsSg"),qn(e,"width",100*n[3]+"px"),j(e,Bn,84,0,1967)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,i){W(u,e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);n[6](e),t=!0},p:function(u,[i]){if(i&29){s=Ye(u[2]),fe(s);let _;for(_=0;_<s.length;_+=1){const d=fo(u,s,_);o[_]?(o[_].p(d,i),O(o[_],1)):(o[_]=Is(d),o[_].c(),O(o[_],1),o[_].m(e,null))}for(Be(),_=s.length;_<o.length;_+=1)r(_);Qe()}},i:function(u){if(!t){for(let i=0;i<s.length;i+=1)O(o[i]);t=!0}},o:function(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)H(o[i]);t=!1},d:function(u){u&&G(e),lt(o,u),n[6](null)}};return B("SvelteRegisterBlock",{block:a,id:Rs.name,type:"component",source:"",ctx:n}),a}function _a(n,e,t){let{$$slots:s={},$$scope:o}=e;pt("ActionWidget",s,[]);const r={yes:{label:"Yes",icon:jn}},a=Ye(r).length;let c=h=>h,{si_selected:u="none"}=e,i;const _=gt();function d(h){u!==h&&(t(0,u=h),_("change",h))}const m=["si_selected"];Object.keys(e).forEach(h=>{!~m.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<ActionWidget> was created with unknown prop '${h}'`)});const y=h=>d(h);function p(h){Ne[h?"unshift":"push"](()=>{i=h,t(1,i)})}return n.$$set=h=>{"si_selected"in h&&t(0,u=h.si_selected)},n.$capture_state=()=>({createEventDispatcher:gt,Fa:je,faCheckCircle:jn,ode:Ye,H_OPTS:r,NL_OPTS:a,f_apply:c,si_selected:u,dm_action:i,dispatch:_,select_opt:d}),n.$inject_state=h=>{"f_apply"in h&&(c=h.f_apply),"si_selected"in h&&t(0,u=h.si_selected),"dm_action"in h&&t(1,i=h.dm_action)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[u,i,r,a,d,y,p]}class ho extends dt{constructor(e){super(e);ht(this,e,_a,Rs,mt,{si_selected:0}),B("SvelteRegisterComponent",{component:this,tagName:"ActionWidget",options:e,id:Rs.name})}get si_selected(){throw new Error("<ActionWidget>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_selected(e){throw new Error("<ActionWidget>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const pn="src/component/Pick.svelte";function mo(n,e,t){const s=n.slice();return s[9]=e[t][0],s[10]=e[t][1],s}function Os(n){let e,t,s,o=Ye(n[2]);fe(o);let r=[];for(let u=0;u<o.length;u+=1)r[u]=Ms(mo(n,o,u));const a=u=>H(r[u],1,1,()=>{r[u]=null}),c={c:function(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();P(e,"class","pick s-AUZQ0ENzDxvQ"),X(e,"picked",!!n[1]),j(e,pn,77,1,1812)},m:function(i,_){W(i,e,_);for(let d=0;d<r.length;d+=1)r[d].m(e,null);s=!0},p:function(i,_){if(_&14){o=Ye(i[2]),fe(o);let d;for(d=0;d<o.length;d+=1){const m=mo(i,o,d);r[d]?(r[d].p(m,_),O(r[d],1)):(r[d]=Ms(m),r[d].c(),O(r[d],1),r[d].m(e,null))}for(Be(),d=o.length;d<r.length;d+=1)a(d);Qe()}_&2&&X(e,"picked",!!i[1])},i:function(i){if(!s){for(let _=0;_<o.length;_+=1)O(r[_]);st(()=>{t||(t=Ce(e,vt,{duration:2500},!0)),t.run(1)}),s=!0}},o:function(i){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)H(r[_]);t||(t=Ce(e,vt,{duration:2500},!1)),t.run(0),s=!1},d:function(i){i&&G(e),lt(r,i),i&&t&&t.end()}};return B("SvelteRegisterBlock",{block:c,id:Os.name,type:"if",source:"(77:0) {#if b_visible}",ctx:n}),c}function Ms(n){let e,t,s=n[10].label+"",o,r,a,c,u,i,_=n[10].description+"",d,m,y,p,h;c=new je({props:{icon:n[10].icon},$$inline:!0});function b(){return n[5](n[9])}const A={c:function(){e=T("span"),t=T("div"),o=ce(s),r=Y(),a=T("div"),Ue(c.$$.fragment),u=Y(),i=T("div"),d=ce(_),m=Y(),P(t,"class","pick-label s-AUZQ0ENzDxvQ"),j(t,pn,80,4,2071),P(a,"class","pick-icon s-AUZQ0ENzDxvQ"),j(a,pn,83,4,2131),P(i,"class","pick-description s-AUZQ0ENzDxvQ"),j(i,pn,86,4,2201),P(e,"class","pick-opt s-AUZQ0ENzDxvQ"),P(e,"data-pick",n[9]),X(e,"selected",n[1]===n[9]),j(e,pn,79,3,1946)},m:function(C,v){W(C,e,v),k(e,t),k(t,o),k(e,r),k(e,a),Le(c,a,null),k(e,u),k(e,i),k(i,d),k(e,m),y=!0,p||(h=He(e,"click",b,!1,!1,!1),p=!0)},p:function(C,v){n=C,v&6&&X(e,"selected",n[1]===n[9])},i:function(C){y||(O(c.$$.fragment,C),y=!0)},o:function(C){H(c.$$.fragment,C),y=!1},d:function(C){C&&G(e),De(c),p=!1,h()}};return B("SvelteRegisterBlock",{block:A,id:Ms.name,type:"each",source:"(79:2) {#each ode(H_PICKS) as [si_pick, g_pick]}",ctx:n}),A}function Us(n){let e,t,s=n[0]&&Os(n);const o={c:function(){s&&s.c(),e=Kt()},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,c){s&&s.m(a,c),W(a,e,c),t=!0},p:function(a,[c]){a[0]?s?(s.p(a,c),c&1&&O(s,1)):(s=Os(a),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(Be(),H(s,1,1,()=>{s=null}),Qe())},i:function(a){t||(O(s),t=!0)},o:function(a){H(s),t=!1},d:function(a){s&&s.d(a),a&&G(e)}};return B("SvelteRegisterBlock",{block:o,id:Us.name,type:"component",source:"",ctx:n}),o}function fa(n,e,t){let{$$slots:s={},$$scope:o}=e;pt("Pick",s,[]);const r={jackpot:{icon:hi,label:"Jackpot",description:"A pile of SCRT accrued from lost wagers. The exact amount you will receive is a secret."},nft:{icon:mi,label:"Power-up NFT",description:"A unique NFT that gives the owner some special power when used during gameplay. The type of power-up you will receive is a secret."}};let a=!1,c=null;const u={show:i,hide:_};function i(){t(0,a=!0)}function _(){t(0,a=!1)}const d=gt();function m(h){t(1,c=h),d("pick",c)}const y=[];Object.keys(e).forEach(h=>{!~y.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Pick> was created with unknown prop '${h}'`)});const p=h=>m(h);return n.$capture_state=()=>({createEventDispatcher:gt,blur:vt,Fa:je,faCoins:hi,faTrophy:mi,ode:Ye,H_PICKS:r,b_visible:a,si_pick_selected:c,k_pick:u,show:i,hide:_,dispatch:d,pick:m}),n.$inject_state=h=>{"b_visible"in h&&t(0,a=h.b_visible),"si_pick_selected"in h&&t(1,c=h.si_pick_selected)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[a,c,r,m,u,p]}class po extends dt{constructor(e){super(e);ht(this,e,fa,Us,mt,{k_pick:4}),B("SvelteRegisterComponent",{component:this,tagName:"Pick",options:e,id:Us.name})}get k_pick(){return this.$$.ctx[4]}set k_pick(e){throw new Error("<Pick>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Ls{#e;static includes(e){for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);if(s&&e.test(s))return!0}return!1}constructor(e,t,s){const o=window.btoa(JSON.stringify(s||{}));this._si_namespace=`${e}.${o}`,this.#e=t}set(e,t){let s;try{s=JSON.stringify(t)}catch{throw new Error("Unable to stringify value")}let o;try{o=Zn.exports.AES.encrypt(s,this.#e).toString()}catch{throw new Error("Unable to encrypt message")}return localStorage.setItem(`${this._si_namespace}.${e}`,o)}get(e){const t=localStorage.getItem(`${this._si_namespace}.${e}`);if(t===null)return t;let s;try{s=Zn.exports.AES.decrypt(t,this.#e).toString(Zn.exports.enc.Utf8)}catch{throw new Error("Failed to decrypt value using provided secret")}let o;try{o=JSON.parse(s)}catch{throw new Error("Failed to parse decrypted text")}return o}clear(){const e=`${this._si_namespace}.`;for(let t=localStorage.length;t>=0;t--){const s=localStorage.key(t);(s==null?void 0:s.startsWith(e))&&localStorage.removeItem(s)}}remove(e){return localStorage.removeItem(`${this._si_namespace}.${e}`)}}const sn="src/component/NftCard.svelte";function Ds(n){let e,t,s;t=new je({props:{icon:n[2]},$$inline:!0});const o={c:function(){e=T("div"),Ue(t.$$.fragment),P(e,"class","card-icon s-1u1ddl8y5Heu"),j(e,sn,78,4,1812)},m:function(a,c){W(a,e,c),Le(t,e,null),s=!0},p:function(a,c){const u={};c&4&&(u.icon=a[2]),t.$set(u)},i:function(a){s||(O(t.$$.fragment,a),s=!0)},o:function(a){H(t.$$.fragment,a),s=!1},d:function(a){a&&G(e),De(t)}};return B("SvelteRegisterBlock",{block:o,id:Ds.name,type:"if",source:"(78:3) {#if y_icon}",ctx:n}),o}function Ys(n){let e,t,s,o,r,a,c,u,i,_,d=n[2]&&Ds(n);const m={c:function(){e=T("div"),t=T("div"),s=T("div"),d&&d.c(),o=Y(),r=T("div"),a=ce(n[1]),c=Y(),u=T("div"),i=ce(n[0]),P(r,"class","card-class s-1u1ddl8y5Heu"),j(r,sn,82,3,1885),P(s,"class","card-overlay s-1u1ddl8y5Heu"),j(s,sn,76,2,1765),P(t,"class","card-preview s-1u1ddl8y5Heu"),qn(t,"background",n[3]),j(t,sn,75,1,1709),P(u,"class","card-title s-1u1ddl8y5Heu"),j(u,sn,87,1,1952),P(e,"class","card s-1u1ddl8y5Heu"),j(e,sn,74,0,1689)},l:function(p){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(p,h){W(p,e,h),k(e,t),k(t,s),d&&d.m(s,null),k(s,o),k(s,r),k(r,a),k(e,c),k(e,u),k(u,i),_=!0},p:function(p,[h]){p[2]?d?(d.p(p,h),h&4&&O(d,1)):(d=Ds(p),d.c(),O(d,1),d.m(s,o)):d&&(Be(),H(d,1,1,()=>{d=null}),Qe()),(!_||h&2)&&qe(a,p[1]),(!_||h&8)&&qn(t,"background",p[3]),(!_||h&1)&&qe(i,p[0])},i:function(p){_||(O(d),_=!0)},o:function(p){H(d),_=!1},d:function(p){p&&G(e),d&&d.d()}};return B("SvelteRegisterBlock",{block:m,id:Ys.name,type:"component",source:"",ctx:n}),m}function da(n,e,t){let s,o,{$$slots:r={},$$scope:a}=e;pt("NftCard",r,[]);let{si_token:c}=e,{g_nft:u}=e,i="Loading...",_;const d=["si_token","g_nft"];return Object.keys(e).forEach(m=>{!~d.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<NftCard> was created with unknown prop '${m}'`)}),n.$$set=m=>{"si_token"in m&&t(0,c=m.si_token),"g_nft"in m&&t(4,u=m.g_nft)},n.$capture_state=()=>({Fa:je,faAward:pi,faCarCrash:gi,si_token:c,g_nft:u,s_class:i,y_icon:_,g_ext:s,sx_bg:o}),n.$inject_state=m=>{"si_token"in m&&t(0,c=m.si_token),"g_nft"in m&&t(4,u=m.g_nft),"s_class"in m&&t(1,i=m.s_class),"y_icon"in m&&t(2,_=m.y_icon),"g_ext"in m&&t(5,s=m.g_ext),"sx_bg"in m&&t(3,o=m.sx_bg)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{if(n.$$.dirty&16&&t(5,s=u==null?void 0:u.private_metadata.extension),n.$$.dirty&32&&t(3,o=(s==null?void 0:s.background_color)?`#${s==null?void 0:s.background_color}`:`
			background: rgb(212,212,212);
			background: linear-gradient(326deg, rgba(212,212,212,1) 0%, rgba(240,240,240,1) 50%, rgba(175,175,175,1) 100%);
		`.trim().split(/\n+/g).map(m=>m.trim()).join(" ")),n.$$.dirty&32)switch(s==null?void 0:s.description){case"simple":{t(2,_=pi),t(1,i="Badge");break}case"insurance":{t(2,_=gi),t(1,i="Insurance");break}}},[c,i,_,o,u,s]}class go extends dt{constructor(e){super(e);ht(this,e,da,Ys,mt,{si_token:0,g_nft:4}),B("SvelteRegisterComponent",{component:this,tagName:"NftCard",options:e,id:Ys.name});const{ctx:t}=this.$$,s=e.props||{};t[0]===void 0&&!("si_token"in s)&&console.warn("<NftCard> was created without expected prop 'si_token'"),t[4]===void 0&&!("g_nft"in s)&&console.warn("<NftCard> was created without expected prop 'g_nft'")}get si_token(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set si_token(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get g_nft(){throw new Error("<NftCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set g_nft(e){throw new Error("<NftCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:ha,Object:ma,console:pa}=Xs,ot="src/component/App.svelte";function Bs(n){let e,t,s,o,r,a;t=new je({props:{icon:yi},$$inline:!0});const c={c:function(){e=T("span"),Ue(t.$$.fragment),P(e,"class","system-controls-burn s-SHyHC7YcIsCQ"),P(e,"alt","destroy cookies and cache"),j(e,ot,2032,2,68553)},m:function(i,_){W(i,e,_),Le(t,e,null),o=!0,r||(a=He(e,"click",n[26],!1,!1,!1),r=!0)},p:we,i:function(i){o||(O(t.$$.fragment,i),st(()=>{s||(s=Ce(e,de,{duration:1e3},!0)),s.run(1)}),o=!0)},o:function(i){H(t.$$.fragment,i),s||(s=Ce(e,de,{duration:1e3},!1)),s.run(0),o=!1},d:function(i){i&&G(e),De(t),i&&s&&s.end(),r=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:Bs.name,type:"if",source:"(2032:1) {#if (h_cookie && Object.keys(h_cookie).length) || localStorage.length}",ctx:n}),c}function Qs(n){let e,t,s,o=ke(n[8])+"",r,a,c=ke(n[9])+"",u,i,_,d,m,y,p=ke(Gt(`nobody_has|${n[10]}`))+"",h,b,A,g;const C={c:function(){e=T("div"),t=T("div"),s=ce("The "),r=ce(o),a=Y(),u=ce(c),i=Y(),_=T("div"),d=T("span"),d.textContent="Hint:",m=Y(),y=T("span"),h=ce(p),P(t,"class","chip s-SHyHC7YcIsCQ"),j(t,ot,2054,3,69286),P(d,"class","hint-prefix s-SHyHC7YcIsCQ"),j(d,ot,2058,4,69401),P(y,"class","hint-sentence s-SHyHC7YcIsCQ"),j(y,ot,2059,4,69444),P(_,"class","hint s-SHyHC7YcIsCQ"),j(_,ot,2057,3,69378),P(e,"class","mine s-SHyHC7YcIsCQ"),j(e,ot,2053,2,69160)},m:function(f,S){W(f,e,S),k(e,t),k(t,s),k(t,r),k(t,a),k(t,u),k(e,i),k(e,_),k(_,d),k(_,m),k(_,y),k(y,h),g=!0},p:function(f,S){n=f,(!g||S[0]&256)&&o!==(o=ke(n[8])+"")&&qe(r,o),(!g||S[0]&512)&&c!==(c=ke(n[9])+"")&&qe(u,c),(!g||S[0]&1024)&&p!==(p=ke(Gt(`nobody_has|${n[10]}`))+"")&&qe(h,p)},i:function(f){g||(st(()=>{A&&A.end(1),b=Jn(e,vt,{duration:2400,easing:Et,delay:4500}),b.start()}),g=!0)},o:function(f){b&&b.invalidate(),A=Kn(e,vt,{duration:2400,easing:Et}),g=!1},d:function(f){f&&G(e),f&&A&&A.end()}};return B("SvelteRegisterBlock",{block:C,id:Qs.name,type:"if",source:"(2053:1) {#if si_player_hint}",ctx:n}),C}function Hs(n){let e,t,s,o,r=n[1]&&Object.keys(n[1]).length||localStorage.length,a,c,u,i,_,d,m,y,p,h,b,A,g,C,v,f,S,q,I,M,N,L,F,R,_e,J,ze,Ae,Ge;s=new je({props:{icon:n[0]?xn:$n},$$inline:!0});let ne=r&&Bs(n);function be(re){n[27](re)}let ve={k_killables:n[14]};n[2]!==void 0&&(ve.k_panel=n[2]),c=new Gi({props:ve,$$inline:!0}),Ne.push(()=>Xt(c,"k_panel",be));function Je(re){n[29](re)}let at={};n[5]!==void 0&&(at.k_prompt=n[5]),h=new Ji({props:at,$$inline:!0}),Ne.push(()=>Xt(h,"k_prompt",Je));function he(re){n[30](re)}let Ve={};n[4]!==void 0&&(Ve.k_tx=n[4]),g=new oo({props:Ve,$$inline:!0}),Ne.push(()=>Xt(g,"k_tx",he)),g.$on("basis",n[15]),g.$on("quality",n[17]),g.$on("force_reject",n[16]);function Re(re){n[31](re)}let Ke={k_deduced:n[13]};n[6]!==void 0&&(Ke.k_decision=n[6]),f=new _o({props:Ke,$$inline:!0}),Ne.push(()=>Xt(f,"k_decision",Re)),f.$on("abstain",n[19]),f.$on("change",n[20]);let se=n[10]&&Qs(n);function It(re){n[32](re)}let ae={};n[7]!==void 0&&(ae.k_pick=n[7]),M=new po({props:ae,$$inline:!0}),Ne.push(()=>Xt(M,"k_pick",It)),M.$on("pick",n[18]);function ut(re){n[33](re)}let At={};n[3]!==void 0&&(At.k_scene=n[3]),F=new ro({props:At,$$inline:!0}),Ne.push(()=>Xt(F,"k_scene",ut));const Se={c:function(){e=T("div"),t=T("span"),Ue(s.$$.fragment),o=Y(),ne&&ne.c(),a=Y(),Ue(c.$$.fragment),i=Y(),_=T("div"),d=T("img"),y=Y(),p=T("div"),Ue(h.$$.fragment),A=Y(),Ue(g.$$.fragment),v=Y(),Ue(f.$$.fragment),q=Y(),se&&se.c(),I=Y(),Ue(M.$$.fragment),L=Y(),Ue(F.$$.fragment),_e=Y(),J=T("div"),P(t,"class","system-controls-audio s-SHyHC7YcIsCQ"),P(t,"alt","audio"),j(t,ot,2028,1,68334),P(e,"class","system-controls s-SHyHC7YcIsCQ"),j(e,ot,2027,0,68303),Go(d.src,m="/asset/smile.png")||P(d,"src",m),P(d,"alt","evil smile"),P(d,"class","s-SHyHC7YcIsCQ"),j(d,ot,2042,1,68821),P(_,"class","surprise s-SHyHC7YcIsCQ"),j(_,ot,2041,0,68773),P(J,"class","gallery s-SHyHC7YcIsCQ"),j(J,ot,2070,1,69656),P(p,"class","container s-SHyHC7YcIsCQ"),j(p,ot,2045,0,68877)},l:function(D){throw new ha("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(D,ie){W(D,e,ie),k(e,t),Le(s,t,null),k(e,o),ne&&ne.m(e,null),W(D,a,ie),Le(c,D,ie),W(D,i,ie),W(D,_,ie),k(_,d),n[28](_),W(D,y,ie),W(D,p,ie),Le(h,p,null),k(p,A),Le(g,p,null),k(p,v),Le(f,p,null),k(p,q),se&&se.m(p,null),k(p,I),Le(M,p,null),k(p,L),Le(F,p,null),k(p,_e),k(p,J),n[34](J),ze=!0,Ae||(Ge=He(t,"click",n[25],!1,!1,!1),Ae=!0)},p:function(D,ie){const Tt={};ie[0]&1&&(Tt.icon=D[0]?xn:$n),s.$set(Tt),ie[0]&2&&(r=D[1]&&Object.keys(D[1]).length||localStorage.length),r?ne?(ne.p(D,ie),ie[0]&2&&O(ne,1)):(ne=Bs(D),ne.c(),O(ne,1),ne.m(e,null)):ne&&(Be(),H(ne,1,1,()=>{ne=null}),Qe());const me={};!u&&ie[0]&4&&(u=!0,me.k_panel=D[2],Vt(()=>u=!1)),c.$set(me);const Xe={};!b&&ie[0]&32&&(b=!0,Xe.k_prompt=D[5],Vt(()=>b=!1)),h.$set(Xe);const x={};!C&&ie[0]&16&&(C=!0,x.k_tx=D[4],Vt(()=>C=!1)),g.$set(x);const Ze={};ie[0]&8192&&(Ze.k_deduced=D[13]),!S&&ie[0]&64&&(S=!0,Ze.k_decision=D[6],Vt(()=>S=!1)),f.$set(Ze),D[10]?se?(se.p(D,ie),ie[0]&1024&&O(se,1)):(se=Qs(D),se.c(),O(se,1),se.m(p,I)):se&&(Be(),H(se,1,1,()=>{se=null}),Qe());const Rt={};!N&&ie[0]&128&&(N=!0,Rt.k_pick=D[7],Vt(()=>N=!1)),M.$set(Rt);const w={};!R&&ie[0]&8&&(R=!0,w.k_scene=D[3],Vt(()=>R=!1)),F.$set(w)},i:function(D){ze||(O(s.$$.fragment,D),O(ne),O(c.$$.fragment,D),O(h.$$.fragment,D),O(g.$$.fragment,D),O(f.$$.fragment,D),O(se),O(M.$$.fragment,D),O(F.$$.fragment,D),ze=!0)},o:function(D){H(s.$$.fragment,D),H(ne),H(c.$$.fragment,D),H(h.$$.fragment,D),H(g.$$.fragment,D),H(f.$$.fragment,D),H(se),H(M.$$.fragment,D),H(F.$$.fragment,D),ze=!1},d:function(D){D&&G(e),De(s),ne&&ne.d(),D&&G(a),De(c,D),D&&G(i),D&&G(_),n[28](null),D&&G(y),D&&G(p),De(h),De(g),De(f),se&&se.d(),De(M),De(F),n[34](null),Ae=!1,Ge()}};return B("SvelteRegisterBlock",{block:Se,id:Hs.name,type:"component",source:"",ctx:n}),Se}function Ws(n){return n}function ga(n,e,t){let s,{$$slots:o={},$$scope:r}=e;pt("App",o,[]);const a={chain_name:Rn,chain_id:es,game_addr:Nt,game_hash:Ni,rest:On,rpc:un,minter_addr:$t,minter_hash:Ii};let c,u;try{const l=new Intl.Locale(navigator.language).language;l in vi&&(u=l)}catch{}{const l=Qt("en");l.subscribe(E=>u=E),wi("game",{language:l})}let i,_,d,m,y,p,h;const b=new ji;let A,g,C,v,f=new hn,S=Ws,q=Ws;function I(l){let E=0;const U=50,ee=U/5e3,z=window.setInterval(()=>{E+=ee,E>=1?window.clearInterval(z):l.volume=1-St(E)},U)}const M=new Image;M.src="/asset/monster.png";const N=new Image;N.src="/asset/smile.png";async function L(l){for(const E of Si[l])E.delay&&await Q(E.delay),await i.reveal_text(E.labels[u],E.interval,E.pause)}async function F(){await Q(2e3),await L("attention"),await Q(1800),await i.reveal_text(""),await Q(1200)}async function R(){await i.reveal_text("good luck! ;)"),await Q(800),await i.reveal_text("")}async function _e(){return await m.ok("Reload"),window.location.reload(),new Promise(()=>{})}async function J(l){return b.killAll(),i.reveal_text(""),await Xe(l),_e()}async function ze(){const l="                                 ";await i.reveal_text(l),be.epic_transition.play(),i.reveal_text(l+"  ",250),ae.classList.add("triggered"),await Q(160),t(11,ae.style.opacity="0.0",ae),setTimeout(()=>{t(11,ae.style.display="none",ae)},6e3),await Q(2e3)}async function Ae(l=0){await i.warn(`
			This game stores encrypted query permit data in local storage.
			
			In order to protect this data, you must provide a passphrase each time the page is loaded.

			${Ls.includes(/\.permits$/)?"Enter the same passphrase to restore a previous permit, or enter a different one to sign a new permit.":""}
		`);async function E(te=0){let tt=!1;te||b.addTimeout(()=>{tt||i.reveal_text("\u2193\u2193 click below to enter passphrase \u2193\u2193")},6500),await m.ok("Provide passphrase"),tt=!0;const Dt=new Uint8Array(32);crypto.getRandomValues(Dt);const an=[...Dt].map(Tn=>String.fromCharCode(Tn%93+33)).join(""),Fn=window.prompt("Enter a passphrase to encrypt/decrypt query permits",an);if(Fn)return Fn.length<5?(i.reveal_text("passphrase must be at least 5 characters"),E(te+1)):Fn;{const Tn=["null key encryption, eh? try again you silly goose","i can do this all day, can you?","there are only so many responses i have...","...and you're starting to piss me off","i'm serious dood -- don't make me"];return te<Tn.length?i.reveal_text(Tn[te],40):window.location.href="https://www.youtube.com/watch?v=dQw4w9WgXcQ",E(te+1)}}const z=(await(await ki.load()).get()).visitorId,oe=await E();if(i.reveal_text(""),!h){await me(`
				This is a multiplayer, online game that uses smart contracts on the Secret Network to ensure fairness for all players.

				Interacting with the game requires submitting transactions to the blockchain via a web wallet such as Keplr (or a local wallet for testnet only).
			`),await Q(600);const te=await m.opts({keplr:en.isAvailable()?{label:"Connect Keplr",alt:"Connect a wallet using the Keplr extension for Chrome"}:{label:"Install Keplr",alt:"Keplr was not detected. Please install it first in order to use this option"}});switch(te){case"keplr":{try{h=en.fromWindow()}catch{return window.open("https://www.keplr.app/","_blank"),await _e()}Ct({wallet:"keplr"},30*wt);break}case"local":return J("Local storage wallet not yet implemented");default:return J(`Unhandled response option: '${te}'`)}}let Z=!1;const $=Date.now();try{Z=await h.enable({chainId:es,chainName:Rn,rest:On,rpc:un},()=>(h.disable(),J("Account was changed in wallet. Session terminated.")))}catch(te){debugger;return te instanceof as?l>=3?J("Keplr connection request rejected too many times"):(await Q(2e3),await Ae(l+1)):te instanceof rs||te instanceof Error?J(te.stack):J("Fatal unknown error")}if(!Z)return J("Chain suggestion was denied. Unable to proceed.");Date.now()-$>it&&(await me(`Please make sure your network is set to "${Rn}" in Keplr!`),await Q(2100));const K=h.key,le=K.bech32Address;i.wallet({name:K.name,addr:le,ledger:K.isNanoLedger});const ge=new Ls(le,[z,oe,"salt"].join("|"),a);let Pe=null;try{Pe=ge.get("permits")}catch{await me("Change in passphrase detected. Clearing old query perrmits."),ge.clear()}await Q(1e3);let Me=!1;if(Pe&&Pe[Nt])c=Pe[Nt],Me=!0;else{await me(`
				Query permits allow you to read encrypted data from the blockchain without needing to write anything extra to the chain.

				Signing a query permit happens offline and does not require any gas.
			`),await Q(1800),await m.ok("Sign permit");try{c={params:{chain_id:h.chain,allowed_tokens:[Nt,$t],permit_name:os,permissions:["owner"]},signature:await h.signQueryPermit()},ge.set("permits",kt(nt({},Pe||{}),{[Nt]:c,[$t]:c}))}catch(te){return J(te.stack)}}i.permit(c.params,Me),await Q(1200),await i.reveal_text(""),await Q(1100)}async function Ge(l=!1){let E=Qt("");l?me("Still waiting for another player... {last_check}",{last_check:E}):me("Created a new game. Now waiting for another player... {last_check}",{last_check:E});let U=window.Notification&&Notification.permission==="granted",ee=!1;function z(){if(U)me("You will receive a notification once another player has joined.");else{const le=Ie("span"),ge=new ho({target:le});ge.$on("change",async()=>{const Pe=Date.now();await Notification.requestPermission()==="denied"?(ge.$set({si_selected:"none"}),Date.now()-Pe<.5*it?me("User previously denied request for notifications. Need to reset in browser settings."):me("User denied request for notification permission.")):me("Confirmed. Notification will be sent when another player joins.")}),me("Would you like to receive a notification once another player has joined? {approve}",{approve:le})}}let oe=Date.now(),Z=b.addInterval(()=>{oe&&E.set(`Last checked ${Ti(oe)}`),ee||(ee=!0,z())},1e3),$,K;for(;;){K=Date.now();try{$=await he.queryGameState()}catch(ge){return ge instanceof fn?J(ge.message):J(ge+"")}if($.round!==0)break;oe=Date.now(),await Q(5e3);const le=Date.now()-K;le<10*it&&await Q(le)}b.delInterval(Z),E.set("");{let le=function(){window.removeEventListener("focus",ge)},ge=function(){le(),I(Pe)};const Pe=be.retro_game_alarm;Pe.play(),document.hasFocus()?(await Q(1800),I(Pe)):window.addEventListener("focus",ge)}return $}const ne={epic_transition:"epic-transition.wav",coin:"coin.wav",death:"death.wav",menu_1a:"menu-1a.wav",menu_1b:"menu-1b.wav",rise:"rise.wav",coin_win:"coin-win.wav",retro_game_alarm:"retro-game-alarm.wav",retro_game_notif:"retro-game-notif.wav",trumpet_fanfare:"trumpet-fanfare.wav"},be=Object.fromEntries(Ye(ne).map(([l,E])=>[l,new Audio(`/asset/audio/${E}`)]));let ve=!1,Je=dn(),at,he;async function Ve(){await x(`
			Your opponent is taking too long. Since you have already fulfilled your duty, I will allow you to end the game and get a refund.

			Would you like to end the game?
		`),await i.reveal_text("yes, give me my money back"),i.submittable(async()=>{i.submittable(null);const l=await V({async exec(){return(await he.forceEndgame()).data.force_endgame.game_state},check(E){return E.finished!==null},query_fail(){return Ve(),null},persist_reveal:!0});if(!!l)return await i.commit(),i.unsubmittable(),await x(`I have refunded you ${_n(BigInt(l.wager))}.`),await be.coin.play(),Ke()})}class Re{constructor(E){this._s_expired="run out of time";const U=E.terminate;this._s_kill=E.kill_text||"",this._k_eta=E.eta,this._yw_time=Qt("(estimating...)"),this._k_eta.eta,this._i_interval=b.addInterval(()=>{const z=this._k_eta;if(!z.ready)return;if(z.expired){this._yw_time.set(this._s_expired),b.delInterval(this._i_interval),this._i_interval=0;try{this._dm_clock.remove()}catch{}U&&U();return}const oe=z.remaining,Z=Math.max(0,Math.floor(oe/it)),$=Math.floor(Z/60);$?$<2?this._yw_time.set("less than 2 minutes remaining"):$<5?this._yw_time.set("less than 5 minutes remaining"):$<10?this._yw_time.set("less than 10 minutes remaining"):this._yw_time.set("a little more than 10 minutes remaining"):Z<=10?this._yw_time.set("less than 10 seconds remaining"):Z<=31?this._yw_time.set("less than 30 seconds remaining"):this._yw_time.set("less than 60 seconds remaining")},100);const ee=this._dm_clock=Ie("span");Object.assign(ee.style,{paddingRight:"2px"}),new je({target:ee,props:{icon:bi}})}get interval(){return this._i_interval}get clock(){return this._dm_clock}get store(){return this._yw_time}kill(E=""){this._i_interval&&(b.delInterval(this._i_interval),this._i_interval=0,this._dm_clock.remove(),this._yw_time.set(E||this._s_kill))}}async function Ke(){return nn("game"),J("Game over. Reload to play again.")}async function se(){let l=!0;i.reveal_text("checking for active game...").then(()=>l&&i.spinning(!0));let E;try{try{E=await he.queryGameState()}finally{l=!1,i.reveal_text("")}}catch{debugger}if(E&&(console.log("Resuming:",E),E.round!==null)){if(E.finished?me("Fast-forwarding through finished game so you can see the results."):me("Successfully resumed active game."),E.round===0&&(E=await Ge(!0)),E.round===1)return ft(E,!0),!0;if(E.round===3)return Qn(E,!0),!0;await Xe(`Unrecognized game state round: ${E.round}`)}return!1}let It=!1,ae;const ut=l=>l.cloneNode();async function At(){if(ve)return;const l=ut(be.menu_1a);l.volume=.4;try{await l.play()}catch{}}async function Se(){if(ve)return;const l=ut(be.menu_1b);l.volume=.4;try{await l.play()}catch{}}async function re(){try{await be.rise.play()}catch{}}async function D(){const l=ut(be.coin);l.volume=Math.random()*.35+.1;try{await l.play()}catch{}}async function ie(){if(!ve)for(let l=0;l<10;l++)D(),await Q(Math.random()<.35?150:250)}async function Tt(){const l=ut(be.death);try{await l.play()}catch{}}async function me(...l){return Se(),i.warn(...l)}async function Xe(...l){return Se(),i.error(...l)}async function x(...l){return At(),i.arbiter(...l)}let Ze;async function Rt(){var ee;const l=await at.queryListNfts();if(!((ee=l==null?void 0:l.token_list)==null?void 0:ee.tokens))return;const E=l.token_list.tokens,U=[];for(const z of E)U.push(new go({target:Ze,props:{si_token:z,g_nft:null}}));for(let z=0,oe=E.length;z<oe;z++){const Z=await at.queryNftInfo(E[z]);U[z].$set({g_nft:Z})}}Jt(async()=>{console.log(a);const l=Je.last_seen;if(l&&t(0,ve=!!+Je.muted),Je.wallet==="keplr")try{h=en.fromWindow()}catch{nn("wallet")}Ct({last_seen:""+Date.now()},30*wt),t(1,Je=dn()),await Ae(),at=new Mi(h,$t,c),Rt(),he=new Oi(h,Nt,c);const E=tn("game");if(E&&E[h.publicAddress]){if(await se())return;Ct({game:kt(nt({},tn("game")||{}),{[h.publicAddress]:""})},30*wt)}return l?await R():(await ze(),await F()),await x(`
			Welcome${l?" back":""} to my game of secrets. In a moment, you will be matched with another player.

			I will give each of you a chip with a colored shape on it. There are only four colors (red, green, blue, black), and four shapes (triangle, square, circle, star).

			Your opponent will not be able to see your chip and vice versa. I will also take a third chip and hide it in a bag. Each chip will have a unique color and a unique shape. For example, if the chip in my bag is a red triangle, then nobody else has red, and nobody else has a triangle.

			The rules are simple. You and your opponent must exchange a message with each other. Cooperate to deduce what is in my bag and you both will advance to the next round. Betray your opponent by correctly guessing which chip they have and win their wager. Guess wrong and lose.
		`),await Q(l?800:4600),Ee()});class w extends Error{}async function V(l){let E=!0;const U=l.reveal;typeof U=="string"?i.reveal_text(U).then(()=>E&&i.spinning(!0)):i.spinning(!0);const ee=l.check,z=l.condition||l.query_fail,oe=l.rejected||l.query_fail;let Z;try{try{if(Z=await l.exec(),!ee(Z))throw Z=null,new w}finally{E=!1,l.persist_reveal||i.reveal_text("")}}catch($){if(console.error($),$ instanceof Error){const K=$.message;if(/Account does not exist/.test(K))return J("Looks like your wallet is empty. Make sure to acquire some SCRT tokens so that you can pay the gas fees for transactions.");if(/must finish current game/.test(K))return Ct({game:kt(nt({},tn("game")||{}),{[h.publicAddress]:"active"})},12*Ht),await se()?null:J("Looks like you changed browsers or cleared cache since you last joined a game with this account. Please reload and the game will attempt to resume.");if(/contract not found/i.test(K))return J("Contract not found! Are you on the right network?");if(/Game is finished/i.test(K))return Ke(),new Promise(()=>{});if(/execute contract failed/.test(K))return Xe(`Contract error: ${K}`),z($),null;if(/Request rejected/.test(K))return Xe("Transaction rejected"),oe($),null;if(/timed out/.test(K)){const le=Qt("");await me("There was a timeout error while waiting for the transaction to be included. Waiting to see if it gets included... {retries}",{retries:le});const ge=await async function Pe(Me=1){await Q(5e3);let te;try{if(te=await he.queryGameState(),!ee(te)){if(console.warn("query permit check failed on game state",te),te.finished)return await x("Your opponent ended the game because you took too long to respond."),await Ke(),null;te=null}}catch(tt){if(!(tt instanceof w))return await Xe(["Timeout error. Please try again with higher gas fee.",K]),l.query_fail?await l.query_fail(tt):null}return te||(Me>=5?(await Xe("Reached maximum retries. Seems like your transaction failed. Try again with higher gas fee?"),l.query_fail?await l.query_fail(new w):J("Unhandled query failure path.")):(le.set(`Retried ${Me===1?"once":`${Me} times`} so far...`),await Pe(Me+1)))}();if(ge)Z=ge;else return null}else{debugger;return J(`Unhandled error: ${$.stack}`)}}else return J(`Unknown error: ${$}`)}return console.log(Z),Z}async function Ee(){await i.reveal_text("ready to play?"),await m.ok("Join a game");const l=await V({reveal:"waiting for transaction to be verified... ",async exec(){return(await he.joinGame()).data.join.game_state},check(U){return U.round!==null},query_fail(){return Ee(),null}});if(!l)return;let E=l;return l.round===0&&(Ct({game:kt(nt({},tn("game")||{}),{[h.publicAddress]:"active"})},12*Ht),E=await Ge()),E.round===1||E.round===3?ft(E):(console.error(E),Ct({game:kt(nt({},tn("game")||{}),{[h.publicAddress]:"active"})},12*Ht),J("Failed to join game while waiting for transaction. You can try once more by reloading this page."))}function bt(l){var E;t(8,A=l.chip_color.split(":")[1]),t(9,g=l.chip_shape.split(":")[1]),t(10,C=(E=l.hint)==null?void 0:E.split("|")[1]),v=l.first_submit,t(22,f=new hn),f.nobody(`color:${A}`),f.nobody(`shape:${g}`),f.nobody(C)}let Oe=xt[0],Te="";async function xe(){const l=Te?Wt(Te):"",E=qt[Oe].describe[u](l);await i.reveal_text(E)}function $e(l){i.submittable(null),Oe=l.detail,Te="",xe()}let _t=!1;function ye(l){if(_t)return;_t=!0;const[E,U]=l.detail;x(`You already used "${qt[E].describe[u]("")}" last turn. Now you must use "${qt[U].describe[u]("")}".`)}function pe(){Te="",i.submittable(null),d.show(),xe()}async function et(l){if(i.submittable(null),Te=l.detail,v){const[,z]=v.split("|");z===Te&&(Te="",await x("You cannot submit a message that would contradict your previous assertion."))}const[E,U]=Te.split(":");let ee="Unknowable";Oe==="nobody_has"?C===Te?ee="Truth":(E==="color"&&U===A||E==="shape"&&U===g)&&(ee="Lie"):E==="color"&&U===A||E==="shape"&&U===g?ee="Truth":ee="Lie",await xe(),i.submittable(async()=>{d.hide(),i.submittable(null);const z=await V({async exec(){return(await he.submitAssertion(Oe,Te)).data.submit.game_state},check(oe){return v?oe.second_submit!==null:oe.first_submit!==null},query_fail(){return pe(),et(l),null},persist_reveal:!0});!z||(await i.commit(),i.spinning(!1),Fe&&Fe.kill(),Ot&&Ot.kill(),i.unsubmittable(),z.second_submit?yn(z):gn(z))},ee)}let Fe;async function ft(l,E=!1){bt(l),await i.reveal_text(""),await x("Here is your chip, player..."),await _.animate_chip_entry(A,g),E||await Q(5e3);let U=C.startsWith("color:");if(await x(`
			Round 1: I've given you the ${A} ${g} this round, and a hint that nobody has ${U?"":"a "}${C.replace(/^[^:]+:/,"")}.

			I've also given your opponent a hint. Theirs is that nobody has a certain ${U?"shape":"color"}.
		`),l.first_submit)return await i.user(Gt(l.first_submit)),gn(l,E);E||await Q(4100),Fe=new Re({eta:new Pt(l.first_round_start_block+""),kill_text:"successfully submitted"}),await x(["Now you must choose what to tell the other player. I will reveal both of your messages simultaneously once they both have been submitted. You have {clock_icon}{time_remaining}."],{clock_icon:Fe.clock,time_remaining:Fe.store}),await d.show(),E||await Q(4e3),xe()}let yt=!1,rt,Ot;async function gn(l,E=!1){var Z;bt(l);const{opponent_first_submit:U,first_extra_secret:ee}=l;if(!U&&!ee)return yt||(yt=!0,Fe&&Fe.kill("already submittted"),rt=new Re({eta:new Pt(l.first_round_start_block+""),kill_text:"also submitted theirs",terminate:Ve}),await x(["Your submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:rt.clock,time_remaining:rt.store})),await Q(5e3),gn(await he.queryGameState());rt&&rt.kill(),E||re();const z=Ie("span");if(ee){const[$,K]=ee.split("|"),le=Qt("");$==="nobody_has"?(f.nobody(K),le.set(`Your opponent has the hint that "nobody has ${Wt(K)}".`)):(f.opponent(K,!0),le.set(`Your opponent has ${Wt(K)}.`)),new mn({target:z,props:{b_mode_nobody:!1,si_assertion:K,si_known:"true"}}),await x(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:le,premise:z})}else if(U){const[$,K]=U.split("|");let le=f.clone();const ge=$==="nobody_has"&&K===C,Pe=new mn({target:z,props:{b_mode_nobody:$==="nobody_has",si_assertion:K,si_known:ge?"undeniable":""}}),Me=Pe.k_premise;Pe.$on("change",()=>{t(23,S=Me.apply),console.log(`Priori: ${f.explain()}`),console.log(`Opp1: ${le.explain()}`),console.log([f,le])}),await i.opponent([`${ke(Gt(U))} {premise}`],{premise:z})}else return J("Fatal system error: unable to parse game state");if(l.second_submit)return await i.user(Gt(l.second_submit)),yn(l,E);E||await Q(4100),Ot=new Re({eta:new Pt(l.second_submit_turn_start_block+""),kill_text:"already submitted"});const oe=((Z=l.first_submit)==null?void 0:Z.split("|")[0])==="nobody_has"?"i_have":"nobody_has";await x([`Both of you must now exchange one more message with each other. This time, I'm requiring you to submit a message about ${oe==="nobody_has"?'what "nobody has"':"your chip"}. You have {clock_icon}{time_remaining}.`],{clock_icon:Ot.clock,time_remaining:Ot.store}),await d.show(oe),xe()}let wn=!1,bn,Mt,Ft;async function yn(l,E=!1){const{opponent_second_submit:U,second_extra_secret:ee}=l;if(!U&&!ee)return wn||(wn=!0,bn&&bn.kill(),Mt=new Re({eta:new Pt(l.second_submit_turn_start_block+""),kill_text:"also submitted theirs",terminate:Ve}),await x(["Your 2nd submission has been received. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:Mt.clock,time_remaining:Mt.store})),await Q(5e3),yn(await he.queryGameState());E||re();const z=Ie("span");if(ee){const[oe,Z]=ee.split("|"),$=Qt("");oe==="nobody_has"?(t(24,q=K=>K.nobody(Z)),$.set(`Your opponent has the hint that "nobody has ${Wt(Z)}".`)):(t(24,q=K=>K.opponent(Z,!0)),$.set(`Your opponent has ${Wt(Z)}.`)),new mn({target:z,props:{b_mode_nobody:!1,si_assertion:Z,si_known:"true"}}),await x(`
				The other player tried to deceive you by submitting a false assertion. You would have known it's false given what you know about your chip and your hint.
				
				Instead, I will now reveal to you one of their secrets. They will not know that I have done any of this.

				{secret} {premise}
			`,{secret:$,premise:z})}else if(U){Mt&&Mt.kill();const[oe,Z]=U.split("|"),$=oe==="nobody_has"&&Z===C,K=new mn({target:z,props:{b_mode_nobody:oe==="nobody_has",si_assertion:Z,si_known:$?"undeniable":""}}),le=K.k_premise;K.$on("change",()=>{t(24,q=le.apply)}),await i.opponent([`${ke(Gt(U))} {premise}`],{premise:z})}else return J("Fatal system error: unable to parse game state");if(l.guess)return await i.user(Wn(l.guess)),En(l,E);Ft=new Re({eta:new Pt(l.guess_turn_start_block+""),kill_text:"successfully submitted"}),await x(`
			The time has come for you to surmise my secrets. You may either guess what is in my bag, what your opponent has, or abstain completely. You have {clock_icon}{time_remaining}.

			The precedence for winning is as follows:
			- [Guess wrong] < [Abstain] < [Correctly guess arbiter's bag] < [Corrrectly guess opponent's chip]

			Use the inline widgets next to each assertion above to logically reduce your option space.
		`,{clock_icon:Ft.clock,time_remaining:Ft.store}),await y.show(),console.log(l)}async function kn(l){i.submittable(null),await i.reveal_text(Wn(l),30),i.submittable(async()=>{i.submittable(null),y.hide();const E=await V({async exec(){return(await he.submitGuess(l)).data.guess.game_state},check(U){return U.guess!==null},query_fail(){return y.show(),kn(l),null},persist_reveal:!0});!E||(await i.commit(),i.unsubmittable(),Ft.kill(),En(E))})}let vn=!1,Sn=!1,Ut;async function En(l,E=!1){const{round_result:U,round:ee,result:z}=l;let oe=!1;if(U&&!vn){vn=!0;const[Z,$]=U.split("|");$==="wrong"?(await x(`
					Sorry, your guess about ${Z==="opponent"?"your opponent's chip":"my bag"} was wrong.
					
					Guessing wrong is the worst because you automatically lose your wager. Consider abstaining next time if you're unsure.
				`),oe=!0):await x(`Nicely done, your guess about ${Z==="opponent"?"your opponent's chip":"my bag"} was correct!`)}if(!l.opponent_guess)return Sn||(Sn=!0,Ut=new Re({eta:new Pt(l.guess_turn_start_block+""),kill_text:"now submitted",terminate:Ve}),await x(`${oe?"Even though you lost":"However"}, I am still waiting for a guess from your opponent. They have {clock_icon}{time_remaining}.`,{clock_icon:Ut.clock,time_remaining:Ut.store})),await Q(5e3),En(await he.queryGameState());if(Ut&&Ut.kill(),t(10,C=""),_.animate_chip_exit(),console.log("round_1d#over",l),l.finished)if(l.opponent_round_result){const{opponent_round_result:Z,opponent_guess:$}=l,[K,le,ge]=$.split(/\|/g),[,Pe]=Z.split("|");let Me="",te=!1;if(K==="abstain")Me="abstained from guessing";else{const tt=le.split(":")[1],Dt=ge.split(":")[1],an=jt[tt].labels[u]+" "+Zt[Dt].labels[u];te=Pe!=="correct",Me=`${te?"wrongly":"correctly"} guessed that ${K==="bag"?"my bag":"your chip"} is the ${an}`}if(z==="you lost wager")return await x([`${oe?"As you already know":"Bad news"}, you lost your wager. ${te?"But you'll be happy to know that your opponent":"Your opponent"} ${Me}, so they ${te?"also lost their wager":"won the game and gained your lost wager"}.`]),await Q(9e3),Ke();if(z==="you won wager"){const tt=BigInt(l.wager),Dt=_n(tt),an=_n(tt*2n);return await x(`
						Congratulations, you won! Your opponent ${Me}, so they lost their wager.
						
						I have refunded you your original ${Dt} plus an extra ${Dt} from your opponent's wager for a total of ${an}.
					`),await Q(9e3),Ke()}else await x([`Well done. You and your opponent have tied, so you both can claim a reward. They ${Me}.`]),E||await Q(4e3)}else return J("Somebody terminated the game.");else if(l.round===3)Qn(l,E);else return J(`Game is not finished but round is ${l.round}.`)}let Gs=!1,Lt;async function Qn(l,E=!1){if(Lt=new Re({eta:new Pt(l.pick_reward_round_start_block+""),kill_text:"made your decision"}),await be.trumpet_fanfare.play(),await Q(1500),await x(`
			Congratulations on passing round 1 together! I have two rewards to choose from, a jackpot of SCRT, or an NFT that can be used to give you special powers next time you play.

			However, if you both attempt to claim the same prize, then neither of you will take it. You will only be able to take a reward if you and your opponent claim different things.

			You have {clock_icon}{time_remaining}.
		`,{clock_icon:Lt.clock,time_remaining:Lt.store}),l.pick)return Cn(l,!0);p.show()}async function Hn(l){const{detail:E}=l;i.submittable(null),await i.reveal_text(`i pick the ${E}`),i.submittable(async()=>{i.submittable(null),p.hide();const U=await V({async exec(){return(await he.pickReward(E)).data.pick_reward.game_state},check(ee){return ee.pick!==null},query_fail(){return p.show(),Hn(l),null},persist_reveal:!0});!U||(await i.commit(),i.unsubmittable(),Cn(U))})}let on,Pn=!1;async function Cn(l,E=!1){Lt&&Lt.kill();const{result:U}=l;if(U){switch(U){case"you won jackpot":{ie(),await x(`
						Fortune favors the bold! Your opponent picked the NFT, and you have successfully claimed the jackpot of ${_n(BigInt(l.jackpot_reward||"0"))}!
					`);break}case"you won nft":{Tt(),await x(`
						Wise move. While your opponent chose the short-term gain, you see the long-term potential. You have successfully claimed an NFT.
					`);break}case"you lost reward":{Tt(),l.pick==="jackpot"?await x(`
							Greed has spoiled your riches. Both players attempted to claim the jackpot, so you both shall leave empty-handed.
						`):await x(`
							An unlucky pick. Both players attempted to claim the NFT, so you both shall leave empty-handed.
						`);break}}return await Q(9e3),Ke()}else return Pn||(Pn=!0,on=new Re({eta:new Pt(l.pick_reward_round_start_block+""),kill_text:"also picked theirs",terminate:Ve}),await x(["Your pick has been noted. Your opponent has {clock_icon}{time_remaining}."],{clock_icon:on.clock,time_remaining:on.store})),await Q(5e3),Cn(await he.queryGameState())}function Wn(l){let E;if(typeof l=="string"?E=Object.fromEntries(l.split(/\|/g).map(U=>U.split(":"))):E=l,E.target==="abstain")return"i abstain from guessing this round";{let U="";return E.target==="bag"?U+="the arbiter's bag is: a ":U+="my opponent's chip is: a ",U+jt[E.color].labels[u]+" "+Zt[E.shape].labels[u]}}async function Fs(){kn({target:"abstain",color:null,shape:null})}async function zs({detail:l}){kn(l)}let An=!1;function Gn(){if(!An)An=!0,Xe("The button you just clicked will remove all cookies and cache that the game previously created and then disable the current UI. If you agree to this, click the burn icon again.");else return Object.keys(dn()).forEach(l=>nn(l)),localStorage.clear(),i.reveal_text(""),J("Cache burned")}const wo=[];ma.keys(e).forEach(l=>{!~wo.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&pa.warn(`<App> was created with unknown prop '${l}'`)});const bo=()=>t(0,ve=!ve),yo=()=>Gn();function ko(l){i=l,t(2,i)}function vo(l){Ne[l?"unshift":"push"](()=>{ae=l,t(11,ae)})}function So(l){m=l,t(5,m)}function Eo(l){d=l,t(4,d)}function Po(l){y=l,t(6,y)}function Co(l){p=l,t(7,p)}function Ao(l){_=l,t(3,_)}function To(l){Ne[l?"unshift":"push"](()=>{Ze=l,t(12,Ze)})}return n.$capture_state=()=>({onMount:Jt,setContext:wi,writable:Qt,blur:vt,fade:de,quadInOut:Et,expoOut:St,Fa:je,faClock:bi,faVolumeUp:$n,faVolumeMute:xn,faFire:yi,fingerprintjs:ki,H_LANGUAGES:vi,H_COLORS:jt,H_SHAPES:Zt,A_BASES:xt,H_BASES:qt,H_MESSAGES:Si,SI_CHAIN:es,S_CHAIN_NAME:Rn,P_LCD_REST:On,P_LCD_RPC:un,uscrt_to_scrt:_n,KeplrWallet:en,EnableKeplrError:as,OfflineSignerError:rs,dd:Ie,delete_cookie:nn,read_cookie:dn,read_cookie_json:tn,write_cookie:Ct,XTL_SECONDS:it,XTL_HOURS:Ht,XTL_DAYS:wt,ode:Ye,proper:ke,timeout:Q,relative_time:Ti,Killables:ji,Deduction:hn,use_assertion_in_sentence:Gt,use_quality_in_sentence:Wt,MessagePanel:Gi,Prompt:Ji,Assertion:oo,Scene:ro,PremiseWidget:mn,Decision:_o,ActionWidget:ho,Pick:po,SI_PERMIT:os,ContractError:fn,EtaEstimator:Pt,GameContract:Oi,P_CONTRACT_GAME_ADDR:Nt,SI_CONTRACT_GAME_CODE_HASH:Ni,P_CONTRACT_MINTER_ADDR:$t,SI_CONTRACT_MINTER_CODE_HASH:Ii,MinterContract:Mi,EncryptedLocalStorage:Ls,NftCard:go,F_IDENTITY:Ws,G_NETWORK_SUMMARY:a,g_permit:c,s_lang:u,k_panel:i,k_scene:_,k_tx:d,k_prompt:m,k_decision:y,k_pick:p,k_wallet:h,k_killables:b,si_player_color:A,si_player_shape:g,si_player_hint:C,si_submit_first:v,k_priori:f,f_assert_1:S,f_assert_2:q,quiet_fade:I,d_img_monster:M,d_img_smile:N,reveal_prepared:L,introduction:F,welcome_back:R,reload:_e,fatal:J,surprise:ze,connect_wallet:Ae,wait_for_other_player:Ge,H_AUDIO_SRC:ne,H_AUDIO:be,b_muted:ve,h_cookie:Je,k_minter:at,k_game:he,force_endgame:Ve,Countdown:Re,game_over:Ke,try_resume_game:se,b_surprise:It,dm_surprise:ae,clone_audio:ut,play_menu_1a:At,play_menu_1b:Se,play_notif:re,play_coin:D,play_jackpot:ie,play_death:Tt,warn:me,err:Xe,arbiter:x,dm_gallery:Ze,display_nfts:Rt,GameStateError:w,safe_exec:V,try_join:Ee,update_player_state:bt,si_assert_basis:Oe,si_assert_quality:Te,reveal_tx:xe,select_basis:$e,b_force_rejected:_t,force_reject:ye,reset_tx:pe,select_quality:et,k_countdown_1a:Fe,round_1a:ft,b_notif_1b_waiting:yt,k_countdown_1a2:rt,k_countdown_1b:Ot,round_1b:gn,b_notif_1c_waiting:wn,k_countdown_1b2:bn,k_countdown_1c:Mt,k_countdown_1c2:Ft,round_1c:yn,prepare_guess:kn,b_notif_1d_result:vn,b_notif_1d_waiting:Sn,k_countdown_1d:Ut,round_1d:En,b_notif_3a_waiting:Gs,k_countdown_3a:Lt,round_3a:Qn,select_pick:Hn,k_countdown_3b:on,b_notif_3b_waiting:Pn,round_3b:Cn,use_guess_in_sentence:Wn,select_abstain:Fs,select_decision:zs,b_burn_clicked:An,burn:Gn,k_deduced:s}),n.$inject_state=l=>{"g_permit"in l&&(c=l.g_permit),"s_lang"in l&&(u=l.s_lang),"k_panel"in l&&t(2,i=l.k_panel),"k_scene"in l&&t(3,_=l.k_scene),"k_tx"in l&&t(4,d=l.k_tx),"k_prompt"in l&&t(5,m=l.k_prompt),"k_decision"in l&&t(6,y=l.k_decision),"k_pick"in l&&t(7,p=l.k_pick),"k_wallet"in l&&(h=l.k_wallet),"si_player_color"in l&&t(8,A=l.si_player_color),"si_player_shape"in l&&t(9,g=l.si_player_shape),"si_player_hint"in l&&t(10,C=l.si_player_hint),"si_submit_first"in l&&(v=l.si_submit_first),"k_priori"in l&&t(22,f=l.k_priori),"f_assert_1"in l&&t(23,S=l.f_assert_1),"f_assert_2"in l&&t(24,q=l.f_assert_2),"b_muted"in l&&t(0,ve=l.b_muted),"h_cookie"in l&&t(1,Je=l.h_cookie),"k_minter"in l&&(at=l.k_minter),"k_game"in l&&(he=l.k_game),"b_surprise"in l&&(It=l.b_surprise),"dm_surprise"in l&&t(11,ae=l.dm_surprise),"dm_gallery"in l&&t(12,Ze=l.dm_gallery),"si_assert_basis"in l&&(Oe=l.si_assert_basis),"si_assert_quality"in l&&(Te=l.si_assert_quality),"b_force_rejected"in l&&(_t=l.b_force_rejected),"k_countdown_1a"in l&&(Fe=l.k_countdown_1a),"b_notif_1b_waiting"in l&&(yt=l.b_notif_1b_waiting),"k_countdown_1a2"in l&&(rt=l.k_countdown_1a2),"k_countdown_1b"in l&&(Ot=l.k_countdown_1b),"b_notif_1c_waiting"in l&&(wn=l.b_notif_1c_waiting),"k_countdown_1b2"in l&&(bn=l.k_countdown_1b2),"k_countdown_1c"in l&&(Mt=l.k_countdown_1c),"k_countdown_1c2"in l&&(Ft=l.k_countdown_1c2),"b_notif_1d_result"in l&&(vn=l.b_notif_1d_result),"b_notif_1d_waiting"in l&&(Sn=l.b_notif_1d_waiting),"k_countdown_1d"in l&&(Ut=l.k_countdown_1d),"b_notif_3a_waiting"in l&&(Gs=l.b_notif_3a_waiting),"k_countdown_3a"in l&&(Lt=l.k_countdown_3a),"k_countdown_3b"in l&&(on=l.k_countdown_3b),"b_notif_3b_waiting"in l&&(Pn=l.b_notif_3b_waiting),"b_burn_clicked"in l&&(An=l.b_burn_clicked),"k_deduced"in l&&t(13,s=l.k_deduced)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty[0]&29360128&&t(13,s=q(S(f.clone()).clone()).clone()),n.$$.dirty[0]&3&&Je&&(Object.values(be).forEach(l=>l.muted=ve),Ct({muted:ve?"1":"0"},30*wt))},[ve,Je,i,_,d,m,y,p,A,g,C,ae,Ze,s,b,$e,ye,et,Hn,Fs,zs,Gn,f,S,q,bo,yo,ko,vo,So,Eo,Po,Co,Ao,To]}class wa extends dt{constructor(e){super(e);ht(this,e,ga,Hs,mt,{},null,[-1,-1,-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:Hs.name})}}new wa({target:document.body,props:{}});
//# sourceMappingURL=index.6314beb1.js.map
